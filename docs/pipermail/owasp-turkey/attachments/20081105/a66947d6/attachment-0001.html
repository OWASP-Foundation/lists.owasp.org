<tt>
&lt;blockquote&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;Benim&nbsp;gordugum&nbsp;DDOS&nbsp;konusunda&nbsp;yapilan&nbsp;en&nbsp;buyuk&nbsp;yanlis&nbsp;islem&nbsp;saldiriyi<br>
application&nbsp;seviyesinde&nbsp;eritmeye&nbsp;calismak&nbsp;ki&nbsp;bu&nbsp;da&nbsp;network&nbsp;seviyesine<br>
gore&nbsp;%60-%70&nbsp;daha&nbsp;pahaliya&nbsp;mal&nbsp;oluyor.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Durumuna&nbsp;gore&nbsp;degisir&nbsp;tabii&nbsp;ki,&nbsp;ama&nbsp;hafif&nbsp;zeki&nbsp;olan&nbsp;herhangi&nbsp;bir&nbsp;GET&nbsp;istegi&nbsp;bazli&nbsp;DDoS&nbsp;da&nbsp;firewall&nbsp;bazinda&nbsp;engelleme&nbsp;yapmak&nbsp;(&lt;i&gt;firewall&nbsp;cok&nbsp;zeki&nbsp;bir&nbsp;sey&nbsp;degils&lt;/i&gt;e)&nbsp;pek&nbsp;mumkun&nbsp;degil.&nbsp;Tahminim&nbsp;buradaki&nbsp;durumda&nbsp;o.&nbsp;Ama&nbsp;HTTP&nbsp;istegini&nbsp;analiz&nbsp;edebilen&nbsp;cozumler&nbsp;varsa&nbsp;sonuc&nbsp;uretecektir,&nbsp;bu&nbsp;konuda&nbsp;oneri&nbsp;varsa&nbsp;acikcasi&nbsp;bende&nbsp;merak&nbsp;ediyorum.&nbsp;Cunku&nbsp;sýk&nbsp;sýk&nbsp;karsima&nbsp;gelen&nbsp;konulardan&nbsp;biri&nbsp;ve&nbsp;maalesef&nbsp;pek&nbsp;basit&nbsp;bir&nbsp;cozumu&nbsp;yok.&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2008/11/5&nbsp;Huzeyfe&nbsp;ONAL&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:huzeyfe@lifeoverip.net&quot;&gt;huzeyfe@lifeoverip.net&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Musa&nbsp;selamlar,&lt;br&gt;<br>
&lt;br&gt;<br>
mumkunse&nbsp;kullanilan&nbsp;software&nbsp;firewall&amp;#39;un&nbsp;ismini&nbsp;ogrenebilir&nbsp;miyim?&nbsp;Zira&nbsp;bana&nbsp;degerler&nbsp;cok&nbsp;az&nbsp;geldi.&nbsp;Yani&nbsp;en&nbsp;basit&nbsp;Firewall&nbsp;bile&nbsp;bu&nbsp;degerler&nbsp;karsisinda&nbsp;rahatlikla&nbsp;ayakta&nbsp;durur.&nbsp;Es&nbsp;zamanli&nbsp;30000~&nbsp;paket&nbsp;ya&nbsp;da&nbsp;ortalama&nbsp;20000~&nbsp;state&nbsp;durumunda&nbsp;bile&nbsp;%5&nbsp;civarinda&nbsp;CPU&nbsp;harcayan&nbsp;software&nbsp;firewallar&nbsp;var.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
Mesela&nbsp;OpenBSD&nbsp;Packet&nbsp;Filter&nbsp;ve&nbsp;benzeri&nbsp;firewallar&nbsp;icin&nbsp;yogun&nbsp;&amp;nbsp;paketler&nbsp;80.&nbsp;port(uygulamaya&nbsp;ulasmadan)a&nbsp;gitmeden&nbsp;network&nbsp;seviyesinde&nbsp;bloklanabilir.&nbsp;Bunun&nbsp;icin&nbsp;firewall&amp;#39;a&nbsp;&amp;nbsp;tek&nbsp;bir&nbsp;ip&nbsp;adresinden&nbsp;su&nbsp;porta&nbsp;max&nbsp;baglanti&nbsp;sayisi&nbsp;y&nbsp;dir&nbsp;demek&nbsp;yeterli.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
Paketler&nbsp;uygulama&nbsp;seviyesine&nbsp;ciktiginda&nbsp;engellemek&nbsp;hem&nbsp;daha&nbsp;zor&nbsp;hem&nbsp;de&nbsp;cok&nbsp;daha&nbsp;fazla&nbsp;kaynak&nbsp;tuketiyorlar.&lt;br&gt;<br>
&lt;br&gt;<br>
Benim&nbsp;gordugum&nbsp;DDOS&nbsp;konusunda&nbsp;yapilan&nbsp;en&nbsp;buyuk&nbsp;yanlis&nbsp;islem&nbsp;saldiriyi&nbsp;application&nbsp;seviyesinde&nbsp;eritmeye&nbsp;calismak&nbsp;ki&nbsp;bu&nbsp;da&nbsp;network&nbsp;seviyesine&nbsp;gore&nbsp;%60-%70&nbsp;daha&nbsp;pahaliya&nbsp;mal&nbsp;oluyor.&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Musa&nbsp;Ulker&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Tekrar&nbsp;merhabalar,&lt;br&gt;<br>
&lt;br&gt;<br>
Ferruh;&nbsp;Çok&nbsp;ilginçtir&nbsp;denediðim&nbsp;modlar&nbsp;kaldýramadý&nbsp;apachede&nbsp;ciddi&nbsp;yük&lt;br&gt;<br>
durmaya&nbsp;devam&nbsp;etti.&nbsp;&amp;nbsp;Buradaki&nbsp;bottleneck&nbsp;software&nbsp;firewall&nbsp;ataklarý&lt;br&gt;<br>
durdurmadý&nbsp;yeterli&nbsp;olmadý.&nbsp;Yüklenen&nbsp;ip&nbsp;sayýsý&nbsp;baþta&nbsp;1&nbsp;5&nbsp;10&nbsp;diye&nbsp;deðil&lt;br&gt;<br>
de&nbsp;ayný&nbsp;anda&nbsp;100+&nbsp;þeklinde&nbsp;olunca&nbsp;ve&nbsp;iplerde&nbsp;deðiþtiði&nbsp;için&nbsp;çok&nbsp;kýsa&lt;br&gt;<br>
aralýklarla&nbsp;(1dkdan&nbsp;az&nbsp;süre&nbsp;için)&nbsp;yeni&nbsp;ipleri&nbsp;yakalayamadý&nbsp;ve&lt;br&gt;<br>
apacheyi,&nbsp;apachede&nbsp;çalýþan&nbsp;uygulama&nbsp;da&nbsp;mysql&nbsp;i&nbsp;kilitledi..&lt;br&gt;<br>
&lt;br&gt;<br>
Benim&nbsp;örnek&nbsp;verdiðim&nbsp;%30&nbsp;sadece&nbsp;bir&nbsp;tane&nbsp;apache&nbsp;forku&nbsp;için.&nbsp;Maksimum&lt;br&gt;<br>
olaný&nbsp;içindi.&nbsp;Firewall&nbsp;çalýþmadan&nbsp;sistem&nbsp;kitleniyordu,&nbsp;ssha&nbsp;bile&lt;br&gt;<br>
eriþilmiyordu.&nbsp;Firewallla&nbsp;CPU&nbsp;kullanýmý&nbsp;%80-85&nbsp;civarýnda&nbsp;seyretmeye&lt;br&gt;<br>
baþladý.&nbsp;Ayný&nbsp;anda&nbsp;mevcut&nbsp;80&nbsp;portuna&nbsp;connection&nbsp;sayýsý&nbsp;200+&lt;br&gt;<br>
civarýndaydý..&lt;br&gt;<br>
&lt;br&gt;<br>
Saldýrý&nbsp;detayý:&nbsp;Connect&nbsp;flood.&nbsp;Sürekli&nbsp;GET&nbsp;isteði.&nbsp;Saldýrý&nbsp;çalýþan&lt;br&gt;<br>
uygulama&nbsp;üzerinden&nbsp;mysql&nbsp;i&nbsp;devre&nbsp;dýþý&nbsp;býrakmaya&nbsp;yönelik&nbsp;olduðunu&lt;br&gt;<br>
düþünüyorum.&nbsp;Daha&nbsp;önceden&nbsp;benzer&nbsp;bir&nbsp;saldýrrýyla&nbsp;karþýlaþmýþtým..&lt;br&gt;<br>
Gelen&nbsp;paketler&nbsp;gayet&nbsp;normal&nbsp;gözüküyor.&nbsp;Arada&nbsp;malformed&nbsp;requestlerde&lt;br&gt;<br>
geliyordu&nbsp;ama&nbsp;baþka&nbsp;bir&nbsp;kaynaktan&nbsp;olabilir.&lt;br&gt;<br>
&lt;br&gt;<br>
Kubilay;&nbsp;Rusya&nbsp;IP&nbsp;bloklarý&nbsp;konusunda&nbsp;araþtýrma&nbsp;yaparken&nbsp;þöyle&nbsp;bir&lt;br&gt;<br>
siteyle&nbsp;karþýlaþtým,&nbsp;incelemenizi&nbsp;tavsiye&nbsp;ederim:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.countryipblocks.net/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.countryipblocks.net/&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Bedirhan;&nbsp;Apache&nbsp;KeepAlive&nbsp;konfigurasyonda&nbsp;kapalýydý.&nbsp;Apache&nbsp;backdoor&lt;br&gt;<br>
module&nbsp;gibi&nbsp;birþeyler&nbsp;buldum&nbsp;ama&nbsp;bulduðum&nbsp;apache&nbsp;üzerinden&nbsp;backdoor&lt;br&gt;<br>
açan&nbsp;bir&nbsp;moduledu.&nbsp;Senin&nbsp;bahsettiðin&nbsp;modülü&nbsp;paylaþýr&nbsp;mýsýn?&lt;br&gt;<br>
&lt;br&gt;<br>
DNS&nbsp;güncellemsi&nbsp;aklýma&nbsp;geldi&nbsp;ama&nbsp;zararlarýný&nbsp;kýyaslayýnca&nbsp;çözümler&lt;br&gt;<br>
arasýndan&nbsp;çýkardým..&lt;br&gt;<br>
&lt;br&gt;<br>
Aklýn&nbsp;yolu&nbsp;bir:&nbsp;HW&nbsp;firewallarla&nbsp;çözüldü&nbsp;olay.&nbsp;Reverse&nbsp;proxy&nbsp;ile&nbsp;baþka&lt;br&gt;<br>
bir&nbsp;sunucuya&nbsp;yönlendirildi&nbsp;istekler&nbsp;ve&nbsp;o&nbsp;sunucu&nbsp;önünde&nbsp;Layer&nbsp;7&lt;br&gt;<br>
filtering&nbsp;yapýldý.&nbsp;(Juniper&nbsp;üzerinden&nbsp;custom&nbsp;filterlarla)&lt;br&gt;<br>
&lt;br&gt;<br>
Herkese&nbsp;gösterdiði&nbsp;açýlýmlar&nbsp;ve&nbsp;verdiði&nbsp;cevaplardan&nbsp;dolayý&nbsp;teþekkür&nbsp;ediyorum..&lt;br&gt;<br>
&lt;br&gt;<br>
Selamlar,&lt;br&gt;<br>
&lt;br&gt;<br>
M.Musa&nbsp;Ülker&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
2008/11/4&nbsp;Ferruh&nbsp;Mavituna&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:ferruh@mavituna.com&quot;&nbsp;target=&quot;_blank&quot;&gt;ferruh@mavituna.com&lt;/a&gt;&amp;gt;:&lt;br&gt;<br>
&nbsp;&amp;nbsp;&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Merhabalar&nbsp;Musa,&lt;br&gt;<br>
&lt;br&gt;<br>
Benim&nbsp;merak&nbsp;ettigim&nbsp;esas&nbsp;kilit&nbsp;noktasi&nbsp;neresi?&nbsp;(gavurlarin&nbsp;tabiri&nbsp;ile&lt;br&gt;<br>
bottleneck).&nbsp;Yani&nbsp;application&nbsp;da&nbsp;mi&nbsp;is&nbsp;kitleniyor,&nbsp;ondeki&nbsp;firewall&nbsp;mu&lt;br&gt;<br>
sapitmaya&nbsp;basliyor,&nbsp;load&nbsp;balancer&nbsp;mi&nbsp;vs.&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
Apache&nbsp;process&amp;#39;&nbsp;i&nbsp;%30&nbsp;ise&nbsp;,&nbsp;uygulamada&nbsp;veya&nbsp;Apache&nbsp;de&nbsp;bir&nbsp;sorun&nbsp;&amp;nbsp;yok&nbsp;diye&lt;br&gt;<br>
varsayiyorum.&nbsp;Database&nbsp;server&nbsp;ne&nbsp;alemde&nbsp;onda&nbsp;da&nbsp;ciddi&nbsp;bir&nbsp;yuklenme&nbsp;yok&nbsp;mu?&lt;br&gt;<br>
&lt;br&gt;<br>
Bir&nbsp;de&nbsp;saldirinin&nbsp;detaylari&nbsp;ne?&nbsp;Syn-flood,&nbsp;connect-flood,&nbsp;yogun&nbsp;application&lt;br&gt;<br>
istekleri&nbsp;(HTTP&nbsp;vs.)?&nbsp;&amp;nbsp;veya&nbsp;baska&nbsp;bir&nbsp;port&nbsp;acikta&nbsp;onun&nbsp;uzerinden&nbsp;mi&nbsp;bir&nbsp;sey&lt;br&gt;<br>
yapiliyor?&nbsp;gelen&nbsp;paketlerin&nbsp;tum&nbsp;degerleri&nbsp;normal&nbsp;mi?&nbsp;Mesela&nbsp;tuhaf&nbsp;window&lt;br&gt;<br>
size&nbsp;lari&nbsp;var&nbsp;mi&nbsp;vs.&lt;br&gt;<br>
&lt;br&gt;<br>
Sonucta&nbsp;DDoS&nbsp;ataklari&nbsp;engellemek&nbsp;cok&nbsp;zor&nbsp;olabiliyor&nbsp;ama&nbsp;bu&nbsp;bilgileri&lt;br&gt;<br>
verirsen&nbsp;daha&nbsp;detayli&nbsp;yardimci&nbsp;olunabilir&nbsp;sanirim.&lt;br&gt;<br>
&lt;br&gt;<br>
Iyi&nbsp;Calismalar,&lt;br&gt;<br>
&lt;br&gt;<br>
2008/11/4&nbsp;Musa&nbsp;Ulker&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:musaulker@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;musaulker@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Merhabalar,&lt;br&gt;<br>
&lt;br&gt;<br>
Dedicated&nbsp;bir&nbsp;sunucuya&nbsp;bir&nbsp;çok&nbsp;koldan&nbsp;DDos&nbsp;saldýrýsý&lt;br&gt;<br>
gerçekleþtiriliyor.&nbsp;En&nbsp;çok&nbsp;yük&nbsp;Apache&nbsp;üzerinde.&nbsp;Apache&nbsp;CPU&nbsp;load&amp;#39;ý&nbsp;%30u&lt;br&gt;<br>
geçebiliyor&nbsp;farklý&nbsp;apache&nbsp;processleri&nbsp;çalýþýyor.&nbsp;Türlü&nbsp;çalýþmalar&lt;br&gt;<br>
yaptým;&nbsp;firewallar&nbsp;(salt&nbsp;iptables,&nbsp;apf,&nbsp;csf&nbsp;vs)&nbsp;denedim,&nbsp;ddos&lt;br&gt;<br>
protectionlarý&nbsp;test&nbsp;ettim&nbsp;ama&nbsp;saldýrýyý&nbsp;tam&nbsp;olarak&nbsp;kesemedim.&nbsp;Birazcýk&lt;br&gt;<br>
yükü&nbsp;hafifletebildim.&nbsp;Zombie&nbsp;makinalar&nbsp;üzerinden&nbsp;saldýrý&nbsp;halen&nbsp;devam&lt;br&gt;<br>
ediyor.&lt;br&gt;<br>
&lt;br&gt;<br>
Bu&nbsp;konuda&nbsp;nasýl&nbsp;bir&nbsp;yol&nbsp;izlemem&nbsp;gerekiyor?&lt;br&gt;<br>
&lt;br&gt;<br>
Teþekkürler&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
M.Musa&nbsp;Ülker&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Owasp-turkey&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Owasp-turkey@lists.owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;Owasp-turkey@lists.owasp.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.owasp.org/mailman/listinfo/owasp-turkey&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.owasp.org/mailman/listinfo/owasp-turkey&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
Ferruh&nbsp;Mavituna&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://ferruh.mavituna.com&quot;&nbsp;target=&quot;_blank&quot;&gt;http://ferruh.mavituna.com&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;<br>
---------------------------------------------------------------------&lt;br&gt;<br>
To&nbsp;unsubscribe,&nbsp;e-mail:&nbsp;&lt;a&nbsp;href=&quot;mailto:netsec-unsubscribe@lifeoverip.net&quot;&nbsp;target=&quot;_blank&quot;&gt;netsec-unsubscribe@lifeoverip.net&lt;/a&gt;&lt;br&gt;<br>
For&nbsp;additional&nbsp;commands,&nbsp;e-mail:&nbsp;&lt;a&nbsp;href=&quot;mailto:netsec-help@lifeoverip.net&quot;&nbsp;target=&quot;_blank&quot;&gt;netsec-help@lifeoverip.net&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Ferruh&nbsp;Mavituna&lt;br&gt;&lt;a&nbsp;href=&quot;http://ferruh.mavituna.com&quot;&gt;http://ferruh.mavituna.com&lt;/a&gt;&lt;br&gt;
</tt>
