<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-turkey] SQL Injection'dan ka&#231;mak.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20%3D%3Fiso-8859-9%3Fq%3FSQL_Injection%3D27dan_ka%3DE7mak%3D2E%3F%3D&In-Reply-To=5c4369570709060220l791ae90nd7ced7fac20cab9b%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000198.html">
   <LINK REL="Next"  HREF="000200.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-turkey] SQL Injection'dan ka&#231;mak.</H1>
    <B>Ferruh Mavituna</B> 
    <A HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20%3D%3Fiso-8859-9%3Fq%3FSQL_Injection%3D27dan_ka%3DE7mak%3D2E%3F%3D&In-Reply-To=5c4369570709060220l791ae90nd7ced7fac20cab9b%40mail.gmail.com"
       TITLE="[Owasp-turkey] SQL Injection'dan ka&#231;mak.">ferruh at mavituna.com
       </A><BR>
    <I>Thu Sep  6 05:44:34 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000198.html">[Owasp-turkey] SQL Injection'dan ka&#231;mak.
</A></li>
        <LI>Next message: <A HREF="000200.html">[Owasp-turkey] SQL Injection'dan ka&#231;mak.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#199">[ date ]</a>
              <a href="thread.html#199">[ thread ]</a>
              <a href="subject.html#199">[ subject ]</a>
              <a href="author.html#199">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Cok pratik ORM cozumleri var kucuk buyuk her projeye gidecek sekilde. Bence
ORM hem guvenlik hem de yapi acisindan hemen hemen her proje icin mantikli.

Datalari kontrol konusunda benim fikrim datayi dbye almadan once
gerekliligini kabul etmek. Eger sistemde kullanici adlari 20 karakterden
kisa ve icerlerinde sadece a-z bulunabiliyorsa bunu almadan once kontrol
etmek bence iyi bir fikir. Hem guvenlik hem de sistemin guzelligi acisindan.


Onun harici sadece SQL Injection icin kontrol ediliyorsa parameterized query
lerde bence de boyle bir seye gerek yok.

On 06/09/07, Bunyamin DEMIR &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">bunyamindemir at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Merhabalar,
</I>&gt;<i>
</I>&gt;<i> Parametrize mekanizmas&#305;n&#305; kulland&#305;ktan sonra sql e gelen inputlar&#305; bir
</I>&gt;<i> daha validate etmenin bir anlam&#305; olur mu acaba?
</I>&gt;<i>
</I>&gt;<i> Bana fazladan bir y&#252;k gibi geliyor.  Tecr&#252;be edinen oldu mu?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sayg&#305;lar,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2007/9/6, Oguzhan YILMAZ &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">aspsrc at gmail.com</A>&gt;:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hm! San&#305;r&#305;m geni&#351; &#231;apl&#305; proejler i&#231;in en ideal ORM frameworkleri
</I>&gt;<i> &gt; kullanmak. Orta &#246;l&#231;ekli projelerde ise ki  (ise ile ki b&#246;yle kullan&#305;lmaz
</I>&gt;<i> &gt; herhalde :o) ) &#231;ok sql i&#351;lemi olmayan, parameterized tekni&#287;ini kullanmak.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Bende genelde gelen parametreleri validate ettikten sonra a&#351;a&#287;&#305;daki gibi
</I>&gt;<i> &gt; bir parametrize sorgular&#305; tercih ediyorum.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; private System.Data.OleDb.OleDbCommand[] _commandCollection;
</I>&gt;<i> &gt;  private void InitCommandCollection() {
</I>&gt;<i> &gt;             this._commandCollection = new
</I>&gt;<i> &gt; System.Data.SqlClient.SqlCommand[1];
</I>&gt;<i> &gt;             this._commandCollection[0] = new
</I>&gt;<i> &gt; System.Data.SqlClient.SqlCommand();
</I>&gt;<i> &gt;             this._commandCollection[0].Connection = this.Connection;
</I>&gt;<i> &gt;             this._commandCollection[0].CommandText = @&quot;SELECT a,b,c FROM
</I>&gt;<i> &gt; HOPPA WHERE hop1=@Param AND hop2=@Param2&quot;;
</I>&gt;<i> &gt;             this._commandCollection[0].CommandType =
</I>&gt;<i> &gt; System.Data.CommandType.Text;
</I>&gt;<i> &gt;             this._commandCollection[0].Parameters.Add(new
</I>&gt;<i> &gt; System.Data.SqlClient.SqlParameter(&quot;@Param1&quot;,
</I>&gt;<i> &gt; System.Data.SqlDbType.VarChar , 1024));
</I>&gt;<i> &gt;             this._commandCollection[0].Parameters.Add(new
</I>&gt;<i> &gt; System.Data.SqlClient.SqlParameter(&quot;@Param2&quot;,
</I>&gt;<i> &gt; System.Data.SqlDbType.VarChar, 35));
</I>&gt;<i> &gt;         }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; En nihayetinde bundan ka&#231;mak o kadar zor bi&#351;i de&#287;il san&#305;r&#305;m...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2007/9/6, Ferruh Mavituna &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">ferruh at mavituna.com</A>&gt;:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Guzel bir ornekmis, biraz da ilginc geldi. Yarisinda kullanip
</I>&gt;<i> &gt; &gt; yarisinda kullanmamak :)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; On 06/09/07, Bedirhan Urgun &lt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">urgunb at hotmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Ferruh iyilesmis anlasilan. :)
</I>&gt;<i> &gt; &gt; &gt; Bahsettigi %0.01 ile alakali 3-4 gun once karsilastigim bir kod (bir
</I>&gt;<i> &gt; &gt; &gt; Java metodu. Yorumlarim asagida);
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; /*=======================*/
</I>&gt;<i> &gt; &gt; &gt; public boolean XXXIptalSorgu() throws FileNotFoundException,
</I>&gt;<i> &gt; &gt; &gt; IOException {
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;         StringBuffer sb = new StringBuffer();
</I>&gt;<i> &gt; &gt; &gt;         PreparedStatement stmt = null;
</I>&gt;<i> &gt; &gt; &gt;         ResultSet rset = null;
</I>&gt;<i> &gt; &gt; &gt;         try {
</I>&gt;<i> &gt; &gt; &gt;             connCA = utils.getCADBConnection(altkokno);
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;             stmt = connCA.prepareStatement(&quot;SELECT
</I>&gt;<i> &gt; &gt; &gt; Z_NO,ISIM,EMAIL,K_NO FROM KULLANICI_KIMLIKLERI WHERE ((K_NO LIKE '%&quot; +
</I>&gt;<i> &gt; &gt; &gt;                                            *kno* + &quot;%') AND
</I>&gt;<i> &gt; &gt; &gt; (DURUM=?))&quot;);
</I>&gt;<i> &gt; &gt; &gt;             stmt.setInt(1, ZConstants.K_GECERLI); // DURUM GECERLI
</I>&gt;<i> &gt; &gt; &gt; OLAN
</I>&gt;<i> &gt; &gt; &gt;             rset = stmt.executeQuery();
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;             this.iptalSorguSonucu = gecerliXXXTablosu(rset);
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;             return true;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;         }
</I>&gt;<i> &gt; &gt; &gt;         catch (SQLException e) {
</I>&gt;<i> &gt; &gt; &gt;             this.hataMesaji = &quot;Hata: &quot; + e + &quot;&lt;br&gt;\n&quot;;
</I>&gt;<i> &gt; &gt; &gt;             return false;
</I>&gt;<i> &gt; &gt; &gt;         }
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;         finally {
</I>&gt;<i> &gt; &gt; &gt;             try {
</I>&gt;<i> &gt; &gt; &gt;                 if (rset != null) {
</I>&gt;<i> &gt; &gt; &gt;                     rset.close();
</I>&gt;<i> &gt; &gt; &gt;                 }
</I>&gt;<i> &gt; &gt; &gt;                 if (stmt != null) {
</I>&gt;<i> &gt; &gt; &gt;                     stmt.close();
</I>&gt;<i> &gt; &gt; &gt;                 }
</I>&gt;<i> &gt; &gt; &gt;             }
</I>&gt;<i> &gt; &gt; &gt;             catch (SQLException ignored) {}
</I>&gt;<i> &gt; &gt; &gt;         }
</I>&gt;<i> &gt; &gt; &gt;     }
</I>&gt;<i> &gt; &gt; &gt; /*=======================*/
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Parameterized Query kullanilmis, ama bi parametre (*kno *) icin
</I>&gt;<i> &gt; &gt; &gt; kullanilmamis (artik unutulmus mu, yoksa &quot;*sql* *like&quot; *icin
</I>&gt;<i> &gt; &gt; &gt; kullanamayiz mi denmis bilmiyorum).
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Not: Tabi bunun sql exploit'inde de bi soru isaretli
</I>&gt;<i> &gt; &gt; &gt; parametre kullanmak gerekebilir (exploit dizgisine gore), yoksa &quot;missing
</I>&gt;<i> &gt; &gt; &gt; parameter&quot; sql hatasi alinir
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; bedirhan
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;  ------------------------------
</I>&gt;<i> &gt; &gt; &gt; Date: Thu, 6 Sep 2007 08:27:26 +0100
</I>&gt;<i> &gt; &gt; &gt; From: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">ferruh at mavituna.com</A>
</I>&gt;<i> &gt; &gt; &gt; To: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">aspsrc at gmail.com</A>
</I>&gt;<i> &gt; &gt; &gt; CC: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">owasp-turkey at lists.owasp.org</A>
</I>&gt;<i> &gt; &gt; &gt; Subject: Re: [Owasp-turkey] SQL Injection'dan ka&#231;mak.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Merhaba,
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; SQL Injection icin en iyi korunma yontemi bir nedenini anlamak ve
</I>&gt;<i> &gt; &gt; &gt; ona gore kodlamak, iki &quot;parameterized query&quot; ler kullanmak.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Hemen hemen tum modern web dilleri ve DB API lari bunlari
</I>&gt;<i> &gt; &gt; &gt; destekliyor. Dolayisiyla eger her turlu veritabani baglantisini
</I>&gt;<i> &gt; &gt; &gt; parameterized query ler ile yaparsaniz ve db tarafinda stored procedure vb.
</I>&gt;<i> &gt; &gt; &gt; yazarken gene benzer cozumler kullanirsaniz SQL Injection a karsi %99.99
</I>&gt;<i> &gt; &gt; &gt; korunmus olacaksinizdir.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; %0.01 de su an aklima gelmeyen ama belki de orada bir yerde olan
</I>&gt;<i> &gt; &gt; &gt; tuhaf bir SQL Injection sorunudur :)
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; On 05/09/07, *Oguzhan YILMAZ* &lt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">aspsrc at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Merhaba,
</I>&gt;<i> &gt; &gt; &gt; Madem konu SQL injection.  Bundan korunmak i&#231;in geli&#351;tirmemiz
</I>&gt;<i> &gt; &gt; &gt; gereken foksiyonlar nas&#305;l olmal&#305;d&#305;r? (Herhangi bir script ve programlama
</I>&gt;<i> &gt; &gt; &gt; dili olarak)
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; En basitinden gelen ataktaki string den  ( ' ) t&#305;rnaklar&#305; Replace
</I>&gt;<i> &gt; &gt; &gt; etmek, CHR() ve sql c&#252;mlelerini alg&#305;lay&#305;p de&#287;i&#351;tirmek, yada buna benzer
</I>&gt;<i> &gt; &gt; &gt; kural bazl&#305; &#231;&#246;z&#252;mler yeterlimidir? yoksa daha komplike &#351;eyler de
</I>&gt;<i> &gt; &gt; &gt; gereklimidir?
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Ger&#231;i konu webg&#252;venli&#287;i ama windows uygulamalar&#305;nda yada ba&#351;ka bir
</I>&gt;<i> &gt; &gt; &gt; platformda config (&#246;rne&#287;in config.xlm) dosyalar&#305; i&#231;inden sql
</I>&gt;<i> &gt; &gt; &gt; injection m&#252;mk&#252;n olabiliyor. Ayn&#305; &#351;ekilde ba&#351;ka bir injection ile uygulamaya
</I>&gt;<i> &gt; &gt; &gt; sald&#305;r&#305; olabilirmi?
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; O&#287;uzhan
</I>&gt;<i> &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; Owasp-turkey mailing list
</I>&gt;<i> &gt; &gt; &gt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
</I>&gt;<i> &gt; &gt; &gt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; Ferruh Mavituna
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://ferruh.mavituna.com">http://ferruh.mavituna.com</A>
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; ------------------------------
</I>&gt;<i> &gt; &gt; &gt; Connect to the next generation of MSN Messenger  Get it now!
</I>&gt;<i> &gt; &gt; &gt; &lt;<A HREF="http://imagine-msn.com/messenger/launch80/default.aspx?locale=en-us&amp;source=wlmailtagline">http://imagine-msn.com/messenger/launch80/default.aspx?locale=en-us&amp;source=wlmailtagline</A>&gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; --
</I>&gt;<i> &gt; &gt; Ferruh Mavituna
</I>&gt;<i> &gt; &gt; <A HREF="http://ferruh.mavituna.com">http://ferruh.mavituna.com</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; O&#287;uzhan
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Owasp-turkey mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
</I>&gt;<i> &gt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Bunyamin Demir
</I>&gt;<i> OWASP-Turkey Chair
</I>&gt;<i> <A HREF="http://www.webguvenligi.org">http://www.webguvenligi.org</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-turkey mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Ferruh Mavituna
<A HREF="http://ferruh.mavituna.com">http://ferruh.mavituna.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.owasp.org/pipermail/owasp-turkey/attachments/20070906/66076c24/attachment.html">https://lists.owasp.org/pipermail/owasp-turkey/attachments/20070906/66076c24/attachment.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000198.html">[Owasp-turkey] SQL Injection'dan ka&#231;mak.
</A></li>
	<LI>Next message: <A HREF="000200.html">[Owasp-turkey] SQL Injection'dan ka&#231;mak.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#199">[ date ]</a>
              <a href="thread.html#199">[ thread ]</a>
              <a href="subject.html#199">[ subject ]</a>
              <a href="author.html#199">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-turkey">More information about the Owasp-turkey
mailing list</a><br>
</body></html>
