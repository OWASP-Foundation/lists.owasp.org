<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-turkey] SQL Injection'dan ka&#231;mak.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20%3D%3Fiso-8859-9%3Fq%3FSQL_Injection%3D27dan_ka%3DE7mak%3D2E%3F%3D&In-Reply-To=867d61170709060203l280c89di47585d6fba49895a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000196.html">
   <LINK REL="Next"  HREF="000199.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-turkey] SQL Injection'dan ka&#231;mak.</H1>
    <B>Bunyamin DEMIR</B> 
    <A HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20%3D%3Fiso-8859-9%3Fq%3FSQL_Injection%3D27dan_ka%3DE7mak%3D2E%3F%3D&In-Reply-To=867d61170709060203l280c89di47585d6fba49895a%40mail.gmail.com"
       TITLE="[Owasp-turkey] SQL Injection'dan ka&#231;mak.">bunyamindemir at gmail.com
       </A><BR>
    <I>Thu Sep  6 05:20:46 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000196.html">[Owasp-turkey] SQL Injection'dan ka&#231;mak.
</A></li>
        <LI>Next message: <A HREF="000199.html">[Owasp-turkey] SQL Injection'dan ka&#231;mak.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#198">[ date ]</a>
              <a href="thread.html#198">[ thread ]</a>
              <a href="subject.html#198">[ subject ]</a>
              <a href="author.html#198">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Merhabalar,

Parametrize mekanizmas&#305;n&#305; kulland&#305;ktan sonra sql e gelen inputlar&#305; bir daha
validate etmenin bir anlam&#305; olur mu acaba?

Bana fazladan bir y&#252;k gibi geliyor.  Tecr&#252;be edinen oldu mu?


Sayg&#305;lar,



2007/9/6, Oguzhan YILMAZ &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">aspsrc at gmail.com</A>&gt;:
&gt;<i>
</I>&gt;<i> Hm! San&#305;r&#305;m geni&#351; &#231;apl&#305; proejler i&#231;in en ideal ORM frameworkleri
</I>&gt;<i> kullanmak. Orta &#246;l&#231;ekli projelerde ise ki  (ise ile ki b&#246;yle kullan&#305;lmaz
</I>&gt;<i> herhalde :o) ) &#231;ok sql i&#351;lemi olmayan, parameterized tekni&#287;ini kullanmak.
</I>&gt;<i>
</I>&gt;<i> Bende genelde gelen parametreleri validate ettikten sonra a&#351;a&#287;&#305;daki gibi
</I>&gt;<i> bir parametrize sorgular&#305; tercih ediyorum.
</I>&gt;<i>
</I>&gt;<i> private System.Data.OleDb.OleDbCommand[] _commandCollection;
</I>&gt;<i>  private void InitCommandCollection() {
</I>&gt;<i>             this._commandCollection = new System.Data.SqlClient.SqlCommand
</I>&gt;<i> [1];
</I>&gt;<i>             this._commandCollection[0] = new
</I>&gt;<i> System.Data.SqlClient.SqlCommand();
</I>&gt;<i>             this._commandCollection[0].Connection = this.Connection;
</I>&gt;<i>             this._commandCollection[0].CommandText = @&quot;SELECT a,b,c FROM
</I>&gt;<i> HOPPA WHERE hop1=@Param AND hop2=@Param2&quot;;
</I>&gt;<i>             this._commandCollection[0].CommandType =
</I>&gt;<i> System.Data.CommandType.Text;
</I>&gt;<i>             this._commandCollection[0].Parameters.Add(new
</I>&gt;<i> System.Data.SqlClient.SqlParameter(&quot;@Param1&quot;,
</I>&gt;<i> System.Data.SqlDbType.VarChar , 1024));
</I>&gt;<i>             this._commandCollection[0].Parameters.Add(new
</I>&gt;<i> System.Data.SqlClient.SqlParameter(&quot;@Param2&quot;,
</I>&gt;<i> System.Data.SqlDbType.VarChar, 35));
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i> En nihayetinde bundan ka&#231;mak o kadar zor bi&#351;i de&#287;il san&#305;r&#305;m...
</I>&gt;<i>
</I>&gt;<i> 2007/9/6, Ferruh Mavituna &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">ferruh at mavituna.com</A>&gt;:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Guzel bir ornekmis, biraz da ilginc geldi. Yarisinda kullanip yarisinda
</I>&gt;<i> &gt; kullanmamak :)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 06/09/07, Bedirhan Urgun &lt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">urgunb at hotmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Ferruh iyilesmis anlasilan. :)
</I>&gt;<i> &gt; &gt; Bahsettigi %0.01 ile alakali 3-4 gun once karsilastigim bir kod (bir
</I>&gt;<i> &gt; &gt; Java metodu. Yorumlarim asagida);
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; /*=======================*/
</I>&gt;<i> &gt; &gt; public boolean XXXIptalSorgu() throws FileNotFoundException,
</I>&gt;<i> &gt; &gt; IOException {
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;         StringBuffer sb = new StringBuffer();
</I>&gt;<i> &gt; &gt;         PreparedStatement stmt = null;
</I>&gt;<i> &gt; &gt;         ResultSet rset = null;
</I>&gt;<i> &gt; &gt;         try {
</I>&gt;<i> &gt; &gt;             connCA = utils.getCADBConnection(altkokno);
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;             stmt = connCA.prepareStatement(&quot;SELECT
</I>&gt;<i> &gt; &gt; Z_NO,ISIM,EMAIL,K_NO FROM KULLANICI_KIMLIKLERI WHERE ((K_NO LIKE '%&quot; +
</I>&gt;<i> &gt; &gt;                                            *kno* + &quot;%') AND
</I>&gt;<i> &gt; &gt; (DURUM=?))&quot;);
</I>&gt;<i> &gt; &gt;             stmt.setInt(1, ZConstants.K_GECERLI); // DURUM GECERLI
</I>&gt;<i> &gt; &gt; OLAN
</I>&gt;<i> &gt; &gt;             rset = stmt.executeQuery();
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;             this.iptalSorguSonucu = gecerliXXXTablosu(rset);
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;             return true;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;         }
</I>&gt;<i> &gt; &gt;         catch (SQLException e) {
</I>&gt;<i> &gt; &gt;             this.hataMesaji = &quot;Hata: &quot; + e + &quot;&lt;br&gt;\n&quot;;
</I>&gt;<i> &gt; &gt;             return false;
</I>&gt;<i> &gt; &gt;         }
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;         finally {
</I>&gt;<i> &gt; &gt;             try {
</I>&gt;<i> &gt; &gt;                 if (rset != null) {
</I>&gt;<i> &gt; &gt;                     rset.close();
</I>&gt;<i> &gt; &gt;                 }
</I>&gt;<i> &gt; &gt;                 if (stmt != null) {
</I>&gt;<i> &gt; &gt;                     stmt.close();
</I>&gt;<i> &gt; &gt;                 }
</I>&gt;<i> &gt; &gt;             }
</I>&gt;<i> &gt; &gt;             catch (SQLException ignored) {}
</I>&gt;<i> &gt; &gt;         }
</I>&gt;<i> &gt; &gt;     }
</I>&gt;<i> &gt; &gt; /*=======================*/
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Parameterized Query kullanilmis, ama bi parametre (*kno *) icin
</I>&gt;<i> &gt; &gt; kullanilmamis (artik unutulmus mu, yoksa &quot;*sql* *like&quot; *icin
</I>&gt;<i> &gt; &gt; kullanamayiz mi denmis bilmiyorum).
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Not: Tabi bunun sql exploit'inde de bi soru isaretli
</I>&gt;<i> &gt; &gt; parametre kullanmak gerekebilir (exploit dizgisine gore), yoksa &quot;missing
</I>&gt;<i> &gt; &gt; parameter&quot; sql hatasi alinir
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; bedirhan
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;  ------------------------------
</I>&gt;<i> &gt; &gt; Date: Thu, 6 Sep 2007 08:27:26 +0100
</I>&gt;<i> &gt; &gt; From: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">ferruh at mavituna.com</A>
</I>&gt;<i> &gt; &gt; To: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">aspsrc at gmail.com</A>
</I>&gt;<i> &gt; &gt; CC: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">owasp-turkey at lists.owasp.org</A>
</I>&gt;<i> &gt; &gt; Subject: Re: [Owasp-turkey] SQL Injection'dan ka&#231;mak.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Merhaba,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; SQL Injection icin en iyi korunma yontemi bir nedenini anlamak ve ona
</I>&gt;<i> &gt; &gt; gore kodlamak, iki &quot;parameterized query&quot; ler kullanmak.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Hemen hemen tum modern web dilleri ve DB API lari bunlari destekliyor.
</I>&gt;<i> &gt; &gt; Dolayisiyla eger her turlu veritabani baglantisini parameterized query ler
</I>&gt;<i> &gt; &gt; ile yaparsaniz ve db tarafinda stored procedure vb. yazarken gene benzer
</I>&gt;<i> &gt; &gt; cozumler kullanirsaniz SQL Injection a karsi %99.99 korunmus olacaksinizdir.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; %0.01 de su an aklima gelmeyen ama belki de orada bir yerde olan tuhaf
</I>&gt;<i> &gt; &gt; bir SQL Injection sorunudur :)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; On 05/09/07, *Oguzhan YILMAZ* &lt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">aspsrc at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Merhaba,
</I>&gt;<i> &gt; &gt; Madem konu SQL injection.  Bundan korunmak i&#231;in geli&#351;tirmemiz gereken
</I>&gt;<i> &gt; &gt; foksiyonlar nas&#305;l olmal&#305;d&#305;r? (Herhangi bir script ve programlama dili
</I>&gt;<i> &gt; &gt; olarak)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; En basitinden gelen ataktaki string den  ( ' ) t&#305;rnaklar&#305; Replace
</I>&gt;<i> &gt; &gt; etmek, CHR() ve sql c&#252;mlelerini alg&#305;lay&#305;p de&#287;i&#351;tirmek, yada buna benzer
</I>&gt;<i> &gt; &gt; kural bazl&#305; &#231;&#246;z&#252;mler yeterlimidir? yoksa daha komplike &#351;eyler de
</I>&gt;<i> &gt; &gt; gereklimidir?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Ger&#231;i konu webg&#252;venli&#287;i ama windows uygulamalar&#305;nda yada ba&#351;ka bir
</I>&gt;<i> &gt; &gt; platformda config (&#246;rne&#287;in config.xlm) dosyalar&#305; i&#231;inden sql injection
</I>&gt;<i> &gt; &gt; m&#252;mk&#252;n olabiliyor. Ayn&#305; &#351;ekilde ba&#351;ka bir injection ile uygulamaya sald&#305;r&#305;
</I>&gt;<i> &gt; &gt; olabilirmi?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; --
</I>&gt;<i> &gt; &gt; O&#287;uzhan
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Owasp-turkey mailing list
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; --
</I>&gt;<i> &gt; &gt; Ferruh Mavituna
</I>&gt;<i> &gt; &gt; <A HREF="http://ferruh.mavituna.com">http://ferruh.mavituna.com</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; ------------------------------
</I>&gt;<i> &gt; &gt; Connect to the next generation of MSN Messenger  Get it now!
</I>&gt;<i> &gt; &gt; &lt;<A HREF="http://imagine-msn.com/messenger/launch80/default.aspx?locale=en-us&amp;source=wlmailtagline">http://imagine-msn.com/messenger/launch80/default.aspx?locale=en-us&amp;source=wlmailtagline</A>&gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Ferruh Mavituna
</I>&gt;<i> &gt; <A HREF="http://ferruh.mavituna.com">http://ferruh.mavituna.com</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> O&#287;uzhan
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-turkey mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Bunyamin Demir
OWASP-Turkey Chair
<A HREF="http://www.webguvenligi.org">http://www.webguvenligi.org</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.owasp.org/pipermail/owasp-turkey/attachments/20070906/0c216535/attachment.html">https://lists.owasp.org/pipermail/owasp-turkey/attachments/20070906/0c216535/attachment.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000196.html">[Owasp-turkey] SQL Injection'dan ka&#231;mak.
</A></li>
	<LI>Next message: <A HREF="000199.html">[Owasp-turkey] SQL Injection'dan ka&#231;mak.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#198">[ date ]</a>
              <a href="thread.html#198">[ thread ]</a>
              <a href="subject.html#198">[ subject ]</a>
              <a href="author.html#198">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-turkey">More information about the Owasp-turkey
mailing list</a><br>
</body></html>
