<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-turkey] Ar&#305;zay&#305; Bul #5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20%3D%3Futf-8%3Fb%3FQXLEsXphecSxIEJ1bCAjNQ%3D%3D%3F%3D&In-Reply-To=20091022162636.349A12268017%40postaci.uekae.tubitak.gov.tr">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000742.html">
   <LINK REL="Next"  HREF="000745.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-turkey] Ar&#305;zay&#305; Bul #5</H1>
    <B>yilmaz.cankaya at uekae.tubitak.gov.tr</B> 
    <A HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20%3D%3Futf-8%3Fb%3FQXLEsXphecSxIEJ1bCAjNQ%3D%3D%3F%3D&In-Reply-To=20091022162636.349A12268017%40postaci.uekae.tubitak.gov.tr"
       TITLE="[Owasp-turkey] Ar&#305;zay&#305; Bul #5">yilmaz.cankaya at uekae.tubitak.gov.tr
       </A><BR>
    <I>Thu Oct 22 14:03:47 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000742.html">[Owasp-turkey] Ar&#305;zay&#305; Bul #5
</A></li>
        <LI>Next message: <A HREF="000745.html">[Owasp-turkey] Sosyal Medyada OWASP/TR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#744">[ date ]</a>
              <a href="thread.html#744">[ thread ]</a>
              <a href="subject.html#744">[ subject ]</a>
              <a href="author.html#744">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

iyi aksamlar arkadaslar
asl&#196;&#177;nda dogrudan CSRF ile POST istegi
olusturmay&#196;&#177; degil,&#160; session fixation a&#231;&#196;&#177;kl&#196;&#177;&#196;&#159;&#196;&#177;n&#196;&#177; sald&#196;&#177;r&#196;&#177;ya
&#231;evirebilmek i&#231;in kullan&#196;&#177;l&#196;&#177;p kullan&#196;&#177;lamayaca&#196;&#159;&#196;&#177;n&#196;&#177; kastetmi&#197;&#159;
idim. Biraz daha detayland&#196;&#177;ray&#196;&#177;m. 

Varsayal&#196;&#177;m ki:
i.
Uygulama, kullan&#196;&#177;c&#196;&#177; giri&#197;&#159; yapmadan &#246;nce bir oturum anahtar&#196;&#177; olu&#197;&#159;turup
g&#246;ndermekte ve kullan&#196;&#177;c&#196;&#177; giri&#197;&#159; yapt&#196;&#177;ktan sonra da bu oturum bilgisini
kullanmaktad&#196;&#177;r.
ii. Ayr&#196;&#177;ca bu ar&#196;&#177;za kapsam&#196;&#177;nda session fixation'a yol
a&#231;acak kod sadece POST istekleri i&#231;in
&#231;al&#196;&#177;&#197;&#159;maktad&#196;&#177;r.

1. Bu varsay&#196;&#177;mlar ge&#231;erli iken,
session fixation a&#231;&#196;&#177;kl&#196;&#177;&#196;&#159;&#196;&#177;n&#196;&#177; sald&#196;&#177;r&#196;&#177;ya d&#246;n&#252;&#197;&#159;t&#252;rmek
m&#252;mk&#252;n m&#252;d&#252;r?
2. Kurbana bir ba&#196;&#159;lant&#196;&#177;
g&#246;nderip, bu ba&#196;&#159;lant&#196;&#177;y&#196;&#177; ziyaret etmesi sa&#196;&#159;lanarak bir sald&#196;&#177;r&#196;&#177;
ger&#231;eklenebilir mi? (Burada kritik nokta Bedirhan'&#196;&#177;n da belirtmis
oldu&#196;&#159;u gibi, kullan&#196;&#177;c&#196;&#177;n&#196;&#177;n giri&#197;&#159; yapmas&#196;&#177;n&#196;&#177; bir &#197;&#159;ekilde
sa&#196;&#159;layabilmektedir)

Sayg&#196;&#177;lar

 
Musa'nin dedigi gibi, XSS varsa daha rahat. Bir cok cesidi olabilir
tabi de POST CSRF'e ornek temel bir html kodu su sekilde olabilir;
&#160;
&#160;

&#160;


    <A HREF="http://server/a.x.&quot;">http://server/a.x.&quot;</A>&gt;

&#160;&#160; 




&#160;
&#160;
Hatta buna bile gerek kalmadan bu isi GET istegi ile proxy olarak
yapan servisler var, kaldi ki siz de yazabilirsiniz. Yukarda iframe'in
ismini form element'inin icinde target olarak kullanmak isin gizli
kalmasini sagliyor.
&#160;
Otomatik loginleri mi dusunerek POST CSRF yapilabilir mi diye sordun
Yilmaz?

22 Ekim 2009 11:05 tarihinde Musa Ulker <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">musaulker at gmail.com</A>&gt; yazd&#196;&#177;:
 Merhabalar,

Tam
emin olmamakla birlikte, POST CSRF i Ajax ile yap&#196;&#177;labilir diye
d&#252;&#197;&#159;&#252;n&#252;yorum. Yani &#246;ncesinde XSS yedirirseniz post
CSRF de yedirirsiniz
 :)

Ba&#197;&#159;ka &#231;&#246;z&#252;mlerde
olabilir

Kolay gelsin

2009/10/22 Yilmaz Cankaya
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">yilmaz.cankaya at uekae.tubitak.gov.tr</A>&gt;:


&#160;
&gt;<i> Hakl&#196;&#177;s&#196;&#177;n Bedirhan.
</I>&gt;<i> Ornegi de bu y&#252;zden
</I>g&#246;nderdim. Kod &#231;ok masum g&#246;z&#252;kmesine ragmen,
&gt;<i> &quot;Application Logic Flaw&quot; kategorisinde oldu&#196;&#159;u i&#231;in
</I>herhangi bir ara&#231;
&gt;<i> kullan&#196;&#177;larak otomatize edilelerek
</I>tespit edilmesi g&#252;&#231;.
 &gt;
&gt;<i> Diger taraftan,
</I>manuel olarak &#160;blackbox testi yapmak m&#252;mk&#252;n olabilir
&gt;<i> baz&#196;&#177; durumlarda. &#160;&#214;zellikle kullan&#196;&#177;c&#196;&#177;ya login olmadan
</I>&#246;nce g&#246;nderilen
&gt;<i> oturum anahtarlar&#196;&#177;, login olduktan
</I>sonra da kullan&#196;&#177;lmaya devam ediyor ise.
 &gt;
&gt;<i> Cevap
</I>bulunmas&#196;&#177; gereken soru &#197;&#159;u:
&gt;<i> Kullan&#196;&#177;c&#196;&#177; ad&#196;&#177;na GET istekleri
</I>g&#246;ndermek m&#252;mk&#252;n olmakla beraber, POST
&gt;<i> talebi
</I>i&#231;eren bir CSRF yap&#196;&#177;labilir mi?
&gt;<i>
</I>&gt;<i> Sayg&#196;&#177;lar
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Bedirhan Urgun wrote:
</I> &gt;&gt; ? :
operatorunu kullanarak tek satirda yazarsan abarti olmaz, yani
&gt;&gt;<i> &quot;yuh, tek satirda yazmis!&quot; demezler ama iste bu
</I>kadarcik kod guvenlik
&gt;&gt;<i> zafiyetine yol aciyor.
</I>&gt;&gt;<i>
</I>Session Fixation <A HREF="http://www.owasp.org/index.php/Session_Fixation">http://www.owasp.org/index.php/Session_Fixation</A>&gt;

&gt;&gt;<i> diyorum. Tabi butun bu parcanin oturum yonetimi icin
</I>kullanildigini
&gt;&gt;<i> dusunerek. :)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>Genelde kullanilan container'lardan kaynaklaniyor bu zafiyet ama
&gt;&gt;<i> gelistirerek de basarmak mumkun. :)) Yanliz ilginc olan sey,
</I>blackbox
 &gt;&gt; (karakutu) testi ile sanki bir pincik daha kolay
bulunup, kontrol
&gt;&gt;<i> edilebilir gibi degil mi? Ayni sey CSRF
</I>icin de gecerli.
&gt;&gt;<i>
</I>&gt;&gt;<i> bedirhan
</I>&gt;&gt;<i> 21
</I>Ekim 2009 01:11 tarihinde <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">yilmaz.cankaya at uekae.tubitak.gov.tr</A>

&gt;&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">yilmaz.cankaya at uekae.tubitak.gov.tr</A>&gt;&gt; yazd&#196;&#177;:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160; &#160; Bedirhan ba&#197;&#159;lad&#196;&#177;, g&#252;zel ve
</I>&#246;gretici oldu.. Ben de faydalanmak
 &gt;&gt; &#160; &#160; ad&#196;&#177;na
bir adet g&#246;ndereyim..
&gt;&gt;<i>
</I>&gt;&gt;<i> &#160; &#160; As&#196;&#177;l
</I>kod javada idi. Genelleyip yaz&#196;&#177;yorum.
&gt;&gt;<i> &#160; &#160; Not:
</I>getParameter('session_id') ile &#160;GET yada POST ile g&#246;nderilen
&gt;&gt;<i> &#160; &#160; session_id de&#196;&#159;eri okunuyor.
</I> &gt;&gt;
&gt;&gt;<i> &#160; &#160; if (getParameter('session_id') is null)
</I>&gt;&gt;<i> &#160; &#160; then
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;
</I>sessionID= createSession();
&gt;&gt;<i> &#160; &#160; else
</I>&gt;&gt;<i>
</I>&#160; &#160; &#160; &#160; sessionID= getParameter('session_id');

&gt;&gt;<i> &#160; &#160; end;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160; &#160;
</I>Sayg&#196;&#177;lar
&gt;&gt;<i>
</I>&gt;&gt;<i> &#160; &#160;
</I>_______________________________________________
&gt;&gt;<i> &#160;
</I>&#160; Owasp-turkey mailing list
&gt;&gt;<i> &#160; &#160; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
</I><A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>&gt;
 &gt;&gt; &#160; &#160; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Bedirhan Urgun
</I> &gt;&gt; <A HREF="http://www.webguvenligi.org">http://www.webguvenligi.org</A>
&gt;&gt;<i> <A HREF="http://www.owasp.org/index.php/Turkey">http://www.owasp.org/index.php/Turkey</A>
</I>&gt;&gt;<i>
</I> &gt;&gt; T&#252;rk&#231;e Web Uygulama G&#252;venli&#196;&#159;i
E-Posta Listesine &#252;ye olmak i&#231;in:
&gt;&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
</I> &gt;
&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-turkey mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
</I> &gt;





--
M.Musa &#220;lker


&#160;
_______________________________________________
Owasp-turkey mailing list
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
 




&#160;

-- 
Bedirhan Urgun
<A HREF="http://www.webguvenligi.org">http://www.webguvenligi.org</A>
<A HREF="http://www.owasp.org/index.php/Turkey">http://www.owasp.org/index.php/Turkey</A>

T&#252;rk&#231;e Web Uygulama G&#252;venli&#196;&#159;i E-Posta Listesine
&#252;ye olmak i&#231;in: 
 <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
   

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.owasp.org/pipermail/owasp-turkey/attachments/20091022/7bbc9be2/attachment.html">https://lists.owasp.org/pipermail/owasp-turkey/attachments/20091022/7bbc9be2/attachment.html</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000742.html">[Owasp-turkey] Ar&#305;zay&#305; Bul #5
</A></li>
	<LI>Next message: <A HREF="000745.html">[Owasp-turkey] Sosyal Medyada OWASP/TR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#744">[ date ]</a>
              <a href="thread.html#744">[ thread ]</a>
              <a href="subject.html#744">[ subject ]</a>
              <a href="author.html#744">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-turkey">More information about the Owasp-turkey
mailing list</a><br>
</body></html>
