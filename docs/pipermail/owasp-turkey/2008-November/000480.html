<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-turkey] Under DDos Attack
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20Under%20DDos%20Attack&In-Reply-To=6dc88c3c0811040537y6cc1ae6ewad3ace2105506509%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000477.html">
   <LINK REL="Next"  HREF="000481.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-turkey] Under DDos Attack</H1>
    <B>Musa Ulker</B> 
    <A HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20Under%20DDos%20Attack&In-Reply-To=6dc88c3c0811040537y6cc1ae6ewad3ace2105506509%40mail.gmail.com"
       TITLE="[Owasp-turkey] Under DDos Attack">musaulker at gmail.com
       </A><BR>
    <I>Tue Nov  4 18:12:53 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000477.html">[Owasp-turkey] Under DDos Attack
</A></li>
        <LI>Next message: <A HREF="000481.html">[Owasp-turkey] Under DDos Attack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#480">[ date ]</a>
              <a href="thread.html#480">[ thread ]</a>
              <a href="subject.html#480">[ subject ]</a>
              <a href="author.html#480">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tekrar merhabalar,

Ferruh; &#199;ok ilgin&#231;tir denedi&#287;im modlar kald&#305;ramad&#305; apachede ciddi y&#252;k
durmaya devam etti.  Buradaki bottleneck software firewall ataklar&#305;
durdurmad&#305; yeterli olmad&#305;. Y&#252;klenen ip say&#305;s&#305; ba&#351;ta 1 5 10 diye de&#287;il
de ayn&#305; anda 100+ &#351;eklinde olunca ve iplerde de&#287;i&#351;ti&#287;i i&#231;in &#231;ok k&#305;sa
aral&#305;klarla (1dkdan az s&#252;re i&#231;in) yeni ipleri yakalayamad&#305; ve
apacheyi, apachede &#231;al&#305;&#351;an uygulama da mysql i kilitledi..

Benim &#246;rnek verdi&#287;im %30 sadece bir tane apache forku i&#231;in. Maksimum
olan&#305; i&#231;indi. Firewall &#231;al&#305;&#351;madan sistem kitleniyordu, ssha bile
eri&#351;ilmiyordu. Firewallla CPU kullan&#305;m&#305; %80-85 civar&#305;nda seyretmeye
ba&#351;lad&#305;. Ayn&#305; anda mevcut 80 portuna connection say&#305;s&#305; 200+
civar&#305;ndayd&#305;..

Sald&#305;r&#305; detay&#305;: Connect flood. S&#252;rekli GET iste&#287;i. Sald&#305;r&#305; &#231;al&#305;&#351;an
uygulama &#252;zerinden mysql i devre d&#305;&#351;&#305; b&#305;rakmaya y&#246;nelik oldu&#287;unu
d&#252;&#351;&#252;n&#252;yorum. Daha &#246;nceden benzer bir sald&#305;rr&#305;yla kar&#351;&#305;la&#351;m&#305;&#351;t&#305;m..
Gelen paketler gayet normal g&#246;z&#252;k&#252;yor. Arada malformed requestlerde
geliyordu ama ba&#351;ka bir kaynaktan olabilir.

Kubilay; Rusya IP bloklar&#305; konusunda ara&#351;t&#305;rma yaparken &#351;&#246;yle bir
siteyle kar&#351;&#305;la&#351;t&#305;m, incelemenizi tavsiye ederim:
<A HREF="http://www.countryipblocks.net/">http://www.countryipblocks.net/</A>

Bedirhan; Apache KeepAlive konfigurasyonda kapal&#305;yd&#305;. Apache backdoor
module gibi bir&#351;eyler buldum ama buldu&#287;um apache &#252;zerinden backdoor
a&#231;an bir moduledu. Senin bahsetti&#287;in mod&#252;l&#252; payla&#351;&#305;r m&#305;s&#305;n?

DNS g&#252;ncellemsi akl&#305;ma geldi ama zararlar&#305;n&#305; k&#305;yaslay&#305;nca &#231;&#246;z&#252;mler
aras&#305;ndan &#231;&#305;kard&#305;m..

Akl&#305;n yolu bir: HW firewallarla &#231;&#246;z&#252;ld&#252; olay. Reverse proxy ile ba&#351;ka
bir sunucuya y&#246;nlendirildi istekler ve o sunucu &#246;n&#252;nde Layer 7
filtering yap&#305;ld&#305;. (Juniper &#252;zerinden custom filterlarla)

Herkese g&#246;sterdi&#287;i a&#231;&#305;l&#305;mlar ve verdi&#287;i cevaplardan dolay&#305; te&#351;ekk&#252;r ediyorum..

Selamlar,

M.Musa &#220;lker


2008/11/4 Ferruh Mavituna &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">ferruh at mavituna.com</A>&gt;:
&gt;<i> Merhabalar Musa,
</I>&gt;<i>
</I>&gt;<i> Benim merak ettigim esas kilit noktasi neresi? (gavurlarin tabiri ile
</I>&gt;<i> bottleneck). Yani application da mi is kitleniyor, ondeki firewall mu
</I>&gt;<i> sapitmaya basliyor, load balancer mi vs. ?
</I>&gt;<i>
</I>&gt;<i> Apache process' i %30 ise , uygulamada veya Apache de bir sorun  yok diye
</I>&gt;<i> varsayiyorum. Database server ne alemde onda da ciddi bir yuklenme yok mu?
</I>&gt;<i>
</I>&gt;<i> Bir de saldirinin detaylari ne? Syn-flood, connect-flood, yogun application
</I>&gt;<i> istekleri (HTTP vs.)?  veya baska bir port acikta onun uzerinden mi bir sey
</I>&gt;<i> yapiliyor? gelen paketlerin tum degerleri normal mi? Mesela tuhaf window
</I>&gt;<i> size lari var mi vs.
</I>&gt;<i>
</I>&gt;<i> Sonucta DDoS ataklari engellemek cok zor olabiliyor ama bu bilgileri
</I>&gt;<i> verirsen daha detayli yardimci olunabilir sanirim.
</I>&gt;<i>
</I>&gt;<i> Iyi Calismalar,
</I>&gt;<i>
</I>&gt;<i> 2008/11/4 Musa Ulker &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">musaulker at gmail.com</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Merhabalar,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Dedicated bir sunucuya bir &#231;ok koldan DDos sald&#305;r&#305;s&#305;
</I>&gt;&gt;<i> ger&#231;ekle&#351;tiriliyor. En &#231;ok y&#252;k Apache &#252;zerinde. Apache CPU load'&#305; %30u
</I>&gt;&gt;<i> ge&#231;ebiliyor farkl&#305; apache processleri &#231;al&#305;&#351;&#305;yor. T&#252;rl&#252; &#231;al&#305;&#351;malar
</I>&gt;&gt;<i> yapt&#305;m; firewallar (salt iptables, apf, csf vs) denedim, ddos
</I>&gt;&gt;<i> protectionlar&#305; test ettim ama sald&#305;r&#305;y&#305; tam olarak kesemedim. Birazc&#305;k
</I>&gt;&gt;<i> y&#252;k&#252; hafifletebildim. Zombie makinalar &#252;zerinden sald&#305;r&#305; halen devam
</I>&gt;&gt;<i> ediyor.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Bu konuda nas&#305;l bir yol izlemem gerekiyor?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Te&#351;ekk&#252;rler
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> M.Musa &#220;lker
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Owasp-turkey mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
</I>&gt;&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Ferruh Mavituna
</I>&gt;<i> <A HREF="http://ferruh.mavituna.com">http://ferruh.mavituna.com</A>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000477.html">[Owasp-turkey] Under DDos Attack
</A></li>
	<LI>Next message: <A HREF="000481.html">[Owasp-turkey] Under DDos Attack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#480">[ date ]</a>
              <a href="thread.html#480">[ thread ]</a>
              <a href="subject.html#480">[ subject ]</a>
              <a href="author.html#480">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-turkey">More information about the Owasp-turkey
mailing list</a><br>
</body></html>
