<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-turkey] [Fwd: [netsec] WordPress Kritik Guvenlik Acigi]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20%5BFwd%3A%20%5Bnetsec%5D%20WordPress%20Kritik%20Guvenlik%20Acigi%5D&In-Reply-To=BAY104-W77952B101102D67ECC034D6340%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000108.html">
   <LINK REL="Next"  HREF="000110.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-turkey] [Fwd: [netsec] WordPress Kritik Guvenlik Acigi]</H1>
    <B>Bunyamin DEMIR</B> 
    <A HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20%5BFwd%3A%20%5Bnetsec%5D%20WordPress%20Kritik%20Guvenlik%20Acigi%5D&In-Reply-To=BAY104-W77952B101102D67ECC034D6340%40phx.gbl"
       TITLE="[Owasp-turkey] [Fwd: [netsec] WordPress Kritik Guvenlik Acigi]">bunyamindemir at gmail.com
       </A><BR>
    <I>Thu May 24 14:38:07 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000108.html">[Owasp-turkey] [Fwd: [netsec] WordPress Kritik Guvenlik Acigi]
</A></li>
        <LI>Next message: <A HREF="000110.html">[Owasp-turkey] [Fwd: [netsec] WordPress Kritik Guvenlik Acigi]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#109">[ date ]</a>
              <a href="thread.html#109">[ thread ]</a>
              <a href="subject.html#109">[ subject ]</a>
              <a href="author.html#109">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bukadar g&#252;venlik adama zarar verir diye d&#252;&#351;&#252;n&#252;yorum. Teoride uygulanabilinir
g&#246;z&#252;ksede ben bunun prati&#287;e ge&#231;irilece&#287;i kan&#305;s&#305;nda de&#287;ilim. En az&#305;ndan
piyasa ko&#351;ullar&#305;nda yaz&#305;l&#305;m&#305;n g&#252;venli olmas&#305;ndan ziyade erken hayata ge&#231;mesi
&#246;nemli oluyor &#231;o&#287;u zaman.

Hem &#351;&#246;yle bir senerya d&#252;&#351;&#252;nelim? E&#287;er kredi kart&#305; numaras&#305; ge&#231;erli bir kart
numaras&#305; de&#287;il se niye oraya kadar devam ediyor? Bu ekstra y&#252;k ve zaman
masraf&#305;na sebep olmaz m&#305;?

Ben g&#252;venlik kontrollerinin m&#252;mk&#252;n oldu&#287;u en erken zamanda yap&#305;lmas&#305;ndan
yanay&#305;m. &#199;ok kopleks ve &#231;ok basit te olmamal&#305;. Burada asl&#305;nda &quot;Kararl&#305;&quot;
kelimesinin kullanmak istiyorum. &#199;&#252;nk&#252; g&#252;venli&#287;in baz&#305; g&#246;t&#252;r&#252;leri
olaca&#287;&#305;ndan bunu m&#252;mk&#252;n oldu&#287;unca dengeli yapmak gerekir.

Ferruh hocam &#351;u class`&#305; az daha a&#231;arm&#305;s&#305;n? Merak ettim:)


Ayr&#305;ca g&#252;venlik kontrollerinde sizin izledi&#287;iniz a&#351;amalar nas&#305;l? Varm&#305; bu
konuda ac&#305; ve tatl&#305; tecr&#252;beleri olanlar?



24.05.2007 tarihinde Bedirhan Urgun &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">urgunb at hotmail.com</A>&gt; yazm&#305;&#351;:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Tabi detayli olarak gormeden bisey demek cok mantikli degil ama sanki
</I>&gt;<i> implement ettiginiz ana obje (class), choke point (girdi bogumu) gibi geldi
</I>&gt;<i> bana. Hicbir girdi burdan gecmeden uygulamaya girmiyor (kullanilmiyor).
</I>&gt;<i> Bunun icin de _GET ve _POST degiskenlerine ulasimi engellemissiniz sanirim.
</I>&gt;<i> Gelistirici direk eristigi zaman kod icinde bu durumlar acikca goruluyor ve
</I>&gt;<i> potansiyel olarak guvensiz durumlar (tainted variables gibi yani) oluyor.
</I>&gt;<i>
</I>&gt;<i>  Okudugum bi makalede soyle bi ana fikir vardi: pozitif girdi kontrolunu
</I>&gt;<i> (sunucu tarafinda) kullaniciya en yakin yerde yapin ama uygulamanin icinde
</I>&gt;<i> yeri geldiginde mantiksal girdi denetimleri de uygulayin. Mesela kredi karti
</I>&gt;<i> numarasini uygulama girisinde kontrol edin (sadece rakamlardan olusacak),
</I>&gt;<i> ama bu kredi karti bilgisini business object'lerde kullanacaginiz zaman,
</I>&gt;<i> kredi karti numarasi algoritmalarini uzerinde uygulayin (mantiksal olarak bu
</I>&gt;<i> gercekten kredi karti numarasi mi).
</I>&gt;<i>
</I>&gt;<i>  Soylemesi kolay. Her orta capta program yazan, bunlari uygulanmanin ne
</I>&gt;<i> kadar zor geldigini cok iyi bilir. Burda da guvenlik kutuphaneler yardima
</I>&gt;<i> yetisebilir.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i> Date: Thu, 24 May 2007 14:29:09 +0100
</I>&gt;<i> From: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">ferruh at mavituna.com</A>
</I>&gt;<i> To: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">urgunb at hotmail.com</A>
</I>&gt;<i> Subject: Re: [Owasp-turkey] [Fwd: [netsec] WordPress Kritik Guvenlik
</I>&gt;<i> Acigi]
</I>&gt;<i> CC: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">huzeyfe at lifeoverip.net</A>; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">owasp-turkey at lists.owasp.org</A>
</I>&gt;<i>
</I>&gt;<i> Bence giris noktasi kontrolleri cok verimli degil. 1-2 sene kadar 10
</I>&gt;<i> kisilik falan bir ekibin calistigi bir web uygulamasinda (PHP) guvenli
</I>&gt;<i> kutuphaneler gelistirdik. Bu gelistirmede su sekilde bir yontem uyguladik ve
</I>&gt;<i> bayagi da verim aldik.
</I>&gt;<i>
</I>&gt;<i> Herseyden ote direk GET ve POST vs. her turlu erisimleri gelistiriciye
</I>&gt;<i> kapadik. Dolayisiyla kod yazarlarken isteseler de bu verilere direk
</I>&gt;<i> ulasamiyorlardi.
</I>&gt;<i>
</I>&gt;<i> Ikinci olarakta bu verilere erisimi ana obje altinda tek bir class tan
</I>&gt;<i> yaptik, eger sayfa HTML e cikti gidecekse HTMLSafe gibi bir isimli property
</I>&gt;<i> den koyuyorlar, eger SQL e gidecekse bunu da SQLsafe gibi bir property den.
</I>&gt;<i> Ek olarak girdinin ozune de de bazen erismek gerekiyor onu da ek olarak
</I>&gt;<i> koyduk erisime ama bu erisim cok basit sekilde yazilimda gozlenebiliyordu,
</I>&gt;<i> dolayisiyla potansiyel olarak guvensiz olan yerler anlasiliyor.
</I>&gt;<i>
</I>&gt;<i> Maalasef PHP de strong type olmamasindan dolayi bazi limitleri implemente
</I>&gt;<i> etmedik. Mesela aynisi .NET te cok daha verimli sekilde yapilabilir.
</I>&gt;<i>
</I>&gt;<i> Aslinda dumur noktasi su, bu adamlar niye parameterized SQL ler
</I>&gt;<i> kullanmiyorlar ?
</I>&gt;<i>
</I>&gt;<i> Ikincisi basit bir sekilde kontrollerin son noktada yapilmasi katman
</I>&gt;<i> karmasasindan dogan buradaki gibi sorunlari da cozuyor. Katmandan kastim
</I>&gt;<i> kodun geldigi yeri bilmemek. Genelde web uygulamalarinda olan bir sey. WP
</I>&gt;<i> deki Bir onceki SQL Injeciton acigi da bu sekilde cache sistemindeydi (
</I>&gt;<i> <A HREF="http://www.notsosecure.com/folder2/2007/04/03/wordpress-212-xmlrpc-security-issues/">http://www.notsosecure.com/folder2/2007/04/03/wordpress-212-xmlrpc-security-issues/</A>
</I>&gt;<i> ).
</I>&gt;<i>
</I>&gt;<i> Eger acigi kaynak koddan takip ederseniz yaklasik 4 ten fazla fonksiyondan
</I>&gt;<i> geciyor ve neredeyse pasif olarak cacheleme ile ilgili bir yerde SQL
</I>&gt;<i> Injection olusuyor. Muhtemel bir skaynak kod analizinde bile gozden
</I>&gt;<i> kacabilecek bir sey.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  On 24/05/07, *Bedirhan Urgun* &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">urgunb at hotmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Girdi denetimini stratejilerinde denetimi sunucuda nerde yapmak gerekir
</I>&gt;<i> diye bi konu var. trust boundary, choke point meseleleri.
</I>&gt;<i>
</I>&gt;<i>  Acigin kaynak koduna baktim tam egitimlik (hatta tartismalik)...
</I>&gt;<i>
</I>&gt;<i> ******************
</I>&gt;<i> function check_ajax_referer() {
</I>&gt;<i> $cookie = explode('; ', urldecode(empty($_POST['cookie']) ?  &lt;&lt;------
</I>&gt;<i> $_GET['cookie'] : $_POST['cookie'])); // AJAX scripts must pass
</I>&gt;<i> cookie=document.cookie
</I>&gt;<i> foreach ( $cookie as $tasty ) {
</I>&gt;<i> if ( false !== strpos($tasty, USER_COOKIE) )
</I>&gt;<i> $user = substr(strstr($tasty, '='), 1);
</I>&gt;<i> if ( false !== strpos($tasty, PASS_COOKIE) )
</I>&gt;<i> $pass = substr(strstr($tasty, '='), 1);
</I>&gt;<i> }
</I>&gt;<i> if ( !wp_login( $user, $pass, true ) )
</I>&gt;<i> die('-1');
</I>&gt;<i> *******************
</I>&gt;<i>
</I>&gt;<i> simdi genel bir strateji olarak girdi denetimini soyle yapilabilir; Girdi
</I>&gt;<i> uygulamaya ulastigi en yakin noktada (choke point), daha ileri gitmeden. Ama
</I>&gt;<i> yukaridaki durum boyle bir denetimi by-pass edebilir. Mesela double url
</I>&gt;<i> encoded stringler (sunucu tarafindan uygulamaya gelmeden bir kere decode
</I>&gt;<i> edilmislerdi) pozitif denetim fonksiyonlarimizi atlatabilirler (tam
</I>&gt;<i> yukaridaki durum, yani regular expressionimizda % karakterine izin
</I>&gt;<i> veriliyorsa varsa tamam).
</I>&gt;<i>
</I>&gt;<i> Cok gelistiricili bir projede choke point falan yetmeyebiliyor demek ki.
</I>&gt;<i> Daha kademeli bir anlayis lazim. Gelistiriciye &quot;(giris noktasinda) girdi
</I>&gt;<i> denetimi yap&quot; dedikten sonra uygulamasinda boyle bi hata bulmak umutsuzluga
</I>&gt;<i> dusurebilir.
</I>&gt;<i>
</I>&gt;<i>  bedirhan
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i> Date: Thu, 24 May 2007 09:49:57 +0100
</I>&gt;<i> From: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">ferruh at mavituna.com</A>
</I>&gt;<i> To: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">huzeyfe at lifeoverip.net</A>
</I>&gt;<i> CC: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">owasp-turkey at lists.owasp.org</A>
</I>&gt;<i> Subject: Re: [Owasp-turkey] [Fwd: [netsec] WordPress Kritik Guvenlik
</I>&gt;<i> Acigi]
</I>&gt;<i>
</I>&gt;<i> Biz de iki gun once test ettik, acik ilk yayinlandiginda. Gayet guzel bir
</I>&gt;<i> sekilde calistigini onayliyabilirim.
</I>&gt;<i>
</I>&gt;<i> Ek olarak her daim WP kulanicilarinin admin kisimlarina en azindan ekstra
</I>&gt;<i> bir Basic Auth eklemesini oneriyorum. Ek olarak  patch i  uygulayana kadar
</I>&gt;<i> bu sekilde hizli ilk onlemi de almis olabilirsiniz.
</I>&gt;<i>
</I>&gt;<i> On 24/05/07, *Huzeyfe ONAL* &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">huzeyfe at lifeoverip.net</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ---------------------------- Original Message ----------------------------
</I>&gt;<i> Subject: [netsec] WordPress Kritik Guvenlik Acigi
</I>&gt;<i> From: &quot;Huzeyfe ONAL&quot; &lt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">huzeyfe at lifeoverip.net</A>&gt;
</I>&gt;<i> Date: Thu, May 24, 2007 10:29 am
</I>&gt;<i> To: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">netsec at huzeyfe.net</A>
</I>&gt;<i> --------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> WordPress 2.1.3 kullanicilarinin
</I>&gt;<i> dikkatine...
</I>&gt;<i>
</I>&gt;<i> Bir iki gundur bloguma gelen web isteklerindeki
</I>&gt;<i> anormallikleri incelerken iki gun oncesine ait bir WP aciginin
</I>&gt;<i> kullanildigini kesfettim.
</I>&gt;<i>
</I>&gt;<i> wp-admin/admin-ajax.php ve buna bagli olan
</I>&gt;<i> scriptlerdeki eksik kontroller yuzunden blogunuzun /wp-admin kismina
</I>&gt;<i> erisebilen kotu niyetli birisi sistemdeki wp kullanicilarina ait
</I>&gt;<i> plain md5 ciktilarini alabilir(kendi sistemimde test ettim) ve
</I>&gt;<i> otesinde bunu kullanarak sisteme admin yetkileri ile
</I>&gt;<i> baglanilabiliyor(mus)-test etmedim.
</I>&gt;<i>
</I>&gt;<i> Cesitli undergorund
</I>&gt;<i> sitelerde konu ile ilgili exploitler yayinlanmis durumda.
</I>&gt;<i>
</I>&gt;<i> Aciktan korunma icin WP tarafindan cikarilan guncellemeler ( 2.2)
</I>&gt;<i> gecilebilir
</I>&gt;<i>
</I>&gt;<i> Detayli Bilgi :
</I>&gt;<i> <A HREF="http://secunia.com/advisories/25345/">http://secunia.com/advisories/25345/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Huzeyfe ONAL
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">huzeyfe at lifeoverIP.net</A>
</I>&gt;<i> <A HREF="http://www.lifeoverip.net">http://www.lifeoverip.net</A>
</I>&gt;<i>
</I>&gt;<i> Ag guvenligi listesine uye oldunuz
</I>&gt;<i> mu?
</I>&gt;<i> <A HREF="http://netsec.huzeyfe.net">http://netsec.huzeyfe.net</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-turkey mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Ferruh Mavituna
</I>&gt;<i> <A HREF="http://ferruh.mavituna.com">http://ferruh.mavituna.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i> Create the ultimate e-mail address book. Import your contacts to Windows
</I>&gt;<i> Live Hotmail. Try it!&lt;<A HREF="http://www.windowslive-hotmail.com/learnmore/managemail2.html?locale=en-us&amp;ocid=RMT_TAGLM_HMWL_reten_impcont_0507">http://www.windowslive-hotmail.com/learnmore/managemail2.html?locale=en-us&amp;ocid=RMT_TAGLM_HMWL_reten_impcont_0507</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Ferruh Mavituna
</I>&gt;<i> <A HREF="http://ferruh.mavituna.com">http://ferruh.mavituna.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i> Change is good. See what's different about Windows Live Hotmail. Check it
</I>&gt;<i> out!&lt;<A HREF="http://www.windowslive-hotmail.com/learnmore/default.html?locale=en-us&amp;ocid=RMT_TAGLM_HMWL_reten_changegood_0507%0A%0A">http://www.windowslive-hotmail.com/learnmore/default.html?locale=en-us&amp;ocid=RMT_TAGLM_HMWL_reten_changegood_0507%0A%0A</A>&gt;
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-turkey mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Bunyamin Demir
OWASP-Turkey Chair
<A HREF="http://www.webguvenligi.org">http://www.webguvenligi.org</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.owasp.org/pipermail/owasp-turkey/attachments/20070524/5d2e35c1/attachment.html">http://lists.owasp.org/pipermail/owasp-turkey/attachments/20070524/5d2e35c1/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000108.html">[Owasp-turkey] [Fwd: [netsec] WordPress Kritik Guvenlik Acigi]
</A></li>
	<LI>Next message: <A HREF="000110.html">[Owasp-turkey] [Fwd: [netsec] WordPress Kritik Guvenlik Acigi]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#109">[ date ]</a>
              <a href="thread.html#109">[ thread ]</a>
              <a href="subject.html#109">[ subject ]</a>
              <a href="author.html#109">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-turkey">More information about the Owasp-turkey
mailing list</a><br>
</body></html>
