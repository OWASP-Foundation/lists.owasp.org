<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-turkey] Owasp-turkey Digest, Vol 52, Issue 9
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20Owasp-turkey%20Digest%2C%20Vol%2052%2C%20Issue%209&In-Reply-To=CABp4KdkDgrA%3D7G9zOf34R%2BuYqxXaDzgpE3EZsVqvwxAuMqRGaw%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001310.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-turkey] Owasp-turkey Digest, Vol 52, Issue 9</H1>
    <B>Bedirhan Urgun</B> 
    <A HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20Owasp-turkey%20Digest%2C%20Vol%2052%2C%20Issue%209&In-Reply-To=CABp4KdkDgrA%3D7G9zOf34R%2BuYqxXaDzgpE3EZsVqvwxAuMqRGaw%40mail.gmail.com"
       TITLE="[Owasp-turkey] Owasp-turkey Digest, Vol 52, Issue 9">bedirhanurgun at gmail.com
       </A><BR>
    <I>Mon Aug  1 01:06:36 EDT 2011</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001310.html">[Owasp-turkey] Owasp-turkey Digest, Vol 52, Issue 9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1308">[ date ]</a>
              <a href="thread.html#1308">[ thread ]</a>
              <a href="subject.html#1308">[ subject ]</a>
              <a href="author.html#1308">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Merhaba,
ilki guzel, &quot;canary accounts&quot; yani. Ama ayni IP kullanan gecerli
kullanicilarda DoS'a sebep olabilir.
ikincisinde ise IP adresini bloklamak, yukaridaki gibi, NAT yapan
yerlerde DoS'a sebep olabilir.

Bu durumlarda bloklamak yerine CAPTCHA cikarilabilir dedigin gibi. Ama hangi
durumlarda? Yani istemcinin CAPTCHA girmesini zorunlu tutma (ve sonra
kaldirma) islemi hangi kriterlere, ne kadar bagli olmali sorusu.

Kullanabilecegimiz kriterler;

1. IP adresi
2. Username
3. Hatali Deneme Sayisi
4. Hatali Deneme Sayisi Zaman Penceresi (A suresinde 20 hatali deneme gibi)
...

3 ve 4'u iyi optimize etmek lazim diye dusunuyorum. Uygulamaya gelen trafige
ne kadar bagli, ne oranda degismeli yani adaptif olabilir mi?

1 ve 2 icin ise; CAPTCHA gosterme kriteri olarak sadece IP kullanirsak,
NATlanmis kullanicilardan iyileri ve kotuleri ayirdedemeyebiliriz, detay
vermeyebilir. Sadece Username kullanirsak, cok mantikli olmaz cunku sifre
sabit, username degisken saldirilarini engellememis oluruz. IP ve Username
kullansak, yine ayni durum, cunku sifre sabit, username degisken
saldirilarini engellememis oluruz. Birden fazka katmanli, hibrid bisey
lazim.

Dusunmeye baslayinca (hem brute-force hem DoS'a karsi) etkili bir onlem icin
kompleks bir algoritma gerekiyormus gibi geliyor. Bir de bu algoritmanin
data structure buyuklugunun ve CPU harcama oraninin dusuk olmasi gerekir.
Basit bir ornek, birden fazla uygulama sunucusunda kosan enterprise
bir uygulama icin gelistirilecek algoritma olusturacagi en basitinden [IP,
hatali deneme sayisi] tablosunu nerde tutmali: ortak kullanilabilecek bir
RAM cache? DB?

Bitirme projesi, veya MS tezinin bir parcasi olarak boyle bir algoritma
gelistirilebilir. ;)

Not: Google sanirim sadece IP adresine bakiyor.

bedirhan

*- administrator, admin, editor vs. gibi muhtemel username'leri veritaban&#196;&#177;na
kaydederdim fakat kullan&#196;&#177;c&#196;&#177;lara tahsis etmezdim. Bu username'ler ile istek
geldi&#196;&#159;i zaman direk sald&#196;&#177;r&#196;&#177; oldu&#196;&#159;unu / olabilece&#196;&#159;ini anlar ve X s&#195;&#188;resi
boyunca o IP adresini bloklard&#196;&#177;m.

- Kullan&#196;&#177;c&#196;&#177;lara tahsis edilmi&#197;&#159; kullan&#196;&#177;c&#196;&#177; adlar&#196;&#177;na yap&#196;&#177;lan sald&#196;&#177;r&#196;&#177;larda ise
kullan&#196;&#177;c&#196;&#177;n&#196;&#177;n hesab&#196;&#177; kilitlenmesin isteniyorsa 10 tane yanl&#196;&#177;&#197;&#159; deneme sonras&#196;&#177;
yine IP adresini bloklamak, 3 yanl&#196;&#177;&#197;&#159; deneme sonras&#196;&#177; CAPTCHA &#195;&#167;&#196;&#177;karmak
mant&#196;&#177;kl&#196;&#177; olacakt&#196;&#177;r.*


30 Temmuz 2011 01:15 tarihinde Onur Yilmaz &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">contact at onuryilmaz.info</A>&gt; yazd&#196;&#177;:

&gt;<i> Selam,
</I>&gt;<i>
</I>&gt;<i> - HTTPS vurgusu yap&#196;&#177;ld&#196;&#177;&#196;&#159;&#196;&#177;ndan &#195;&#182;t&#195;&#188;r&#195;&#188; &#195;&#182;ncelikli olarak protokol kontrol&#195;&#188;
</I>&gt;<i> &#197;&#159;art, bunu da login sayfas&#196;&#177;n&#196;&#177; da HTTPS &#195;&#188;zerinden &#195;&#167;al&#196;&#177;&#197;&#159;t&#196;&#177;rarak yapmal&#196;&#177; ve
</I>&gt;<i> HTTP &#195;&#188;zerinden gelen istekler dikkate al&#196;&#177;nmamal&#196;&#177;d&#196;&#177;r.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://docs.google.com/a/mavitunasecurity.com/Doc?id=d2qjp94_78f96rxdgq#_ye_Giri_Formunu_HTTP_adresine">https://docs.google.com/a/mavitunasecurity.com/Doc?id=d2qjp94_78f96rxdgq#_ye_Giri_Formunu_HTTP_adresine</A>
</I>&gt;<i>
</I>&gt;<i> - Ek olarak cookie kullan&#196;&#177;m&#196;&#177; var ise cookiler 'mark as secure' olarak
</I>&gt;<i> i&#197;&#159;aretlenmeli ve HTTPS &#195;&#188;zerinden ta&#197;&#159;&#196;&#177;nmal&#196;&#177;d&#196;&#177;r.
</I>&gt;<i>
</I>&gt;<i> - Hata mesajlar&#196;&#177; noktas&#196;&#177;nda, hatalardan kullan&#196;&#177;c&#196;&#177; ad&#196;&#177; 'enumerate'
</I>&gt;<i> edilmemesi i&#195;&#167;in daha generic, bilgi s&#196;&#177;zmayan hata mesajlar&#196;&#177; tercih
</I>&gt;<i> edilmelidir. Kullan&#196;&#177;c&#196;&#177; ad&#196;&#177; ya &#197;&#159;ifre de yanl&#196;&#177;&#197;&#159; olsa hata mesaj&#196;&#177; 'kullan&#196;&#177;c&#196;&#177;
</I>&gt;<i> ad&#196;&#177;n&#196;&#177;z / &#197;&#159;ifreniz yanl&#196;&#177;&#197;&#159;' &#197;&#159;eklinde verilirse enumeration yap&#196;&#177;lamaz.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://www.owasp.org/index.php/Testing_for_user_enumeration_%28OWASP-AT-002%29">https://www.owasp.org/index.php/Testing_for_user_enumeration_%28OWASP-AT-002%29</A>
</I>&gt;<i>
</I>&gt;<i> &#196;&#176;stenilenler ve bu bilgiler &#196;&#177;&#197;&#159;&#196;&#177;&#196;&#159;&#196;&#177;nda ben olsam;
</I>&gt;<i>
</I>&gt;<i> - administrator, admin, editor vs. gibi muhtemel username'leri veritaban&#196;&#177;na
</I>&gt;<i> kaydederdim fakat kullan&#196;&#177;c&#196;&#177;lara tahsis etmezdim. Bu username'ler ile istek
</I>&gt;<i> geldi&#196;&#159;i zaman direk sald&#196;&#177;r&#196;&#177; oldu&#196;&#159;unu / olabilece&#196;&#159;ini anlar ve X s&#195;&#188;resi
</I>&gt;<i> boyunca o IP adresini bloklard&#196;&#177;m.
</I>&gt;<i>
</I>&gt;<i> - Kullan&#196;&#177;c&#196;&#177;lara tahsis edilmi&#197;&#159; kullan&#196;&#177;c&#196;&#177; adlar&#196;&#177;na yap&#196;&#177;lan sald&#196;&#177;r&#196;&#177;larda ise
</I>&gt;<i> kullan&#196;&#177;c&#196;&#177;n&#196;&#177;n hesab&#196;&#177; kilitlenmesin isteniyorsa 10 tane yanl&#196;&#177;&#197;&#159; deneme sonras&#196;&#177;
</I>&gt;<i> yine IP adresini bloklamak, 3 yanl&#196;&#177;&#197;&#159; deneme sonras&#196;&#177; CAPTCHA &#195;&#167;&#196;&#177;karmak
</I>&gt;<i> mant&#196;&#177;kl&#196;&#177; olacakt&#196;&#177;r.
</I>&gt;<i>
</I>&gt;<i> CAPTCHA kullan&#196;&#177;lmas&#196;&#177; istenmez ise bir &#195;&#167;&#195;&#182;z&#195;&#188;m &#195;&#182;nerim yok :) bir &#195;&#188;stteki
</I>&gt;<i> maddeyi yine uygulard&#196;&#177;m.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> merhaba,
</I>&gt;&gt;<i> asagidaki senaryo ve istenenlere gore yaziliminizda nasil bir algoritma
</I>&gt;&gt;<i> gelistirirdiniz?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *Senaryo:*
</I>&gt;&gt;<i> * Client-server uygulamasinin (klasik web uygulamasi olmayabilir) kimlik
</I>&gt;&gt;<i> dogrulama ekraninda username/password aliniyor.
</I>&gt;&gt;<i> * Bir username icin X defa yanlis password girilirse hesap kilitleme
</I>&gt;&gt;<i> (lockout) politikasi var.
</I>&gt;&gt;<i> * http*s* kullaniliyor.
</I>&gt;&gt;<i> * Yanlis kimlik dogrulama sonrasi hata mesaji genel bir mesaj (orn:
</I>&gt;&gt;<i> username
</I>&gt;&gt;<i> veya sifre hatali).
</I>&gt;&gt;<i> * Muhtemel usernameleri bulmak zor degil.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *Istenenler:*
</I>&gt;&gt;<i> * Username ve sifre brute force saldirilarina karsi onlemler alinmak
</I>&gt;&gt;<i> isteniyor;
</I>&gt;&gt;<i>  ** username sabit, sifre degisken
</I>&gt;&gt;<i>  ** username degisken, sifre sabit
</I>&gt;&gt;<i> * bulk sekilde hesap kilitleme saldirilarina karsi onlemler alinmak
</I>&gt;&gt;<i> isteniyor.
</I>&gt;&gt;<i>  * Ilk giriste CAPTCHA cikmasi istenmiyor. Kullaniciyi kaciriyor cunku...
</I>&gt;&gt;<i> :)
</I>&gt;&gt;<i> * OTP gibi cozumler uygulama icin hantal geliyor.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *Ek Not:*
</I>&gt;&gt;<i> * Eger yukarida istenenler icinde &quot;captcha kullanilmamalidir&quot; maddesi
</I>&gt;&gt;<i> olsaydi, algoritmaniz nasil olurdu?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> bedirhan
</I>&gt;&gt;<i> -------------- next part --------------
</I>&gt;&gt;<i> An HTML attachment was scrubbed...
</I>&gt;&gt;<i> URL:
</I>&gt;&gt;<i> <A HREF="https://lists.owasp.org/pipermail/owasp-turkey/attachments/20110729/0114c8f6/attachment-0001.html">https://lists.owasp.org/pipermail/owasp-turkey/attachments/20110729/0114c8f6/attachment-0001.html</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ------------------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Owasp-turkey mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
</I>&gt;&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> End of Owasp-turkey Digest, Vol 52, Issue 9
</I>&gt;&gt;<i> *******************************************
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-turkey mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Bedirhan Urgun
<A HREF="http://www.webguvenligi.org">http://www.webguvenligi.org</A>
<A HREF="http://www.owasp.org/index.php/Turkey">http://www.owasp.org/index.php/Turkey</A>

T&#195;&#188;rk&#195;&#167;e Web Uygulama G&#195;&#188;venli&#196;&#159;i E-Posta Listesine &#195;&#188;ye olmak i&#195;&#167;in:
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
-------------- sonraki b&#246;l&#252;m --------------
Bir HTML eklentisi temizlendi...
URL: <A HREF="https://lists.owasp.org/pipermail/owasp-turkey/attachments/20110801/c7619c04/attachment.html">https://lists.owasp.org/pipermail/owasp-turkey/attachments/20110801/c7619c04/attachment.html</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001310.html">[Owasp-turkey] Owasp-turkey Digest, Vol 52, Issue 9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1308">[ date ]</a>
              <a href="thread.html#1308">[ thread ]</a>
              <a href="subject.html#1308">[ subject ]</a>
              <a href="author.html#1308">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-turkey">More information about the Owasp-turkey
mailing list</a><br>
</body></html>
