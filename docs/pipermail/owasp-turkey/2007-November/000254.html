<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-turkey] html/js enjeksiyonu
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20html/js%20enjeksiyonu&In-Reply-To=BAY104-W2784FE7507744FB4B162FED68A0%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000253.html">
   <LINK REL="Next"  HREF="000255.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-turkey] html/js enjeksiyonu</H1>
    <B>Ferruh Mavituna</B> 
    <A HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20html/js%20enjeksiyonu&In-Reply-To=BAY104-W2784FE7507744FB4B162FED68A0%40phx.gbl"
       TITLE="[Owasp-turkey] html/js enjeksiyonu">ferruh at mavituna.com
       </A><BR>
    <I>Thu Nov  8 05:35:46 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000253.html">[Owasp-turkey] html/js enjeksiyonu
</A></li>
        <LI>Next message: <A HREF="000255.html">[Owasp-turkey] html/js enjeksiyonu
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#254">[ date ]</a>
              <a href="thread.html#254">[ thread ]</a>
              <a href="subject.html#254">[ subject ]</a>
              <a href="author.html#254">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Merhabalar,

Bana nadir durumlar harici sorun yokmus gibi gorunuyor. Sayfa UTF7 ile
render edilirse XSS yapilabilir ancak onun harici UTF8 de sorun yok gibi.

Birde eski netscape versiyonlarinin birinde tuhaf atak vektorleri vardi &amp;
ile baslayarak JS calistirmak gibi onlari da yok sayiyorum.

Ek olarak backslash (\) girdinin son karakteri olursa JS hatasi
verdirilebilir ama exploit edilebilir bir durum yok.

Bu tricky bir soru mu yoksa :) Bunu gecmenin bir yolunu buldun da agzimizi
yokluyorsun :D

On 07/11/2007, Bedirhan Urgun &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">urgunb at hotmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Merhaba,
</I>&gt;<i> diyelim ki asagidaki gibi bi program parcam var (herhangi baska bi dilde
</I>&gt;<i> de olabilirdi, bu seferlik java olsun);
</I>&gt;<i>
</I>&gt;<i> private String filterText(String filterMe){
</I>&gt;<i>
</I>&gt;<i>   String filteredMe = &quot;&quot;;
</I>&gt;<i>   int index = 0;
</I>&gt;<i>   while(index &lt; filterMe.length()){
</I>&gt;<i>  if(
</I>&gt;<i>   filterMe.charAt(index) == '(' || filterMe.charAt(index) == ')' ||
</I>&gt;<i>   filterMe.charAt(index) == '\' || filterMe.charAt(index) == ' ' ||
</I>&gt;<i>   filterMe.charAt(index) == '@' &lt;%27@%27&gt; || filterMe.charAt(index) == '+'
</I>&gt;<i> ||
</I>&gt;<i>   filterMe.charAt(index) == '&amp;' || filterMe.charAt(index) == '^' ||
</I>&gt;<i>   filterMe.charAt(index) == '.' || filterMe.charAt(index) == ',' ||
</I>&gt;<i>   filterMe.charAt(index) == ':' || filterMe.charAt(index) == '-' ||
</I>&gt;<i>   (filterMe.charAt(index) &gt;= 'a' || filterMe.charAt(index) &lt;= 'z') ||
</I>&gt;<i>   filterMe.charAt(index) == '*' || filterMe.charAt(index) == '%' ||
</I>&gt;<i>   filterMe.charAt(index) == '_' || filterMe.charAt(index) == '/' ||
</I>&gt;<i>   filterMe.charAt(index) == '?' ||
</I>&gt;<i>   (filterMe.charAt(index) &gt;= '0' || filterMe.charAt(index) &lt;= '9')
</I>&gt;<i>  )
</I>&gt;<i>   filteredMe += filterMe.charAt(index);
</I>&gt;<i>  index++;
</I>&gt;<i>   }
</I>&gt;<i>   return filteredMe;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> ve sayfalarimda asagidaki gibi parcalar var;
</I>&gt;<i>
</I>&gt;<i> 1. html icinde;
</I>&gt;<i> ...
</I>&gt;<i> &lt;p&gt;&lt;%= request.getParameter(&quot;paramForFilterMe&quot;);%&gt;&lt;/p&gt;
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> 2. &lt;script&gt; taglari icinde;
</I>&gt;<i> ...
</I>&gt;<i> function myFunc(){
</I>&gt;<i>  myObj.test = &quot;&lt;%= request.getParameter(&quot;paramForFilterMe&quot;); %&gt;&quot;;
</I>&gt;<i>  // ...
</I>&gt;<i> }
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> paramForFilter parametresi denetim amacli olarak sadece en yukaridaki
</I>&gt;<i> filterMe metodundan gecsin. Simdiye kadar cozmussunuzdur ama sorum:
</I>&gt;<i>
</I>&gt;<i> 1 ve 2 parcalari icin html/js enjeksiyon durumu nedir?
</I>&gt;<i>
</I>&gt;<i> P.S: Yukaridaki kodlar tamamiyla hayalidir. :)
</I>&gt;<i>
</I>&gt;<i> bedirhan
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i> Windows Live Hotmail and Microsoft Office Outlook &#8211; together at last. Get
</I>&gt;<i> it now!&lt;<A HREF="http://office.microsoft.com/en-us/outlook/HA102225181033.aspx?pid=CL100626971033">http://office.microsoft.com/en-us/outlook/HA102225181033.aspx?pid=CL100626971033</A>&gt;
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-turkey mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Ferruh Mavituna
<A HREF="http://ferruh.mavituna.com">http://ferruh.mavituna.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.owasp.org/pipermail/owasp-turkey/attachments/20071108/0b502a8d/attachment.html">https://lists.owasp.org/pipermail/owasp-turkey/attachments/20071108/0b502a8d/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000253.html">[Owasp-turkey] html/js enjeksiyonu
</A></li>
	<LI>Next message: <A HREF="000255.html">[Owasp-turkey] html/js enjeksiyonu
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#254">[ date ]</a>
              <a href="thread.html#254">[ thread ]</a>
              <a href="subject.html#254">[ subject ]</a>
              <a href="author.html#254">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-turkey">More information about the Owasp-turkey
mailing list</a><br>
</body></html>
