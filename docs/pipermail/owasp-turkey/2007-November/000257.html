<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-turkey] html/js enjeksiyonu
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20html/js%20enjeksiyonu&In-Reply-To=BAY104-W4250B2D6C33B432713F285D68B0%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000256.html">
   <LINK REL="Next"  HREF="000258.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-turkey] html/js enjeksiyonu</H1>
    <B>Ferruh Mavituna</B> 
    <A HREF="mailto:owasp-turkey%40lists.owasp.org?Subject=%5BOwasp-turkey%5D%20html/js%20enjeksiyonu&In-Reply-To=BAY104-W4250B2D6C33B432713F285D68B0%40phx.gbl"
       TITLE="[Owasp-turkey] html/js enjeksiyonu">ferruh at mavituna.com
       </A><BR>
    <I>Thu Nov  8 10:17:04 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000256.html">[Owasp-turkey] html/js enjeksiyonu
</A></li>
        <LI>Next message: <A HREF="000258.html">[Owasp-turkey] html/js enjeksiyonu
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#257">[ date ]</a>
              <a href="thread.html#257">[ thread ]</a>
              <a href="subject.html#257">[ subject ]</a>
              <a href="author.html#257">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Javascript ozelliklerine deginmek istiyorsan Jeremiah' in surada degindigi :
<A HREF="http://jeremiahgrossman.blogspot.com/2006/01/advanced-web-attack-techniques-using.html">http://jeremiahgrossman.blogspot.com/2006/01/advanced-web-attack-techniques-using.html</A>

Daha sonradan Javascript Hijacking adi ile piyasaya surulen olaya
deginebilirsin. Bence oradaki &quot;setter&quot; konsepti hakikaten etkileyici.

On 08/11/2007, Bedirhan Urgun &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">urgunb at hotmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> soruda bi hinlik yok abi, en azindan oyle bi amacim yoktu. :)
</I>&gt;<i>
</I>&gt;<i> filterText metodunun ilk versiyonunda
</I>&gt;<i>
</I>&gt;<i> ( filterMe.charAt(index) &gt;= 'A' || filterMe.charAt(index) &lt;= 'Z') ||
</I>&gt;<i>
</I>&gt;<i> vardi, onu 1inci durumda (hatta 2inci durumda) UTF-7 kullanilamasin diye
</I>&gt;<i> kaldirdim. Malum;
</I>&gt;<i>
</I>&gt;<i> &lt;  icin  +ADw-
</I>&gt;<i> &gt;  icin  +AD4-
</I>&gt;<i>
</I>&gt;<i> buyuk harfler var ve case sensitive.
</I>&gt;<i>
</I>&gt;<i> 2inci durumda escape karakteri (\) hata verdirir ama dedigin gibi o da bi
</I>&gt;<i> ise yaramiyor.
</I>&gt;<i>
</I>&gt;<i> Bu vesileyle encode meseleleri ile alakali iki link;
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://h4k.in/encoding/index.php">http://h4k.in/encoding/index.php</A>
</I>&gt;<i> <A HREF="http://www.businessinfo.co.uk/labs/hackvertor/hackvertor.php">http://www.businessinfo.co.uk/labs/hackvertor/hackvertor.php</A>
</I>&gt;<i>  (firefox,opera)
</I>&gt;<i>
</I>&gt;<i> su etkinliklerde ozellikle ogrencilerin dikkatini javascript ve
</I>&gt;<i> ozelliklerine cekebilirsem ...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  ------------------------------
</I>&gt;<i> Date: Thu, 8 Nov 2007 10:35:46 +0000
</I>&gt;<i> From: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">ferruh at mavituna.com</A>
</I>&gt;<i> To: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">urgunb at hotmail.com</A>
</I>&gt;<i> Subject: Re: [Owasp-turkey] html/js enjeksiyonu
</I>&gt;<i> CC: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">owasp-turkey at lists.owasp.org</A>
</I>&gt;<i>
</I>&gt;<i> Merhabalar,
</I>&gt;<i>
</I>&gt;<i> Bana nadir durumlar harici sorun yokmus gibi gorunuyor. Sayfa UTF7 ile
</I>&gt;<i> render edilirse XSS yapilabilir ancak onun harici UTF8 de sorun yok gibi.
</I>&gt;<i>
</I>&gt;<i> Birde eski netscape versiyonlarinin birinde tuhaf atak vektorleri vardi &amp;
</I>&gt;<i> ile baslayarak JS calistirmak gibi onlari da yok sayiyorum.
</I>&gt;<i>
</I>&gt;<i> Ek olarak backslash (\) girdinin son karakteri olursa JS hatasi
</I>&gt;<i> verdirilebilir ama exploit edilebilir bir durum yok.
</I>&gt;<i>
</I>&gt;<i> Bu tricky bir soru mu yoksa :) Bunu gecmenin bir yolunu buldun da agzimizi
</I>&gt;<i> yokluyorsun :D
</I>&gt;<i>
</I>&gt;<i> On 07/11/2007, *Bedirhan Urgun* &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">urgunb at hotmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Merhaba,
</I>&gt;<i> diyelim ki asagidaki gibi bi program parcam var (herhangi baska bi dilde
</I>&gt;<i> de olabilirdi, bu seferlik java olsun);
</I>&gt;<i>
</I>&gt;<i> private String filterText(String filterMe){
</I>&gt;<i>
</I>&gt;<i>   String filteredMe = &quot;&quot;;
</I>&gt;<i>   int index = 0;
</I>&gt;<i>   while(index &lt; filterMe.length()){
</I>&gt;<i>  if(
</I>&gt;<i>   filterMe.charAt(index) == '(' || filterMe.charAt(index) == ')' ||
</I>&gt;<i>   filterMe.charAt(index) == '\' || filterMe.charAt(index) == ' ' ||
</I>&gt;<i>   filterMe.charAt(index) == '@' &lt;%27@%27&gt; || filterMe.charAt(index) == '+'
</I>&gt;<i> ||
</I>&gt;<i>   filterMe.charAt(index) == '&amp;' || filterMe.charAt(index) == '^' ||
</I>&gt;<i>   filterMe.charAt(index) == '.' || filterMe.charAt(index) == ',' ||
</I>&gt;<i>   filterMe.charAt(index) == ':' || filterMe.charAt(index) == '-' ||
</I>&gt;<i>   ( filterMe.charAt(index) &gt;= 'a' || filterMe.charAt(index) &lt;= 'z') ||
</I>&gt;<i>   filterMe.charAt(index) == '*' || filterMe.charAt(index) == '%' ||
</I>&gt;<i>   filterMe.charAt(index) == '_' || filterMe.charAt(index) == '/' ||
</I>&gt;<i>   filterMe.charAt(index) == '?' ||
</I>&gt;<i>   (filterMe.charAt(index) &gt;= '0' || filterMe.charAt(index) &lt;= '9')
</I>&gt;<i>  )
</I>&gt;<i>   filteredMe += filterMe.charAt (index);
</I>&gt;<i>  index++;
</I>&gt;<i>   }
</I>&gt;<i>   return filteredMe;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> ve sayfalarimda asagidaki gibi parcalar var;
</I>&gt;<i>
</I>&gt;<i> 1. html icinde;
</I>&gt;<i> ...
</I>&gt;<i> &lt;p&gt;&lt;%= request.getParameter(&quot;paramForFilterMe&quot;);%&gt;&lt;/p&gt;
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> 2. &lt;script&gt; taglari icinde;
</I>&gt;<i> ...
</I>&gt;<i> function myFunc(){
</I>&gt;<i>  myObj.test = &quot;&lt;%= request.getParameter(&quot;paramForFilterMe&quot;); %&gt;&quot;;
</I>&gt;<i>  // ...
</I>&gt;<i> }
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> paramForFilter parametresi denetim amacli olarak sadece en yukaridaki
</I>&gt;<i> filterMe metodundan gecsin. Simdiye kadar cozmussunuzdur ama sorum:
</I>&gt;<i>
</I>&gt;<i> 1 ve 2 parcalari icin html/js enjeksiyon durumu nedir?
</I>&gt;<i>
</I>&gt;<i> P.S: Yukaridaki kodlar tamamiyla hayalidir. :)
</I>&gt;<i>
</I>&gt;<i> bedirhan
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i> Windows Live Hotmail and Microsoft Office Outlook &#8211; together at last. Get
</I>&gt;<i> it now!&lt;<A HREF="http://office.microsoft.com/en-us/outlook/HA102225181033.aspx?pid=CL100626971033">http://office.microsoft.com/en-us/outlook/HA102225181033.aspx?pid=CL100626971033</A>&gt;
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-turkey mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">Owasp-turkey at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-turkey">https://lists.owasp.org/mailman/listinfo/owasp-turkey</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Ferruh Mavituna
</I>&gt;<i> <A HREF="http://ferruh.mavituna.com">http://ferruh.mavituna.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i> Windows Live Hotmail and Microsoft Office Outlook &#8211; together at last. Get
</I>&gt;<i> it now!&lt;<A HREF="http://office.microsoft.com/en-us/outlook/HA102225181033.aspx?pid=CL100626971033">http://office.microsoft.com/en-us/outlook/HA102225181033.aspx?pid=CL100626971033</A>&gt;
</I>&gt;<i>
</I>


-- 
Ferruh Mavituna
<A HREF="http://ferruh.mavituna.com">http://ferruh.mavituna.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.owasp.org/pipermail/owasp-turkey/attachments/20071108/c7e362ad/attachment.html">https://lists.owasp.org/pipermail/owasp-turkey/attachments/20071108/c7e362ad/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000256.html">[Owasp-turkey] html/js enjeksiyonu
</A></li>
	<LI>Next message: <A HREF="000258.html">[Owasp-turkey] html/js enjeksiyonu
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#257">[ date ]</a>
              <a href="thread.html#257">[ thread ]</a>
              <a href="subject.html#257">[ subject ]</a>
              <a href="author.html#257">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-turkey">More information about the Owasp-turkey
mailing list</a><br>
</body></html>
