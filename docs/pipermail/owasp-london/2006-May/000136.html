<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-london] Re: [WEB SECURITY] Review of Owasp-London Chapter meeting on WAF (Web Application Firewalls)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-london%40lists.owasp.org?Subject=%5BOwasp-london%5D%20Re%3A%20%5BWEB%20SECURITY%5D%20Review%20of%20Owasp-London%20Chapter%20meeting%20on%20WAF%0A%20%28Web%20Application%20Firewalls%29&In-Reply-To=Pine.LNX.4.33.0605022329290.9913-100000%40bali.secure-net.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000140.html">
   <LINK REL="Next"  HREF="000142.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-london] Re: [WEB SECURITY] Review of Owasp-London Chapter meeting on WAF (Web Application Firewalls)</H1>
    <B>Dinis Cruz</B> 
    <A HREF="mailto:owasp-london%40lists.owasp.org?Subject=%5BOwasp-london%5D%20Re%3A%20%5BWEB%20SECURITY%5D%20Review%20of%20Owasp-London%20Chapter%20meeting%20on%20WAF%0A%20%28Web%20Application%20Firewalls%29&In-Reply-To=Pine.LNX.4.33.0605022329290.9913-100000%40bali.secure-net.de"
       TITLE="[Owasp-london] Re: [WEB SECURITY] Review of Owasp-London Chapter meeting on WAF (Web Application Firewalls)">dinis at ddplus.net
       </A><BR>
    <I>Tue May  2 19:27:18 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000140.html">[Owasp-london] RE: Owasp-london digest, Vol 1 #78 - 4 msgs
</A></li>
        <LI>Next message: <A HREF="000142.html">[Owasp-london] RE: [WEB SECURITY] Re: [Owasp-dotnet] Review of Owasp-London Chapter meeting on WAF (Web Application Firewalls)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#136">[ date ]</a>
              <a href="thread.html#136">[ thread ]</a>
              <a href="subject.html#136">[ subject ]</a>
              <a href="author.html#136">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Achim Hoffmann wrote:
&gt;<i> !! Exactly, and because that is a complex task, the WAF's vendors don't do
</I>&gt;<i> !! it today (but in my point of view will need to do it in the future)
</I>&gt;<i>
</I>&gt;<i> Good requirement. But I'd like to see WAFs first which fit into existing
</I>&gt;<i> environemnts and do simple jobs there, before they claim to do something
</I>&gt;<i> sophisticated.
</I>&gt;<i>   
</I>If by simple jobs you mean basic SQL Injection and XSS, then they 
already do that today
&gt;<i> Agreed. But application logic (your words: layer 7.5) is not part of layer 7.
</I>&gt;<i>   
</I>ok, so what is it part of?

Layer 8 is the User, so you can go there.

Where will you put that request?

Also how do you define Application Logic? Some WAFs are able to handle 
some types of application logic (namely the ones you can match to a 
signature)

So what you need is to find a name (or layer) for 'Application Logic not 
picked up by the WAFs that sits between Layer 7 and Layer 8'

:<i>)
</I>
&gt;<i> !! &gt; It's dangerous that a WAF has its own idea how to sort data out ..
</I>&gt;<i> !! Why? Remember that I defend that the point where WAFs are most effective
</I>&gt;<i> !! and valuable is when they are being configured by an experienced and
</I>&gt;<i> !! knowledgeable security consultant (preferably not the one that found the
</I>&gt;<i> !! vulnerability).
</I>&gt;<i>
</I>&gt;<i> See my example: O'Connor
</I>&gt;<i> Do you configure to substitute for XSS or SQL injection?
</I>&gt;<i>   
</I>You do what:

    a) mitigates the vulnerability that existed on that form field, and

    b) is compatible with the business requirement for the affected 
functionality (i.e. doesn't break functionality and user experience)
   
    c) is more cost effective to resolve
&gt;<i> Also, configuering a WAF that way could not be done by a knowledgable
</I>&gt;<i> consultant, except (s)he knows all the details of the application. 
</I>If you are applying a 'patch', then you only need to know the details of 
the affected page(s). That is the beauty of the solution that I am 
proposing: Maximum Security Impact with Minimum Business side effects
&gt;<i> But then,
</I>&gt;<i> with that knowledge, the consultant could fix the application code also.
</I>&gt;<i> I'm not saying that knowledgeable security consultant are not able to
</I>&gt;<i> configure WAFs, but they need to know the application including its logic,
</I>&gt;<i> usually not possible without having the developer aside.
</I>&gt;<i>   
</I>I am not sure about this, it helps to have access to the developers, but 
these patches can be created and deployed without them. In fact, in this 
case, the Testers could even be more important than the developers since 
regression testing will need to be done on those 'patches'.
&gt;<i> !! Do you still disagree with me that sometimes you NEED to be able to
</I>&gt;<i> !! dynamically change the contents of an HTTP request (namely Form values)
</I>&gt;<i>
</I>&gt;<i> Agree or disagree is not the question here. I personally don't like the
</I>&gt;<i> idea that the WAF changes data.
</I>Liking or not Linking is not the question here :), I personally want to 
have the option to make the WAF change the data dynamically.
&gt;<i>  It's purpose is to allow or to reject.
</I>&gt;<i> The main reason for this strict behaviour is that you never know if the
</I>&gt;<i> changed data cause problems elsewhere, or an other attack is possible with
</I>&gt;<i> the changed data.
</I>&gt;<i> My favorite rule: reject anything you don't know or you don't expect.
</I>&gt;<i>   
</I>This only works in clear scenarios, where you have 100% certainty that 
what you are seeing is an attack.

What about when you are not sure? Maybe you only have 80% certainty that 
what you are seeing is an attack. what do you do in these scenarios?
&gt;<i> !! But what about when secret data is sent on a response? Shouldn't we be
</I>&gt;<i> !! able to stop that?
</I>&gt;<i>
</I>&gt;<i> If it is in a form, and read only, then it could be encrypted. 
</I>What do you mean by '... then it could be encrypted'?
 
If the secret data is going out on a http response (to a valid http 
request),  then you have two choices:

       a) block the request
       b) modify the content in real time and remove/protect the secret data
&gt;<i> Cite:
</I>&gt;<i>   &quot;However, our aim is not to document the
</I>&gt;<i>    features that must be supported in order for a product to be called a
</I>&gt;<i>    web application firewall. Web application firewalls are simply too
</I>&gt;<i>    complex to be treated like this.&quot;
</I>&gt;<i>   
</I>yes, but I never said that the WAFs had to support the entire WAFEC? I 
just want to know their responses to it.
&gt;<i> Hmm, if all your questions addressed the vendors only, but have not been
</I>&gt;<i> addressed to the readers of the mailing list, then my comments could have
</I>&gt;<i> been avoided :)
</I>&gt;<i>   
</I>What vendors? By the number of responses so far it seems that no vendor 
is interested in debating these points on a public forum

Best regards

Dinis Cruz
Owasp .Net Project
www.owasp.net







</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000140.html">[Owasp-london] RE: Owasp-london digest, Vol 1 #78 - 4 msgs
</A></li>
	<LI>Next message: <A HREF="000142.html">[Owasp-london] RE: [WEB SECURITY] Re: [Owasp-dotnet] Review of Owasp-London Chapter meeting on WAF (Web Application Firewalls)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#136">[ date ]</a>
              <a href="thread.html#136">[ thread ]</a>
              <a href="subject.html#136">[ subject ]</a>
              <a href="author.html#136">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.owasp.org/mailman/listinfo/owasp-london">More information about the Owasp-london
mailing list</a><br>
</body></html>
