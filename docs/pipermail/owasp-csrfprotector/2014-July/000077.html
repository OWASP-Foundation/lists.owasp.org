<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-csrfprotector] problem with js caching
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-csrfprotector%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfprotector%5D%20problem%20with%20js%20caching&In-Reply-To=%3CCADCpCkjBuerxdSsFR76W3yfmwWLEw2k__J4vpSCijUUndsWsQA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000078.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-csrfprotector] problem with js caching</H1>
    <B>Minhaz A V</B> 
    <A HREF="mailto:owasp-csrfprotector%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfprotector%5D%20problem%20with%20js%20caching&In-Reply-To=%3CCADCpCkjBuerxdSsFR76W3yfmwWLEw2k__J4vpSCijUUndsWsQA%40mail.gmail.com%3E"
       TITLE="[Owasp-csrfprotector] problem with js caching">minhazav at gmail.com
       </A><BR>
    <I>Tue Jul  1 09:04:22 UTC 2014</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000078.html">[Owasp-csrfprotector] Need help with phpunit, unit testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77">[ date ]</a>
              <a href="thread.html#77">[ thread ]</a>
              <a href="subject.html#77">[ subject ]</a>
              <a href="author.html#77">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Its not actually caching, its like we are giving an options for developers
to create a new version of js file when then modify their config file (so
that we can maintain a static js file rather than a dynamic one, in which
we pass the rules for get validation). It would be something used very
rarely or only at the development stage of web application as once they
have identified their needs there would be very less chances of changing
the configuration.
In Fact, we'd recommend the developers to run the script themselves after
they change config. Then the same js script will be served to every client.


Minhaz,
minhaz.cistoner.org || cistoner.org


On Tue, Jul 1, 2014 at 5:20 AM, Kevin W. Wall &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfprotector">kevin.w.wall at gmail.com</A>&gt;
wrote:

&gt;<i> On Mon, Jun 30, 2014 at 5:26 PM, Abbas Naderi &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfprotector">abiusx at owasp.org</A>&gt; wrote:
</I>&gt;<i> &gt; But you need the path to be writable to be able to cache. You have to
</I>&gt;<i> check
</I>&gt;<i> &gt; if you can overwrite the js file anyway, and if you can&#8217;t, serve it
</I>&gt;<i> inline.
</I>&gt;<i> &gt; -A
</I>&gt;<i>
</I>&gt;<i> I'm confused. Why would he need to *overwrite* the .js file when the config
</I>&gt;<i> file is changed?  Or you are just referring to him updating the file's
</I>&gt;<i> modification
</I>&gt;<i> timestamp (which the simplest way is to write 0 bytes to the file) so that
</I>&gt;<i> a
</I>&gt;<i> HEAD request by the browser re-fetches the file instead of pulling it from
</I>&gt;<i> cache?  And if he is going to do that, surely he doesn't have to do it for
</I>&gt;<i> ALL changes to the configuration. E.g., if something is updated to add
</I>&gt;<i> a URL to include for GET requests or exclude for POSTs or whatever,
</I>&gt;<i> that wouldn't require changing the .js file. So it's only cases where
</I>&gt;<i> a new .js file is provided and the web-application is restarted where
</I>&gt;<i> it would matter. Or am I missing something? And generally, if
</I>&gt;<i> the web server is restarted, aren't client browser sessions typically
</I>&gt;<i> going to be dropped anyway? (Maybe not in a clustered application
</I>&gt;<i> environment where you use shared session state rather than sticky
</I>&gt;<i> sessions and only restart only one application server at a time.)
</I>&gt;<i>
</I>&gt;<i> Seems to me that this (changing anything that is requires a new
</I>&gt;<i> .js file to be downloaded by a client with an existing session state
</I>&gt;<i> will be a seldom used edge use case. So in the interest of simplicity,
</I>&gt;<i> can't we just ignore this case and say that if you want to support
</I>&gt;<i> it you need to completely restart your web / application server (or
</I>&gt;<i> cluster of servers)? That is, treat it as if you are doing a new
</I>&gt;<i> deployment.
</I>&gt;<i>
</I>&gt;<i> I mean, do you REALLY anticipate the need for the .js file contents to
</I>&gt;<i> change all all often. I thought this was going to be a set-it-once and
</I>&gt;<i> forget it type of thing.
</I>&gt;<i>
</I>&gt;<i> -kevin
</I>&gt;<i> --
</I>&gt;<i> Blog: <A HREF="http://off-the-wall-security.blogspot.com/">http://off-the-wall-security.blogspot.com/</A>
</I>&gt;<i> NSA: All your crypto bit are belong to us.
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-csrfprotector/attachments/20140701/bcc65cad/attachment.html">http://lists.owasp.org/pipermail/owasp-csrfprotector/attachments/20140701/bcc65cad/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000078.html">[Owasp-csrfprotector] Need help with phpunit, unit testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#77">[ date ]</a>
              <a href="thread.html#77">[ thread ]</a>
              <a href="subject.html#77">[ subject ]</a>
              <a href="author.html#77">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-csrfprotector">More information about the Owasp-csrfprotector
mailing list</a><br>
</body></html>
