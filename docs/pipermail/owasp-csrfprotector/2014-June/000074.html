<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-csrfprotector] problem with js caching
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-csrfprotector%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfprotector%5D%20problem%20with%20js%20caching&In-Reply-To=%3CFE0CEC6D-0776-4B2B-8EE9-0193813DD77E%40owasp.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000073.html">
   <LINK REL="Next"  HREF="000075.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-csrfprotector] problem with js caching</H1>
    <B>Abbas Naderi</B> 
    <A HREF="mailto:owasp-csrfprotector%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfprotector%5D%20problem%20with%20js%20caching&In-Reply-To=%3CFE0CEC6D-0776-4B2B-8EE9-0193813DD77E%40owasp.org%3E"
       TITLE="[Owasp-csrfprotector] problem with js caching">abiusx at owasp.org
       </A><BR>
    <I>Mon Jun 30 21:26:17 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000073.html">[Owasp-csrfprotector] problem with js caching
</A></li>
        <LI>Next message: <A HREF="000075.html">[Owasp-csrfprotector] problem with js caching
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74">[ date ]</a>
              <a href="thread.html#74">[ thread ]</a>
              <a href="subject.html#74">[ subject ]</a>
              <a href="author.html#74">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>But you need the path to be writable to be able to cache. You have to check if you can overwrite the js file anyway, and if you can&#8217;t, serve it inline.
-A
On Jun 30, 2014, at 5:25 PM, Minhaz A V &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfprotector">minhazav at gmail.com</A>&gt; wrote:

&gt;<i> No I think its much better to keep path and url in config and cache js rather than, inline scripts. Thanks :)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Minhaz, 
</I>&gt;<i> minhaz.cistoner.org || cistoner.org
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Tue, Jul 1, 2014 at 2:52 AM, Abbas Naderi &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfprotector">abiusx at owasp.org</A>&gt; wrote:
</I>&gt;<i> If you need a separate js file, you can have those two addresses (not relative and absolute, but path and url) in the config file as well.
</I>&gt;<i> Otherwise you can just serve it as a string inside the php file. This is generally a better idea, to have the developer set a url in the config file as well as a writable path. If its not writable, forget caching and just dump it inline every time.
</I>&gt;<i> -A
</I>&gt;<i> On Jun 30, 2014, at 5:08 PM, Minhaz A V &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfprotector">minhazav at gmail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i> The problem with js file caching is we need to know both the absolute and relative (relative to library file's location) for this. Since the logic is to create a new version only when config file is newer than the js file. To get file last modified information we need to know the relative path), also for creating the js file we need to know the relative path.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On the other hand, the js file link needed to be appended to the html output has to be absolute, or relative to the executing script (and library doesn't know the location of executing script relative to itself I believe). So this requires the library have both the absolute location of js file and its location relative to itself as well!
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Minhaz, 
</I>&gt;&gt;<i> minhaz.cistoner.org || cistoner.org
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Owasp-csrfprotector mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfprotector">Owasp-csrfprotector at lists.owasp.org</A>
</I>&gt;&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfprotector">https://lists.owasp.org/mailman/listinfo/owasp-csrfprotector</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-csrfprotector/attachments/20140630/b9849bed/attachment.html">http://lists.owasp.org/pipermail/owasp-csrfprotector/attachments/20140630/b9849bed/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000073.html">[Owasp-csrfprotector] problem with js caching
</A></li>
	<LI>Next message: <A HREF="000075.html">[Owasp-csrfprotector] problem with js caching
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#74">[ date ]</a>
              <a href="thread.html#74">[ thread ]</a>
              <a href="subject.html#74">[ subject ]</a>
              <a href="author.html#74">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-csrfprotector">More information about the Owasp-csrfprotector
mailing list</a><br>
</body></html>
