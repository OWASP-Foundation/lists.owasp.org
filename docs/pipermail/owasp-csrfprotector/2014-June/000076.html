<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-csrfprotector] problem with js caching
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-csrfprotector%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfprotector%5D%20problem%20with%20js%20caching&In-Reply-To=%3CCAOPE6PiG_9QXXdErnQ8Tgni39OVbzivfEfH-H5YXcV5uuE_jjA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000075.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-csrfprotector] problem with js caching</H1>
    <B>Kevin W. Wall</B> 
    <A HREF="mailto:owasp-csrfprotector%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfprotector%5D%20problem%20with%20js%20caching&In-Reply-To=%3CCAOPE6PiG_9QXXdErnQ8Tgni39OVbzivfEfH-H5YXcV5uuE_jjA%40mail.gmail.com%3E"
       TITLE="[Owasp-csrfprotector] problem with js caching">kevin.w.wall at gmail.com
       </A><BR>
    <I>Mon Jun 30 23:50:14 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000075.html">[Owasp-csrfprotector] problem with js caching
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76">[ date ]</a>
              <a href="thread.html#76">[ thread ]</a>
              <a href="subject.html#76">[ subject ]</a>
              <a href="author.html#76">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jun 30, 2014 at 5:26 PM, Abbas Naderi &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfprotector">abiusx at owasp.org</A>&gt; wrote:
&gt;<i> But you need the path to be writable to be able to cache. You have to check
</I>&gt;<i> if you can overwrite the js file anyway, and if you can&#8217;t, serve it inline.
</I>&gt;<i> -A
</I>
I'm confused. Why would he need to *overwrite* the .js file when the config
file is changed?  Or you are just referring to him updating the file's
modification
timestamp (which the simplest way is to write 0 bytes to the file) so that a
HEAD request by the browser re-fetches the file instead of pulling it from
cache?  And if he is going to do that, surely he doesn't have to do it for
ALL changes to the configuration. E.g., if something is updated to add
a URL to include for GET requests or exclude for POSTs or whatever,
that wouldn't require changing the .js file. So it's only cases where
a new .js file is provided and the web-application is restarted where
it would matter. Or am I missing something? And generally, if
the web server is restarted, aren't client browser sessions typically
going to be dropped anyway? (Maybe not in a clustered application
environment where you use shared session state rather than sticky
sessions and only restart only one application server at a time.)

Seems to me that this (changing anything that is requires a new
.js file to be downloaded by a client with an existing session state
will be a seldom used edge use case. So in the interest of simplicity,
can't we just ignore this case and say that if you want to support
it you need to completely restart your web / application server (or
cluster of servers)? That is, treat it as if you are doing a new deployment.

I mean, do you REALLY anticipate the need for the .js file contents to
change all all often. I thought this was going to be a set-it-once and
forget it type of thing.

-kevin
-- 
Blog: <A HREF="http://off-the-wall-security.blogspot.com/">http://off-the-wall-security.blogspot.com/</A>
NSA: All your crypto bit are belong to us.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000075.html">[Owasp-csrfprotector] problem with js caching
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#76">[ date ]</a>
              <a href="thread.html#76">[ thread ]</a>
              <a href="subject.html#76">[ subject ]</a>
              <a href="author.html#76">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-csrfprotector">More information about the Owasp-csrfprotector
mailing list</a><br>
</body></html>
