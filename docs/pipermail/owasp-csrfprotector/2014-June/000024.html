<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-csrfprotector] Needs Decision
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-csrfprotector%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfprotector%5D%20Needs%20Decision&In-Reply-To=%3CCADCpCkg%3D99AUTsizW7YdKsO%3DgNjyEN8SXTw6-nGYY7r5ZD9_sQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000023.html">
   <LINK REL="Next"  HREF="000025.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-csrfprotector] Needs Decision</H1>
    <B>Minhaz A V</B> 
    <A HREF="mailto:owasp-csrfprotector%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfprotector%5D%20Needs%20Decision&In-Reply-To=%3CCADCpCkg%3D99AUTsizW7YdKsO%3DgNjyEN8SXTw6-nGYY7r5ZD9_sQ%40mail.gmail.com%3E"
       TITLE="[Owasp-csrfprotector] Needs Decision">minhazav at gmail.com
       </A><BR>
    <I>Mon Jun  2 18:55:42 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000023.html">[Owasp-csrfprotector] Updates till date
</A></li>
        <LI>Next message: <A HREF="000025.html">[Owasp-csrfprotector] Needs Decision
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24">[ date ]</a>
              <a href="thread.html#24">[ thread ]</a>
              <a href="subject.html#24">[ subject ]</a>
              <a href="author.html#24">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
Here is the list of ideas, we need to decide, what to do:


   1. In GET requests we are using an array of patterns to find weather we
   need to validate for current request (for ex: **://*/** would mean
   validate for each request). The function checking this, is called by static
   method. So it can be overridden by the developer, in case he want to apply
   his own logic for this (Suggested by Abbas +1), So I guess this would be a
   nice feature to have. [implementation
   &lt;<A HREF="https://github.com/mebjas/CSRF-Protector-PHP/blob/master/libs/csrf/csrfprotector.php#L353">https://github.com/mebjas/CSRF-Protector-PHP/blob/master/libs/csrf/csrfprotector.php#L353</A>&gt;
   ]
   2. For the above part to work, we need to have similar logic in our js
   file. to check which all urls it need to be rewritten/modified: so we can
   pass this patterns to the js file as parameters. [my idea]: we can keep our
   javascript part as php file, and pass the patterns as JSON string in POST
   query to this file. the php file would give js output, and it will be
   parsed well by browser.
   3. Jim suggested to use similar method, for POST requests. it has its
   own pros and cons.
      - PROS
         - not all POST need CSRF protection
         - no overhead of validating every request on server side, and
         attaching the cookie on client side for each request.
         - makes the library configurable to a great extend.
      - CONS
      - It complicates the logic a little and adds to developer's efforts.
         - checking if a particular url should be considered or not has a
         worst case complexity of O(n), where n is the no of patterns in config
         file. so if there are lots of urls to check, say k,
complexity would be
         O(nk) for js. while it would be like O(1) if we check for every POST
         request.
      4. logging function is avalilable at:
   <A HREF="https://github.com/mebjas/CSRF-Protector-PHP/blob/master/libs/csrf/csrfprotector.php#L298">https://github.com/mebjas/CSRF-Protector-PHP/blob/master/libs/csrf/csrfprotector.php#L298</A>
needs
   to know if anything else we shall log?
   5. Do we need to provide some method to inform the admin in case of
   detection, like using mail?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-csrfprotector/attachments/20140603/1083f9fb/attachment.html">http://lists.owasp.org/pipermail/owasp-csrfprotector/attachments/20140603/1083f9fb/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000023.html">[Owasp-csrfprotector] Updates till date
</A></li>
	<LI>Next message: <A HREF="000025.html">[Owasp-csrfprotector] Needs Decision
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24">[ date ]</a>
              <a href="thread.html#24">[ thread ]</a>
              <a href="subject.html#24">[ subject ]</a>
              <a href="author.html#24">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-csrfprotector">More information about the Owasp-csrfprotector
mailing list</a><br>
</body></html>
