<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] [Mod-security-developers]	Advanced Slow DoS Mitigation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20%5BMod-security-developers%5D%0A%09Advanced%20Slow%20DoS%20Mitigation&In-Reply-To=%3C1345264049.78338.YahooMailClassic%40web121003.mail.ne1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001161.html">
   <LINK REL="Next"  HREF="001164.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] [Mod-security-developers]	Advanced Slow DoS Mitigation</H1>
    <B>Oleg Gryb</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20%5BMod-security-developers%5D%0A%09Advanced%20Slow%20DoS%20Mitigation&In-Reply-To=%3C1345264049.78338.YahooMailClassic%40web121003.mail.ne1.yahoo.com%3E"
       TITLE="[Owasp-modsecurity-core-rule-set] [Mod-security-developers]	Advanced Slow DoS Mitigation">oleg_gryb at yahoo.com
       </A><BR>
    <I>Sat Aug 18 04:27:29 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001161.html">[Owasp-modsecurity-core-rule-set] Owasp-Waspy-Awards
</A></li>
        <LI>Next message: <A HREF="001164.html">[Owasp-modsecurity-core-rule-set] Why is rule 981318 triggering?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1163">[ date ]</a>
              <a href="thread.html#1163">[ thread ]</a>
              <a href="subject.html#1163">[ subject ]</a>
              <a href="author.html#1163">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Has anyone had a chance to compare efficiency of mod_sec vs. QoS when it comes to mitigating against slow HTTP attacks? I've heard different opinions, e.g. that mod_sec might work well for slow reads, but not writes, while QoS is good for both. 

Are there any research papers or just objective data that can confirm that or prove opposite?

The other question is related to performance impact in both solutions when it comes to high volume systems.

Any pointers are highly appreciated.&#160; 

--- On Thu, 7/7/11, Christian Folini &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">christian.folini at time-machine.ch</A>&gt; wrote:

From: Christian Folini &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">christian.folini at time-machine.ch</A>&gt;
Subject: Re: [Mod-security-developers] Advanced Slow DoS Mitigation
To: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">mod-security-developers at lists.sourceforge.net</A>
Date: Thursday, July 7, 2011, 1:34 AM

Hi there,

On Wed, Jul 06, 2011 at 07:42:50AM -0500, Ryan Barnett wrote:
&gt;<i> Great preso and really highlights the threat.&#160; I was wondering what
</I>&gt;<i> percentage of WikiLeaks DoS attacks were utilizing Slowloris-type
</I>&gt;<i> techniques.
</I>
Me2. ;)

To be honest there was too much noise to do any sort of measurements.
We have seen a lot of things, also a lot of vanilla slowloris,
but we also must have missed a lot of other interesting attacks.

&gt;<i> Specifically, phase:1 was moved by Ivan awhile ago to be the same as
</I>&gt;<i> phase:2 (instead of Apache post-read-request) due to many users wanting to
</I>&gt;<i> use phase:1 rules inside Apache scope directives like &lt;Location&gt;.&#160; I
</I>&gt;<i> personally do not agree with this change and we are reviewing a potential
</I>&gt;<i> change back.
</I>
I bumped into the old phase:1 / Location issue before so I understand
the motivation. But I thought it would have been the better
countermeasure to have apache refuse to start with a phase:1 rule
inside a location.

&gt;<i> Regardless - I believe that we should consider a &quot;phase:0&quot; option that
</I>&gt;<i> would essentially work at the Apache Filter level hook.&#160; So, this would
</I>&gt;<i> not be parsed like the other variables but could give basic access to src
</I>&gt;<i> IP data and the entire request payload as perhaps a new variable -
</I>&gt;<i> THE_REQUEST.
</I>
That sounds nice.

&gt;<i> The main issue that I see with a Filter level hook is that mod_uniqueid is
</I>&gt;<i> not yet available and that is used by ModSecurity for proper logging.
</I>
That does not sound very nice, though.

Was not there a discussion on the Apache ML to hand over mod_uniqueid
(functionality) to ModSecurity? I think that would be wrong, but maybe
it is possible to introduce a patch to have mod_uniqueid run at this
early hook too (and before phase:0).

Cheers,

Christian


-- 
If we could read the secret history of our enemies, we should find in
each man's life sorrow and suffering enough to disarm all hostility.
-- Henry Wadsworth Longfellow

------------------------------------------------------------------------------
All of the data generated in your IT infrastructure is seriously valuable.
Why? It contains a definitive record of application performance, security 
threats, fraudulent activity, and more. Splunk takes this data and makes 
sense of it. IT sense. And common sense.
<A HREF="http://p.sf.net/sfu/splunk-d2d-c2">http://p.sf.net/sfu/splunk-d2d-c2</A>
_______________________________________________
mod-security-developers mailing list
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">mod-security-developers at lists.sourceforge.net</A>
<A HREF="https://lists.sourceforge.net/lists/listinfo/mod-security-developers">https://lists.sourceforge.net/lists/listinfo/mod-security-developers</A>
ModSecurity Services from Trustwave's SpiderLabs:
<A HREF="https://www.trustwave.com/spiderLabs.php">https://www.trustwave.com/spiderLabs.php</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20120817/98b5ca59/attachment.html">http://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20120817/98b5ca59/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001161.html">[Owasp-modsecurity-core-rule-set] Owasp-Waspy-Awards
</A></li>
	<LI>Next message: <A HREF="001164.html">[Owasp-modsecurity-core-rule-set] Why is rule 981318 triggering?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1163">[ date ]</a>
              <a href="thread.html#1163">[ thread ]</a>
              <a href="subject.html#1163">[ subject ]</a>
              <a href="author.html#1163">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
