<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] Error creating rule: Unknown variable: pk_ref)/
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20Error%20creating%20rule%3A%20Unknown%0A%20variable%3A%20pk_ref%29/&In-Reply-To=%3C20180208094606.a6tpweew2up3pulz%40leander%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002533.html">
   <LINK REL="Next"  HREF="002535.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] Error creating rule: Unknown variable: pk_ref)/</H1>
    <B>Christian Folini</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20Error%20creating%20rule%3A%20Unknown%0A%20variable%3A%20pk_ref%29/&In-Reply-To=%3C20180208094606.a6tpweew2up3pulz%40leander%3E"
       TITLE="[Owasp-modsecurity-core-rule-set] Error creating rule: Unknown variable: pk_ref)/">christian.folini at netnea.com
       </A><BR>
    <I>Thu Feb  8 09:46:06 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="002533.html">[Owasp-modsecurity-core-rule-set] Error creating rule: Unknown variable: pk_ref)/
</A></li>
        <LI>Next message: <A HREF="002535.html">[Owasp-modsecurity-core-rule-set] Core Rule Set Project January 2018
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2534">[ date ]</a>
              <a href="thread.html#2534">[ thread ]</a>
              <a href="subject.html#2534">[ subject ]</a>
              <a href="author.html#2534">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>No worries. And glad it worked out in the end.

Christian

On Thu, Feb 08, 2018 at 09:21:58AM +0000, Wisse J.S. (Jeroen) wrote:
&gt;<i> Hey Christian,
</I>&gt;<i> 
</I>&gt;<i> Although you could not figure out what went wrong, I did!
</I>&gt;<i> Somehow I downloaded an old version of the CRS, after downloading the one via the link in your tutorial everything works like it should.
</I>&gt;<i> 
</I>&gt;<i> Thanks for the help and sorry for making such a simple mistake :)
</I>&gt;<i> 
</I>&gt;<i> Jeroen
</I>&gt;<i> 
</I>&gt;<i> -----Oorspronkelijk bericht-----
</I>&gt;<i> Van: Christian Folini [mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">christian.folini at netnea.com</A>] 
</I>&gt;<i> Verzonden: donderdag 8 februari 2018 6:04
</I>&gt;<i> Aan: Wisse J.S. (Jeroen) &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">js.wisse at zeeland.nl</A>&gt;
</I>&gt;<i> CC: '<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>' &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>&gt;
</I>&gt;<i> Onderwerp: Re: [Owasp-modsecurity-core-rule-set] Error creating rule: Unknown variable: pk_ref)/
</I>&gt;<i> 
</I>&gt;<i> Hey Jeroen,
</I>&gt;<i> 
</I>&gt;<i> This is an ancient bug actually:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJEyjaeoR0g&amp;u=https%3a%2f%2fgithub%2ecom%2fSpiderLabs%2fowasp-modsecurity-crs%2fissues%2f181">https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJEyjaeoR0g&amp;u=https%3a%2f%2fgithub%2ecom%2fSpiderLabs%2fowasp-modsecurity-crs%2fissues%2f181</A>
</I>&gt;<i> 
</I>&gt;<i> It is fixed since the release of CRS 3.
</I>&gt;<i> 
</I>&gt;<i> Given you base on my tutorial which follows that version, I do not know how you could encounter it.
</I>&gt;<i> 
</I>&gt;<i> Regs,
</I>&gt;<i> 
</I>&gt;<i> Christian
</I>&gt;<i> 
</I>&gt;<i> On Wed, Feb 07, 2018 at 01:51:17PM +0000, Wisse J.S. (Jeroen) wrote:
</I>&gt;<i> &gt;    Hello all,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    I get the following error message in Windows event viewer when i try to
</I>&gt;<i> &gt;    launch apache with the core ruleset enabled:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    Error creating rule: Unknown variable: pk_ref)/
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    I am using the following tutorial to setup apache and mod_security:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    [1]<A HREF="https://www.netnea.com/cms/apache-tutorial-7_including-modsecurity-c">https://www.netnea.com/cms/apache-tutorial-7_including-modsecurity-c</A>
</I>&gt;<i> &gt;    ore-rules/
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    HTTPD &#8211;V:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    Server version: Apache/2.4.23 (Win64)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    Apache Lounge VC11 Server built:   Jul  8 2016 11:33:36
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    Server's Module Magic Number: 20120211:61
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    Server loaded:  APR 1.5.2, APR-UTIL 1.5.4
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    Compiled using: APR 1.5.2, APR-UTIL 1.5.4
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    Architecture:   64-bit
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    Server MPM:     WinNT
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;      threaded:     yes (fixed thread count)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;        forked:     no
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    Server compiled with....
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    -D APR_HAS_SENDFILE
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    -D APR_HAS_MMAP
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    -D APR_HAVE_IPV6 (IPv4-mapped addresses disabled)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    -D APR_HAS_OTHER_CHILD
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    -D AP_HAVE_RELIABLE_PIPED_LOGS
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    -D DYNAMIC_MODULE_LIMIT=256
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    -D HTTPD_ROOT=&quot;/apache&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    -D SUEXEC_BIN=&quot;/apache/bin/suexec&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    -D DEFAULT_PIDLOG=&quot;logs/httpd.pid&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    -D DEFAULT_SCOREBOARD=&quot;logs/apache_runtime_status&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    -D DEFAULT_ERRORLOG=&quot;logs/error.log&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    -D AP_TYPES_CONFIG_FILE=&quot;conf/mime.types&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    -D SERVER_CONFIG_FILE=&quot;conf/httpd.conf&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    HTTPD &#8211;M:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    Loaded Modules:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    core_module (static)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    win32_module (static)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    mpm_winnt_module (static)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    http_module (static)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    so_module (static)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    access_compat_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    actions_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    alias_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    allowmethods_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    asis_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    auth_basic_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    authn_core_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    authn_file_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    authz_core_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    authz_groupfile_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    authz_host_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    authz_user_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    autoindex_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    env_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    headers_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    include_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    isapi_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    log_config_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    mime_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    negotiation_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    setenvif_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    socache_shmcb_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    proxy_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    proxy_http_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    logio_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    unique_id_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    ssl_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    security2_module (shared)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    Does anyone have any idea how I can fix this issue? I tried searching
</I>&gt;<i> &gt;    google but could not find a solution.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    Met vriendelijke groet,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    Jeroen Wisse | GIS infrastructuur ontwikkeling en beheer
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    T. +31 118 631725 | E. [2]<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">js.wisse at zeeland.nl</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    cid:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">image001.png at 01D1E102.89F8E770</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    Provinciehuis | Abdij 6, 4331 BK Middelburg | +31 118 631011
</I>&gt;<i> &gt;    Postbus 6001, 4330 LA Middelburg | [<A HREF="http://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJEj1Y-Mf0A&amp;u=http%3a%2f%2f3%5dwww%2ezeeland%2enl">http://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJEj1Y-Mf0A&amp;u=http%3a%2f%2f3%5dwww%2ezeeland%2enl</A> | [4]@provzeeland
</I>&gt;<i> &gt;    | [<A HREF="http://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJE3_Y7EdiA&amp;u=http%3a%2f%2f5%5dfacebook%2ecom%2fprovinciezeeland">http://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJE3_Y7EdiA&amp;u=http%3a%2f%2f5%5dfacebook%2ecom%2fprovinciezeeland</A> | [<A HREF="http://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJBv-NLYQ0w&amp;u=http%3a%2f%2f6%5dinstagram%2ecom%2fprovinciezeeland">http://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJBv-NLYQ0w&amp;u=http%3a%2f%2f6%5dinstagram%2ecom%2fprovinciezeeland</A>
</I>&gt;<i> &gt;    | 
</I>&gt;<i> &gt; [<A HREF="http://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-F">http://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-F</A>
</I>&gt;<i> &gt; t9nJErwNOIehQ&amp;u=http%3a%2f%2f7%5ddataportaal%2ezeeland%2enl
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; References
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    1. <A HREF="https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJEv1NLNIgw&amp;u=https%3a%2f%2fwww%2enetnea%2ecom%2fcms%2fapache-tutorial-7%5fincluding-modsecurity-core-rules%2f">https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJEv1NLNIgw&amp;u=https%3a%2f%2fwww%2enetnea%2ecom%2fcms%2fapache-tutorial-7%5fincluding-modsecurity-core-rules%2f</A>
</I>&gt;<i> &gt;    2. mailto:/
</I>&gt;<i> &gt;    3. <A HREF="http://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJEv-ZeMehQ&amp;u=http%3a%2f%2fwww%2ezeeland%2enl%2f">http://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJEv-ZeMehQ&amp;u=http%3a%2f%2fwww%2ezeeland%2enl%2f</A>
</I>&gt;<i> &gt;    4. <A HREF="https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJBz0ZOIZiA&amp;u=https%3a%2f%2ftwitter%2ecom%2fprovzeeland">https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJBz0ZOIZiA&amp;u=https%3a%2f%2ftwitter%2ecom%2fprovzeeland</A>
</I>&gt;<i> &gt;    5. <A HREF="https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJESkaONI1Q&amp;u=https%3a%2f%2fwww%2efacebook%2ecom%2fprovinciezeeland">https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJESkaONI1Q&amp;u=https%3a%2f%2fwww%2efacebook%2ecom%2fprovinciezeeland</A>
</I>&gt;<i> &gt;    6. <A HREF="https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJE__ZOMchA&amp;u=https%3a%2f%2fwww%2einstagram%2ecom%2fprovinciezeeland%2f">https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJE__ZOMchA&amp;u=https%3a%2f%2fwww%2einstagram%2ecom%2fprovinciezeeland%2f</A>
</I>&gt;<i> &gt;    7. 
</I>&gt;<i> &gt; <A HREF="https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-F">https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-F</A>
</I>&gt;<i> &gt; t9nJE73aeAchg&amp;u=https%3a%2f%2fdataportaal%2ezeeland%2enl%2f
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Owasp-modsecurity-core-rule-set mailing list 
</I>&gt;<i> &gt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">Owasp-modsecurity-core-rule-set at lists.owasp.org</A>
</I>&gt;<i> &gt; <A HREF="https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-F">https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-F</A>
</I>&gt;<i> &gt; t9nJEj3aeNLiA&amp;u=https%3a%2f%2flists%2eowasp%2eorg%2fmailman%2flistinfo
</I>&gt;<i> &gt; %2fowasp-modsecurity-core-rule-set
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> <A HREF="https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJEjwZ-BKhQ&amp;u=https%3a%2f%2fwww%2efeistyduck%2ecom%2ftraining%2fmodsecurity-training-course">https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJEjwZ-BKhQ&amp;u=https%3a%2f%2fwww%2efeistyduck%2ecom%2ftraining%2fmodsecurity-training-course</A>
</I>&gt;<i> <A HREF="https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJE_zYOpMiQ&amp;u=https%3a%2f%2fwww%2efeistyduck%2ecom%2fbooks%2fmodsecurity-handbook%2f">https://scanmail.trustwave.com/?c=8790&amp;d=xdr72mAWs0HXAlwBnphS_9XonIB-Ft9nJE_zYOpMiQ&amp;u=https%3a%2f%2fwww%2efeistyduck%2ecom%2fbooks%2fmodsecurity-handbook%2f</A>
</I>&gt;<i> mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">christian.folini at netnea.com</A>
</I>&gt;<i> twitter: @ChrFolini
</I>
-- 
<A HREF="https://www.feistyduck.com/training/modsecurity-training-course">https://www.feistyduck.com/training/modsecurity-training-course</A>
<A HREF="https://www.feistyduck.com/books/modsecurity-handbook/">https://www.feistyduck.com/books/modsecurity-handbook/</A>
mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">christian.folini at netnea.com</A>
twitter: @ChrFolini
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002533.html">[Owasp-modsecurity-core-rule-set] Error creating rule: Unknown variable: pk_ref)/
</A></li>
	<LI>Next message: <A HREF="002535.html">[Owasp-modsecurity-core-rule-set] Core Rule Set Project January 2018
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2534">[ date ]</a>
              <a href="thread.html#2534">[ thread ]</a>
              <a href="subject.html#2534">[ subject ]</a>
              <a href="author.html#2534">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
