<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] secRemoveTargetById
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20secRemoveTargetById&In-Reply-To=%3CC434702F-41BA-493F-B380-9B271479124E%40trustwave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001298.html">
   <LINK REL="Next"  HREF="001301.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] secRemoveTargetById</H1>
    <B>Ryan Barnett</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20secRemoveTargetById&In-Reply-To=%3CC434702F-41BA-493F-B380-9B271479124E%40trustwave.com%3E"
       TITLE="[Owasp-modsecurity-core-rule-set] secRemoveTargetById">RBarnett at trustwave.com
       </A><BR>
    <I>Fri Feb  1 01:06:00 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="001298.html">[Owasp-modsecurity-core-rule-set] secRemoveTargetById
</A></li>
        <LI>Next message: <A HREF="001301.html">[Owasp-modsecurity-core-rule-set] secRemoveTargetById
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1299">[ date ]</a>
              <a href="thread.html#1299">[ thread ]</a>
              <a href="subject.html#1299">[ subject ]</a>
              <a href="author.html#1299">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matt,
What version of ModSecurity are you using?

Since you don't need to do this conditionally based on request data, you could try just using the directive to remove it vs using the ctl action.  Just make sure to our this in a custom Ruke file that is read AFTER the other rules.

The ctl action should work but you might want to try the directive instead.

--
Ryan Barnett

On Jan 31, 2013, at 7:27 PM, &quot;Matt Mitchell&quot; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">mmitchell at backstopsolutions.com</A>&gt; wrote:

&gt;<i> Hey gang,
</I>&gt;<i>
</I>&gt;<i> I know this isn't a CRS issue per se, but I thought you might have some insight before I either dig through the mod_security code or ask them how I should do this.
</I>&gt;<i>
</I>&gt;<i> Our application occasionally wants to accept stuff that looks scary, like HTML, from certain form submissions. After some thought, I figured the best way to do this was to make a small change to the application to put &quot;html&quot; in the parameter name, and then use ctl:secRemoveTargetById to whitelist those rules on the way through the CRS rule set.
</I>&gt;<i>
</I>&gt;<i> Here's what I tried first, for one particular rule 973333:
</I>&gt;<i> SecRule REQUEST_URI &quot;.&quot; id:1000200,phase:2,pass,ctl:ruleRemoveTargetById=973333;ARGS:/[Hh]tml/
</I>&gt;<i>
</I>&gt;<i> But it doesn't seem to work. Everything is being treated as normal.
</I>&gt;<i>
</I>&gt;<i> I've used that REQUEST_URI-matching-anything idiom in other rules, so I don't think that is failing to match. My intention is to remove 973333 for only those arguments that match the regex. Anyone have any suggestions for me, or attempt something similar? If I can get this rule working, I'd then expect to have additional rules removing other targets that look basically the same.
</I>&gt;<i>
</I>&gt;<i> Thanks in advance --
</I>&gt;<i>
</I>&gt;<i> -m
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-modsecurity-core-rule-set mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">Owasp-modsecurity-core-rule-set at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set</A>
</I>&gt;<i>
</I>
________________________________

This transmission may contain information that is privileged, confidential, and/or exempt from disclosure under applicable law. If you are not the intended recipient, you are hereby notified that any disclosure, copying, distribution, or use of the information contained herein (including any reliance thereon) is STRICTLY PROHIBITED. If you received this transmission in error, please immediately contact the sender and destroy the material in its entirety, whether in electronic or hard copy format.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001298.html">[Owasp-modsecurity-core-rule-set] secRemoveTargetById
</A></li>
	<LI>Next message: <A HREF="001301.html">[Owasp-modsecurity-core-rule-set] secRemoveTargetById
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1299">[ date ]</a>
              <a href="thread.html#1299">[ thread ]</a>
              <a href="subject.html#1299">[ subject ]</a>
              <a href="author.html#1299">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
