<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] secRemoveTargetById
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20secRemoveTargetById&In-Reply-To=%3C107EB2C5-07B0-44F6-BB62-33814F0DD15F%40backstopsolutions.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001299.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] secRemoveTargetById</H1>
    <B>Matt Mitchell</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20secRemoveTargetById&In-Reply-To=%3C107EB2C5-07B0-44F6-BB62-33814F0DD15F%40backstopsolutions.com%3E"
       TITLE="[Owasp-modsecurity-core-rule-set] secRemoveTargetById">mmitchell at backstopsolutions.com
       </A><BR>
    <I>Fri Feb  1 00:22:26 UTC 2013</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001299.html">[Owasp-modsecurity-core-rule-set] secRemoveTargetById
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1298">[ date ]</a>
              <a href="thread.html#1298">[ thread ]</a>
              <a href="subject.html#1298">[ subject ]</a>
              <a href="author.html#1298">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey gang,

I know this isn't a CRS issue per se, but I thought you might have some insight before I either dig through the mod_security code or ask them how I should do this.

Our application occasionally wants to accept stuff that looks scary, like HTML, from certain form submissions. After some thought, I figured the best way to do this was to make a small change to the application to put &quot;html&quot; in the parameter name, and then use ctl:secRemoveTargetById to whitelist those rules on the way through the CRS rule set.

Here's what I tried first, for one particular rule 973333:
SecRule REQUEST_URI &quot;.&quot; id:1000200,phase:2,pass,ctl:ruleRemoveTargetById=973333;ARGS:/[Hh]tml/

But it doesn't seem to work. Everything is being treated as normal.

I've used that REQUEST_URI-matching-anything idiom in other rules, so I don't think that is failing to match. My intention is to remove 973333 for only those arguments that match the regex. Anyone have any suggestions for me, or attempt something similar? If I can get this rule working, I'd then expect to have additional rules removing other targets that look basically the same.

Thanks in advance --

-m
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001299.html">[Owasp-modsecurity-core-rule-set] secRemoveTargetById
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1298">[ date ]</a>
              <a href="thread.html#1298">[ thread ]</a>
              <a href="subject.html#1298">[ subject ]</a>
              <a href="author.html#1298">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
