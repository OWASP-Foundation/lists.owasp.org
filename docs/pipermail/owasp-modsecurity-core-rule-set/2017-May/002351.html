<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] Announcing OWASP Core Rule Set Version 3.0.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20Announcing%20OWASP%20Core%20Rule%0A%20Set%20Version%203.0.1&In-Reply-To=%3C20170511112303.4ch47hwv5krgexxh%40leander%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002350.html">
   <LINK REL="Next"  HREF="002352.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] Announcing OWASP Core Rule Set Version 3.0.1</H1>
    <B>Christian Folini</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20Announcing%20OWASP%20Core%20Rule%0A%20Set%20Version%203.0.1&In-Reply-To=%3C20170511112303.4ch47hwv5krgexxh%40leander%3E"
       TITLE="[Owasp-modsecurity-core-rule-set] Announcing OWASP Core Rule Set Version 3.0.1">christian.folini at netnea.com
       </A><BR>
    <I>Thu May 11 11:23:03 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="002350.html">[Owasp-modsecurity-core-rule-set] Announcing OWASP Core Rule	Set Version 3.0.1
</A></li>
        <LI>Next message: <A HREF="002352.html">[Owasp-modsecurity-core-rule-set] OWASP Core Rule Set Version 3.0.2	Released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2351">[ date ]</a>
              <a href="thread.html#2351">[ thread ]</a>
              <a href="subject.html#2351">[ subject ]</a>
              <a href="author.html#2351">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there,

Spot on. Thanks for reporting.
We noticed this issue last night and are currently preparing 3.0.2.

In the default install, a request passes that debug message.
A custom crs-setup.conf can lead to a block, though.

The messup came via mis-merging of a commit to solve the github issue 
719. Let's say Chaim and I cooperated to make this happen and
sneak it pass our pre-release testing
(See <A HREF="https://github.com/SpiderLabs/owasp-modsecurity-crs/issues/771">https://github.com/SpiderLabs/owasp-modsecurity-crs/issues/771</A>
for a writeup).

For the time being (until 3.0.2 is out like tonight or so):
 - Do as Jens described.
 or
 - SecRuleRemoveById 22
 or
 - Clone the latest v3.0/dev tree

We are sorry for pushing a broken rule out with a release. 
We are reviewing our release procedure now and hope to learn from this.
<A HREF="https://github.com/SpiderLabs/owasp-modsecurity-crs/wiki/Release-Procedure">https://github.com/SpiderLabs/owasp-modsecurity-crs/wiki/Release-Procedure</A>

If you have feedback on that, it's very welcome.

Best,

Christian







On Thu, May 11, 2017 at 01:05:16PM +0200, Jens Schleusener wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> &gt; The OWASP Core Rule Set team is pleased to announce the immediate availability of CRS release v3.0.1
</I>&gt;<i> &gt; (<A HREF="https://github.com/SpiderLabs/owasp-modsecurity-crs/releases/tag/v3.0.1">https://github.com/SpiderLabs/owasp-modsecurity-crs/releases/tag/v3.0.1</A>).
</I>&gt;<i> 
</I>&gt;<i> [... lines deleted ...]
</I>&gt;<i> 
</I>&gt;<i> &gt; Ideally you should be able to update your 3.0.0 rules with the new 3.0.1 rules without experiencing any
</I>&gt;<i> &gt; problems.
</I>&gt;<i> .`
</I>
&gt;<i> Unfortunately not: The access to my server was blocked!
</I>&gt;<i> 
</I>&gt;<i> But fortunately the problem was easily to find and after removing the
</I>&gt;<i> (&quot;forgotten&quot; debugging) line number 500
</I>&gt;<i> 
</I>&gt;<i>  SecRule REQUEST_URI &quot;(.*)&quot; &quot;msg:'got %{tx.0}',id:22,capture&quot;
</I>&gt;<i> 
</I>&gt;<i> in the file REQUEST-920-PROTOCOL-ENFORCEMENT.conf all seems to work again.
</I>&gt;<i> 
</I>&gt;<i> The difference in that file between 3.0.0 and 3.0.1 can be seen for e.g. on
</I>&gt;<i> this page
</I>&gt;<i> 
</I>&gt;<i>  <A HREF="https://fossies.org/diffs/owasp-modsecurity-crs/3.0.0_vs_3.0.1/rules/REQUEST-920-PROTOCOL-ENFORCEMENT.conf-diff.html">https://fossies.org/diffs/owasp-modsecurity-crs/3.0.0_vs_3.0.1/rules/REQUEST-920-PROTOCOL-ENFORCEMENT.conf-diff.html</A>
</I>&gt;<i> 
</I>&gt;<i> But the problem seems known
</I>&gt;<i> 
</I>&gt;<i>  <A HREF="https://github.com/SpiderLabs/owasp-modsecurity-crs/issues/771">https://github.com/SpiderLabs/owasp-modsecurity-crs/issues/771</A>
</I>&gt;<i> 
</I>&gt;<i> and I report it here only to save some people from potential trouble.
</I>&gt;<i> 
</I>&gt;<i> Regards
</I>&gt;<i> 
</I>&gt;<i> Jens
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-modsecurity-core-rule-set mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">Owasp-modsecurity-core-rule-set at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set</A>
</I>
-- 
<A HREF="https://www.feistyduck.com/training/modsecurity-training-course">https://www.feistyduck.com/training/modsecurity-training-course</A>
mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">christian.folini at netnea.com</A>
twitter: @ChrFolini
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002350.html">[Owasp-modsecurity-core-rule-set] Announcing OWASP Core Rule	Set Version 3.0.1
</A></li>
	<LI>Next message: <A HREF="002352.html">[Owasp-modsecurity-core-rule-set] OWASP Core Rule Set Version 3.0.2	Released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2351">[ date ]</a>
              <a href="thread.html#2351">[ thread ]</a>
              <a href="subject.html#2351">[ subject ]</a>
              <a href="author.html#2351">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
