<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] Updating CRS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=%5BOwasp-modsecurity-core-rule-set%5D%20Updating%20CRS&In-Reply-To=1265461439.3307.19.camel%40localhost">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000291.html">
   <LINK REL="Next"  HREF="000294.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] Updating CRS</H1>
    <B>Ryan Barnett</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=%5BOwasp-modsecurity-core-rule-set%5D%20Updating%20CRS&In-Reply-To=1265461439.3307.19.camel%40localhost"
       TITLE="[Owasp-modsecurity-core-rule-set] Updating CRS">rcbarnett at gmail.com
       </A><BR>
    <I>Sat Feb  6 11:35:54 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000291.html">[Owasp-modsecurity-core-rule-set] Updating CRS
</A></li>
        <LI>Next message: <A HREF="000294.html">[Owasp-modsecurity-core-rule-set] basic questions of apache	exploitation &amp; modsecurity.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#293">[ date ]</a>
              <a href="thread.html#293">[ thread ]</a>
              <a href="subject.html#293">[ subject ]</a>
              <a href="author.html#293">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Feb 6, 2010 at 8:03 AM, Arthur Dent &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">misc.lists at blueyonder.co.uk</A>&gt;wrote:

&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> In the latest version of CRS the README file contains the following
</I>&gt;<i> text:
</I>&gt;<i>
</I>&gt;<i> &quot;You can optionally automatically download the latest rules by using the
</I>&gt;<i> rules-updater.pl script in the /util directory.  Refer to the README
</I>&gt;<i> file in the /util dir.&quot;
</I>&gt;<i>
</I>&gt;<i> The util directory in the tarball however contains neither a
</I>&gt;<i> rules-updater script, nor a readme file.
</I>&gt;<i>
</I>&gt;<i>
</I>Yeah, I jumped the gun a bit on that one...  The rules-updater.pl script is
currently part of the Mod source archive in the /tools directory.  We are
planning to move it over to the CRS archive instead.  We are actually
testing the rules-updater.pl script functionality right now.  I have the
target repository setup on the Mod site and the script seems to work for me.
 Brian and I were talking and we thought that we should get some volunteers
to test it to before releasing it to the public.  If anyone wants to test it
out, shoot me an email and I will give you the proper conf details.



&gt;<i> This leads me to a more generic question - How best to maintain one's
</I>&gt;<i> ruleset.
</I>&gt;<i>
</I>&gt;<i> I would very much like some sort of automatic (or configurable
</I>&gt;<i> semi-automatic) updating process. I am also a little concerned about
</I>&gt;<i> local exceptions. A little while ago Ryan was very helpful in getting me
</I>&gt;<i> over some FP problems. The solution involved updating
</I>&gt;<i> modsecurity_crs_48_local_exceptions.conf. Today I updated to CRS 2.0.5
</I>&gt;<i> and, having unpacked the tarball, was merrily copying the files
</I>&gt;<i> into /etc/httpd/modsecurity.d/base_rules/ Fortunately my root
</I>&gt;<i> environment has overwrite confirmation on, and I realised just in the
</I>&gt;<i> nick of time that I was about to overwrite the file with Ryan's rule
</I>&gt;<i> exceptions in.
</I>&gt;<i>
</I>&gt;<i> This is my bad.  I understand the situation and I *thought* I had it fixed.
</I> What will happen in the next rev is that the 49 local exceptions file will
be moved up out of the base_rules dir and it will also be re-named to -
modsecurity_crs_48_local_exceptions.conf.example.  This way, if you have a
customized version, then the &quot;.example&quot; extension should not overwrite it if
you unpack it into your local dirs.


&gt;<i> Is there no way to engineer a system - possibly a bit like
</I>&gt;<i> spamassassin's sa-update which receives rule updates, but where local
</I>&gt;<i> modifications are stored in a local.conf file which is untouched by the
</I>&gt;<i> update process?
</I>&gt;<i>
</I>&gt;<i>
</I>Agreed.  Right now, the rules-updater.pl script is just an auto-download
utility but we can certainly extend it to more of a rules management app.  I
am thinking that it needs to be similar to oinkmaster -
<A HREF="http://oinkmaster.sourceforge.net/">http://oinkmaster.sourceforge.net/</A> - so that it can help the user to
understand what rules have been added, removed or updated and to make
management easier.  We will look into this.

-- 
Ryan C. Barnett
WASC Distributed Open Proxy Honeypot Project Leader
OWASP ModSecurity Core Rule Set Project Leader
Tactical Web Application Security
<A HREF="http://tacticalwebappsec.blogspot.com/">http://tacticalwebappsec.blogspot.com/</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20100206/13e52e1c/attachment.html">https://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20100206/13e52e1c/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000291.html">[Owasp-modsecurity-core-rule-set] Updating CRS
</A></li>
	<LI>Next message: <A HREF="000294.html">[Owasp-modsecurity-core-rule-set] basic questions of apache	exploitation &amp; modsecurity.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#293">[ date ]</a>
              <a href="thread.html#293">[ thread ]</a>
              <a href="subject.html#293">[ subject ]</a>
              <a href="author.html#293">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
