<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] CRS Directory Format Question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=%5BOwasp-modsecurity-core-rule-set%5D%20CRS%20Directory%20Format%20Question&In-Reply-To=BANLkTinT9-wPCF%3DyGAydkXumStx9WXp3ow%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000718.html">
   <LINK REL="Next"  HREF="000713.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] CRS Directory Format Question</H1>
    <B>Ryan Barnett</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=%5BOwasp-modsecurity-core-rule-set%5D%20CRS%20Directory%20Format%20Question&In-Reply-To=BANLkTinT9-wPCF%3DyGAydkXumStx9WXp3ow%40mail.gmail.com"
       TITLE="[Owasp-modsecurity-core-rule-set] CRS Directory Format Question">RBarnett at trustwave.com
       </A><BR>
    <I>Thu Apr 14 10:51:55 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000718.html">[Owasp-modsecurity-core-rule-set] CRS Directory Format Question
</A></li>
        <LI>Next message: <A HREF="000713.html">[Owasp-modsecurity-core-rule-set] CRS Directory Format Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#719">[ date ]</a>
              <a href="thread.html#719">[ thread ]</a>
              <a href="subject.html#719">[ subject ]</a>
              <a href="author.html#719">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I don't think the ModSec Rule ID would help in this case as we are talking about Apache startup and its Include directive.  I think that having the activatedrules directory is the best approach as local Admins can then review all the rules and decide which ones to activate by creating symlinks in the activated_rules directory.  When they do this, then the numbering scheme used in the rule file names will work appropriately.

Keep in mind that this simply orders the rule files appropriately by groups/purpose.  This does nothing to ensure that the rules themselves, inside the files, are ordered appropriately.  We order them appropriately in the CRS files but if you have custom rules, you will need to ensure that they are ordered correctly for the logic you want.

-Ryan

From: chris derham &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">chris at derham.me.uk</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">chris at derham.me.uk</A>&gt;&gt;
Reply-To: &quot;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">chris at derham.me.uk</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">chris at derham.me.uk</A>&gt;&quot; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">chris at derham.me.uk</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">chris at derham.me.uk</A>&gt;&gt;
Date: Thu, 14 Apr 2011 09:37:23 -0500
To: Ryan Barnett &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">rbarnett at trustwave.com</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">rbarnett at trustwave.com</A>&gt;&gt;, &quot;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>&gt;&quot; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>&gt;&gt;
Subject: Re: [Owasp-modsecurity-core-rule-set] CRS Directory Format Question

Ryan,

To restate the issue, the rules are stored in different directories based on their type - admins need to order the rules to ensure that they function correctly, and this can't be done when use apache configuration to load wild carded configuration files from different directories.

If you made the id parameter for SecRule mandatory, couldn't you then use that to order the rules? This would overcome the ordering issue you mention. I know that there are other directives as well and they might have the same ordering issue, but just thought I would ask the question

Chris

________________________________
This transmission may contain information that is privileged, confidential, and/or exempt from disclosure under applicable law. If you are not the intended recipient, you are hereby notified that any disclosure, copying, distribution, or use of the information contained herein (including any reliance thereon) is STRICTLY PROHIBITED. If you received this transmission in error, please immediately contact the sender and destroy the material in its entirety, whether in electronic or hard copy format.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000718.html">[Owasp-modsecurity-core-rule-set] CRS Directory Format Question
</A></li>
	<LI>Next message: <A HREF="000713.html">[Owasp-modsecurity-core-rule-set] CRS Directory Format Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#719">[ date ]</a>
              <a href="thread.html#719">[ thread ]</a>
              <a href="subject.html#719">[ subject ]</a>
              <a href="author.html#719">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
