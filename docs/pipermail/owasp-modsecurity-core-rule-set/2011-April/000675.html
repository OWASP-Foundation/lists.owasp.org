<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] A Recommended Base Configuration - SecRuleEngine
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=%5BOwasp-modsecurity-core-rule-set%5D%20A%20Recommended%20Base%0A%20Configuration%20-%20SecRuleEngine&In-Reply-To=B99BC770CB46D6428EFBC95DFA7C36BF3285E16B25%40hxmb01.pnet.ch">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000674.html">
   <LINK REL="Next"  HREF="000681.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] A Recommended Base Configuration - SecRuleEngine</H1>
    <B>Ryan Barnett</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=%5BOwasp-modsecurity-core-rule-set%5D%20A%20Recommended%20Base%0A%20Configuration%20-%20SecRuleEngine&In-Reply-To=B99BC770CB46D6428EFBC95DFA7C36BF3285E16B25%40hxmb01.pnet.ch"
       TITLE="[Owasp-modsecurity-core-rule-set] A Recommended Base Configuration - SecRuleEngine">RBarnett at trustwave.com
       </A><BR>
    <I>Mon Apr  4 08:49:59 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000674.html">[Owasp-modsecurity-core-rule-set] A Recommended Base Configuration - SecRuleEngine
</A></li>
        <LI>Next message: <A HREF="000681.html">[Owasp-modsecurity-core-rule-set] A Recommended Base Configuration - SecRuleEngine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#675">[ date ]</a>
              <a href="thread.html#675">[ thread ]</a>
              <a href="subject.html#675">[ subject ]</a>
              <a href="author.html#675">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/4/11 2:19 AM, &quot;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">christian.folini at post.ch</A>&quot; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">christian.folini at post.ch</A>&gt;
wrote:


&gt;<i>Hi there,
</I>&gt;<i>
</I>&gt;<i>Let me be the devil's advocate: I think SecRuleEngine should be set to
</I>&gt;<i>&quot;On&quot;. Starting with &quot;DetectionOnly&quot; is the sure path
</I>&gt;<i>to stay at that level. You'll see a lot of false positives. But since the
</I>&gt;<i>service is not affected, you postpone the fixes and the tuning
</I>&gt;<i>effort until you find the time, which never happens.
</I>&gt;<i>
</I>&gt;<i>Leaving it at &quot;DetectionOnly&quot; gives you a nice monitoring and debugging
</I>&gt;<i>engine, but no protection.
</I>&gt;<i>
</I>&gt;<i>If you start with &quot;On&quot;, your service is likely to be heavily affected and
</I>&gt;<i>you have to fix the false positives immediately.
</I>&gt;<i>Once you've done that you have a well-protected site in a very short time
</I>&gt;<i>period.
</I>&gt;<i>
</I>&gt;<i>&quot;On&quot; is the rocky road but the successful one.
</I>
Hey Christian,
There are certainly scenarios that end up playing out as you outlined,
however for the purposes of this thread, we have to go by the percentages.
 The vast majority of users don't want to disrupt normal traffic when
initially implementing ModSecurity.  From a commercial perspective, adding
in *any* WAF makes business owners nervous as they don't ever want to
block legit traffic.  Having the SecRuleEngine set to DetectionOnly helps
the WAF advocate to get approval to deploy ModSecurity with the assurance
that it won't block traffic until a data sample has been gathered and
analyzed.

As a reference, this tweets was just seen today &quot;Fixing problems on a
server due to mod_security being way too freaking strict and pissing a few
customers off.&quot;  Unfortunately, most users don't have the time and/or
skill set to fully review any ModSecurity ruleset to understand exactly
what the rules will look for and how they look for them.  Almost all users
want to just plug it in and see how it works.  We used to have the
SecFilterEngine/SecRuleEngine set to On and we go too many complaints... :)

-Ryan


&gt;<i>
</I>&gt;<i>Regs,
</I>&gt;<i>
</I>&gt;<i>Christian
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>-----Urspr&#252;ngliche Nachricht-----
</I>&gt;<i>Von: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set-bounces at lists.owasp.org</A>
</I>&gt;<i>[mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set-bounces at lists.owasp.org</A>] Im
</I>&gt;<i>Auftrag von Ryan Barnett
</I>&gt;<i>Gesendet: Freitag, 1. April 2011 17:36
</I>&gt;<i>An: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">mod-security-users at lists.sourceforge.net</A>;
</I>&gt;<i><A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>
</I>&gt;<i>Betreff: [Owasp-modsecurity-core-rule-set] A Recommended Base
</I>&gt;<i>Configuration - SecRuleEngine
</I>&gt;<i>
</I>&gt;<i>Reference Manual:
</I>&gt;<i><A HREF="http://sourceforge.net/apps/mediawiki/mod-security/index.php?title=Referen">http://sourceforge.net/apps/mediawiki/mod-security/index.php?title=Referen</A>
</I>&gt;<i>ce_Manual#SecRuleEngine
</I>&gt;<i>
</I>&gt;<i>Current setting:
</I>&gt;<i>
</I>&gt;<i># Enable ModSecurity, attaching it to every transaction. Use detection
</I>&gt;<i># only to start with, because that minimises the chances of
</I>&gt;<i>post-installation
</I>&gt;<i># disruption.
</I>&gt;<i>#
</I>&gt;<i>SecRuleEngine DetectionOnly
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Rationale:
</I>&gt;<i>When first adding in ModSecurity, you want to minimize any disruptions to
</I>&gt;<i>traffic until you get a handle on how your configs/rules will respond to
</I>&gt;<i>your traffic.  This setting allows SecRules to trigger events but not
</I>&gt;<i>take any disruptive actions.
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Owasp-modsecurity-core-rule-set mailing list
</I>&gt;<i><A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">Owasp-modsecurity-core-rule-set at lists.owasp.org</A>
</I>&gt;<i><A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set</A>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Owasp-modsecurity-core-rule-set mailing list
</I>&gt;<i><A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">Owasp-modsecurity-core-rule-set at lists.owasp.org</A>
</I>&gt;<i><A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set</A>
</I>&gt;<i>
</I>

This transmission may contain information that is privileged, confidential, and/or exempt from disclosure under applicable law. If you are not the intended recipient, you are hereby notified that any disclosure, copying, distribution, or use of the information contained herein (including any reliance thereon) is STRICTLY PROHIBITED. If you received this transmission in error, please immediately contact the sender and destroy the material in its entirety, whether in electronic or hard copy format.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000674.html">[Owasp-modsecurity-core-rule-set] A Recommended Base Configuration - SecRuleEngine
</A></li>
	<LI>Next message: <A HREF="000681.html">[Owasp-modsecurity-core-rule-set] A Recommended Base Configuration - SecRuleEngine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#675">[ date ]</a>
              <a href="thread.html#675">[ thread ]</a>
              <a href="subject.html#675">[ subject ]</a>
              <a href="author.html#675">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
