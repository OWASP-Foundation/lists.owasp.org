<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] Suggestion about mixing rules	with configuration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=%5BOwasp-modsecurity-core-rule-set%5D%20Suggestion%20about%20mixing%20rules%0A%09with%20configuration&In-Reply-To=4A89A399.80405%40breach.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000048.html">
   <LINK REL="Next"  HREF="000052.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] Suggestion about mixing rules	with configuration</H1>
    <B>Ryan Barnett</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=%5BOwasp-modsecurity-core-rule-set%5D%20Suggestion%20about%20mixing%20rules%0A%09with%20configuration&In-Reply-To=4A89A399.80405%40breach.com"
       TITLE="[Owasp-modsecurity-core-rule-set] Suggestion about mixing rules	with configuration">ryan.barnett at breach.com
       </A><BR>
    <I>Mon Aug 17 15:09:04 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000048.html">[Owasp-modsecurity-core-rule-set] Suggestion about mixing rules with configuration
</A></li>
        <LI>Next message: <A HREF="000052.html">[Owasp-modsecurity-core-rule-set] Suggestion about mixing rules	with configuration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49">[ date ]</a>
              <a href="thread.html#49">[ thread ]</a>
              <a href="subject.html#49">[ subject ]</a>
              <a href="author.html#49">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Ryan Barnett
Director of Application Security Research
Phone: (703) 794-2248
Cell: (703) 269-8998
Breach Security, Inc.
2141 Palomar Airport Road, Suite 200
Carlsbad, CA 92011
www.breach.com

On Monday 17 August 2009 02:38:17 pm Brian Rectanus wrote:
&gt;<i> Ivan Ristic wrote:
</I>&gt;<i> &gt; On Mon, Aug 17, 2009 at 4:46 PM, Brian
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Rectanus&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">Brian.Rectanus at breach.com</A>&gt;  wrote:
</I>&gt;<i> &gt;&gt; Ivan Ristic wrote:
</I>&gt;<i> &gt;&gt;&gt; On Fri, Aug 14, 2009 at 10:22 PM, Ryan Barnett&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">ryan.barnett at breach.com</A>&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;   wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt; On Friday 14 August 2009 04:18:21 pm Ivan Ristic wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Hi,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; I've noticed that the new Core Rules have configuration bits in them
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; -- just like the previous version -- but I don't think that's the
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; right thing to do. I think most users will want to update their rules
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; regularly, but if the configuration bits are there they will be
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; forced to do the whole thing manually every time.
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; What exactly do you mean by &quot;configuration bits?&quot;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I mean the contents of the modsecurity_crs_10_config.conf and
</I>&gt;<i> &gt;&gt;&gt; modsecurity_crs_10_global_config.conf. Those two belong to the main
</I>&gt;<i> &gt;&gt;&gt; ModSecurity distribution, rather than the rules.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; We should probably deliver these as:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; modsecurity_crs_10_config.conf.example
</I>&gt;<i> &gt;&gt; modsecurity_crs_10_global_config.conf.example
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; And have instructions to copy them to the correct name and change the
</I>&gt;<i> &gt;&gt; renamed versions.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I know the line (between ModSecurity itself and Core Rule Set) can be
</I>&gt;<i> &gt; blurry, but why not keep the configuration in ModSecurity, so that the
</I>&gt;<i> &gt; Core Rule Set could include only the rules.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Actually, I've been working on an improved default configuration for
</I>&gt;<i> &gt; ModSecurity, which I would like to submit for inclusion in the
</I>&gt;<i> &gt; distribution.
</I>&gt;<i>
</I>&gt;<i> True.  Personally, I never use the 10 files :)  But I think it is
</I>&gt;<i> important to at least have a good example for how to install the CRS.
</I>&gt;<i> There needs to be some bootstrap config for those that are installing
</I>&gt;<i> from scratch. as well (and I think the 10 files do that nicely).  Also,
</I>&gt;<i> CRS still has some dependencies on the default action due to using
</I>&gt;<i> &quot;block&quot;, so those need to be well documented.
</I>&gt;<i>
</I>
I think we all agree that, for the average new Mod user, the 10 config files 
really help to get them up and running quickly in a semi-sane manner.  The 
question is where does this config belong - in the Mod source archive or the 
CRS.  I guess that Iagree with Ivan that it probably fits better with the Mod 
archive however there are some direct impacts to the CRS if some of these 
settings are change (most notable the SecRuleEngine and SecDefaultAction 
directives).

One demarcation could be that only SecRule, SecAction and SecMarker directives 
should be contained within the CRS and all other directives should be stored 
within the main config files?

&gt;<i> I am interested in your defaults, Ivan.
</I>&gt;<i>
</I>&gt;<i> Also, it would be great to hear from some hard-core users as well as new
</I>&gt;<i> users on what they want to see (or don't want to see).
</I>&gt;<i>
</I>
Agreed.  Ivan please send along your suggested config updates as I am sure 
things can be improved upon.

-Ryan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20090817/45a66172/attachment.html">https://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20090817/45a66172/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000048.html">[Owasp-modsecurity-core-rule-set] Suggestion about mixing rules with configuration
</A></li>
	<LI>Next message: <A HREF="000052.html">[Owasp-modsecurity-core-rule-set] Suggestion about mixing rules	with configuration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49">[ date ]</a>
              <a href="thread.html#49">[ thread ]</a>
              <a href="subject.html#49">[ subject ]</a>
              <a href="author.html#49">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
