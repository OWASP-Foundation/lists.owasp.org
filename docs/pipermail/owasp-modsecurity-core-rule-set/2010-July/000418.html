<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] (2.0.7) missing	modsecurity_crs_49_enforcement.conf
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=%5BOwasp-modsecurity-core-rule-set%5D%20%282.0.7%29%20missing%0A%09modsecurity_crs_49_enforcement.conf&In-Reply-To=alpine.LNX.2.00.1007081440320.28808%40tonga.securenet.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000417.html">
   <LINK REL="Next"  HREF="000411.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] (2.0.7) missing	modsecurity_crs_49_enforcement.conf</H1>
    <B>Ryan Barnett</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=%5BOwasp-modsecurity-core-rule-set%5D%20%282.0.7%29%20missing%0A%09modsecurity_crs_49_enforcement.conf&In-Reply-To=alpine.LNX.2.00.1007081440320.28808%40tonga.securenet.de"
       TITLE="[Owasp-modsecurity-core-rule-set] (2.0.7) missing	modsecurity_crs_49_enforcement.conf">rcbarnett at gmail.com
       </A><BR>
    <I>Thu Jul  8 09:03:27 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000417.html">[Owasp-modsecurity-core-rule-set] (2.0.7) missing modsecurity_crs_49_enforcement.conf
</A></li>
        <LI>Next message: <A HREF="000411.html">[Owasp-modsecurity-core-rule-set] (2.0.7) syntax problem in	..._41_phpids_filters.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#418">[ date ]</a>
              <a href="thread.html#418">[ thread ]</a>
              <a href="subject.html#418">[ subject ]</a>
              <a href="author.html#418">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday 08 July 2010 08:50:29 Achim Hoffmann wrote:
&gt;<i> Hi Ryan,
</I>&gt;<i> 
</I>&gt;<i> thanks for your feedback.
</I>&gt;<i> Some more comments please see inline below.
</I>&gt;<i> 
</I>&gt;<i> Achim
</I>&gt;<i> 
</I>&gt;<i> On Thu, 8 Jul 2010, Ryan Barnett wrote:
</I>&gt;<i> 
</I>&gt;<i> !!
</I>&gt;<i> <A HREF="http://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Pr">http://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Pr</A>
</I>&gt;<i> oject#tab=Documentat !! ion
</I>&gt;<i> !! The CRS rules themselves are configured with the pass action, which
</I>&gt;<i> allows all the rules to be !! processed and for the proposed anomaly
</I>&gt;<i> scoring/collaborative detection concept to work. The !! inbound/outbound
</I>&gt;<i> anomaly score levels may be set in the modsecurity_crs_10_config.conf
</I>&gt;<i> file. !! These scores will be evaluated in the
</I>&gt;<i> modsecurity_crs_49_inbound_blocking.conf and !!
</I>&gt;<i> modsecurity_crs_59_outbound_blocking.conf files.
</I>&gt;<i> 
</I>&gt;<i> I fully understand the concept how the CRS will behave (at least I guess to
</I>&gt;<i> do so :)
</I>&gt;<i> 
</I>&gt;<i> !!
</I>&gt;<i> !! We got feedback that the name modsecurity_crs_49_enforcement.conf was
</I>&gt;<i> not intuitive enough for !! people to know what the purpose of the file
</I>&gt;<i> was so we updated the name to !! modsecurity_crs_49_inbound_blocking.conf.
</I>&gt;<i>  We also added the
</I>&gt;<i> !! modsecurity_crs_59_outbound_blocking.conf file to allow for proper
</I>&gt;<i> blocking at the end of !! phase:4 rules.
</I>&gt;<i> 
</I>&gt;<i> My question -better: wondering- was that the enforcment file is missing
</I>&gt;<i> *and* the 2 new files do not contain the rules from the older enforcment
</I>&gt;<i> file.
</I>
The files contain similar/updated rules.  The older 49 enforcement file contained a bunch of 
commented out example rules.

&gt;<i> 
</I>&gt;<i> Said this, I agree that the scoring should be evaluated at the end in a
</I>&gt;<i> single (or two) file.
</I>&gt;<i> In practice this adjustment is highly user-definable like the scoring
</I>&gt;<i> itself and should be done in a file which will not be overwritten by
</I>&gt;<i> future updates of the CRS itself. Hence I'd suggest that these rules are
</I>&gt;<i> written in a new file *not located* in the base_rules/ directory.
</I>&gt;<i> Does this make sense?
</I>&gt;<i> IMHO modsecurity_crs_49_inbound_blocking.conf and
</I>&gt;<i> modsecurity_crs_59_outbound_blocking.conf should not block, but may be used
</I>&gt;<i> as example.
</I>&gt;<i> 
</I>
This is a good point and it is a similar rationale as to why we renamed and moved the 48 
local exceptions file up to the main dir with the 10 file as to not overwrite a customized 
version.

I think that we do need to review the CRS and take some notes about possible changes to 
make them easier to manage.

-Ryan

&gt;<i> !!
</I>&gt;<i> !! -Ryan
</I>&gt;<i> !!
</I>&gt;<i> !!
</I>&gt;<i> !! On Thu, Jul 8, 2010 at 3:39 AM, Achim Hoffmann &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">webappsec at securenet.de</A>&gt;
</I>&gt;<i> wrote: !!
</I>&gt;<i> !!       is there any reason why modsecurity_crs_49_enforcement.conf is
</I>&gt;<i> missing !!       in CRS 2.0.7?
</I>&gt;<i> !!
</I>&gt;<i> !!       Please apologice if I missed some previous posts about that.
</I>&gt;<i> !!
</I>&gt;<i> !! Achim
</I>&gt;<i> !!
</I>&gt;<i> !! _______________________________________________
</I>&gt;<i> !! Owasp-modsecurity-core-rule-set mailing list
</I>&gt;<i> !! <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">Owasp-modsecurity-core-rule-set at lists.owasp.org</A>
</I>&gt;<i> !! <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set</A>
</I>&gt;<i> !!
</I>&gt;<i> !!
</I>&gt;<i> !!
</I>&gt;<i> !!
</I>&gt;<i> !! --
</I>&gt;<i> !! Ryan C. Barnett
</I>&gt;<i> !! SANS Certified Instructor
</I>&gt;<i> !! WASC Web Hacking Incident Database Project Leader
</I>&gt;<i> !! WASC Distributed Open Proxy Honeypot Project Leader
</I>&gt;<i> !! OWASP ModSecurity Core Rule Set Project Leader
</I>&gt;<i> !! <A HREF="http://tacticalwebappsec.blogspot.com/">http://tacticalwebappsec.blogspot.com/</A>
</I>&gt;<i> !!
</I>&gt;<i> !!
</I>&gt;<i> !!
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000417.html">[Owasp-modsecurity-core-rule-set] (2.0.7) missing modsecurity_crs_49_enforcement.conf
</A></li>
	<LI>Next message: <A HREF="000411.html">[Owasp-modsecurity-core-rule-set] (2.0.7) syntax problem in	..._41_phpids_filters.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#418">[ date ]</a>
              <a href="thread.html#418">[ thread ]</a>
              <a href="subject.html#418">[ subject ]</a>
              <a href="author.html#418">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
