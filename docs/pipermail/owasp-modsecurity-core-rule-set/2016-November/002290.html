<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] Drupal 7, nginx with ModSecurity - How to resolve that 404 error page please?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20Drupal%207%2C%0A%20nginx%20with%20ModSecurity%20-%20How%20to%20resolve%20that%20404%20error%20page%20please%3F&In-Reply-To=%3Ce4741c16-028f-cdc8-6bc4-1a9544a394f5%40secit.sk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002289.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] Drupal 7, nginx with ModSecurity - How to resolve that 404 error page please?</H1>
    <B>Matej Zuz&#269;&#225;k</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20Drupal%207%2C%0A%20nginx%20with%20ModSecurity%20-%20How%20to%20resolve%20that%20404%20error%20page%20please%3F&In-Reply-To=%3Ce4741c16-028f-cdc8-6bc4-1a9544a394f5%40secit.sk%3E"
       TITLE="[Owasp-modsecurity-core-rule-set] Drupal 7, nginx with ModSecurity - How to resolve that 404 error page please?">mzuzcak at secit.sk
       </A><BR>
    <I>Mon Nov 28 10:59:56 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="002289.html">[Owasp-modsecurity-core-rule-set] [mod-security-users] CRS3	WordPress Exclusions
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2290">[ date ]</a>
              <a href="thread.html#2290">[ thread ]</a>
              <a href="subject.html#2290">[ subject ]</a>
              <a href="author.html#2290">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

I have installed Drupal 7 on latest version of Nginx web server which
was compiled with support of ModSecurity module. I have activated core
OWASP rule set. But when I active ModSecurity in my virtual host config
file for my Drupal 7 web I do not login, register or reset password with
this error in log:

|<i>[error]11158#0: *1 open() &quot;/var/www/MY_WEBSITE/node&quot; failed (2: No such
</I>file or directory), client: IP, server: MY_SERVER, request: &quot;POST
/node?destination=node HTTP/1.1&quot;, host: &quot;MY_WEBSITE&quot;, referrer:
&quot;<A HREF="http://MY_WEBSITE/">http://MY_WEBSITE/</A>&quot;|

And client gets 404 error page.

I applied these practices
<A HREF="https://geekflare.com/modsecurity-owasp-core-rule-set-nginx/">https://geekflare.com/modsecurity-owasp-core-rule-set-nginx/</A> and
<A HREF="https://www.netnea.com/cms/2016/11/22/securing-drupal-with-modsecurity-and-the-core-rule-set-crs3/">https://www.netnea.com/cms/2016/11/22/securing-drupal-with-modsecurity-and-the-core-rule-set-crs3/</A>
||<i>
</I>When I change SecRuleEngine from &quot;On&quot; to &quot;DetectionOnly&quot; result is the
same, For correct operation I have to &quot;switch off&quot; ModSecurity in
virtual host config for domain.
I found some solutions for Apache web server (these solutions use
modifications of htaccess file), but not for Nginx.

So please have you any advices for solving this problem?

Help me please.
Many thanks!

-- 
Best Regards
Matej Zuzcak

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20161128/41dc1995/attachment.html">http://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20161128/41dc1995/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002289.html">[Owasp-modsecurity-core-rule-set] [mod-security-users] CRS3	WordPress Exclusions
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2290">[ date ]</a>
              <a href="thread.html#2290">[ thread ]</a>
              <a href="subject.html#2290">[ subject ]</a>
              <a href="author.html#2290">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
