<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] ModSecurity Error persist at /var/log/httpd/error_log
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20ModSecurity%20Error%20persist%20at%0A%20/var/log/httpd/error_log&In-Reply-To=%3CCDA5390A.A3CC6%25rbarnett%40trustwave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001384.html">
   <LINK REL="Next"  HREF="001386.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] ModSecurity Error persist at /var/log/httpd/error_log</H1>
    <B>Ryan Barnett</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20ModSecurity%20Error%20persist%20at%0A%20/var/log/httpd/error_log&In-Reply-To=%3CCDA5390A.A3CC6%25rbarnett%40trustwave.com%3E"
       TITLE="[Owasp-modsecurity-core-rule-set] ModSecurity Error persist at /var/log/httpd/error_log">RBarnett at trustwave.com
       </A><BR>
    <I>Tue Apr 30 13:05:09 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="001384.html">[Owasp-modsecurity-core-rule-set] ModSecurity Error persist at	/var/log/httpd/error_log
</A></li>
        <LI>Next message: <A HREF="001386.html">[Owasp-modsecurity-core-rule-set] Apache memory attack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1385">[ date ]</a>
              <a href="thread.html#1385">[ thread ]</a>
              <a href="subject.html#1385">[ subject ]</a>
              <a href="author.html#1385">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

From: Premen &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">premen at vox.com.my</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">premen at vox.com.my</A>&gt;&gt;
Date: Monday, April 29, 2013 10:50 PM
To: &quot;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>&gt;&quot; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>&gt;&gt;
Subject: [Owasp-modsecurity-core-rule-set] ModSecurity Error persist at /var/log/httpd/error_log

Hi,


I have reported to ModSecurity Team. They ask me to relate the issue to your side.

I having issues in for the ModSecurity 2.6.6 and modsecurity-crs.2.2.5.

I getting this error at /var/log/httpd/error_log

[Mon Apr 29 11:53:07 2013] [error] [client x.x.x.x] ModSecurity: Rule 1cd7c28 [id &quot;950901&quot;][file &quot;/etc/httpd/modsecurity-crs/base_rules/modsecurity_crs_41_sql_injection_attacks.conf&quot;][line &quot;77&quot;] - Execution error - PCRE limits exceeded (-8): (null). [hostname &quot;www.test.com&lt;<A HREF="http://www.test.com">http://www.test.com</A>&gt;&quot;]  [unique_id &quot;UX3uo9rQFyUAAGmGCT4AAAAD&quot;]
[Mon Apr 29 11:53:07 2013] [error] [client x.x.x.x] ModSecurity: Access denied with code 403 (phase 2). Match of &quot;streq 0&quot; against &quot;TX:MSC_PCRE_LIMITS_EXCEEDED&quot; required. [file &quot;/etc/httpd/conf.d/modsecurity.conf&quot;] [line &quot;93&quot;] [msg &quot;ModSecurity internal error flagged:

I have already added
SecPcreMatchLimit 150000
SecPcreMatchLimitRecursion 150000

and restart the httpd

Still the same.
Please help. Googling around doesn't really solve the problem


Its running Centos 6.3. Do assist me thank you


Premen,
We have updated many regexes for greediness (which is what is typically triggering the PCRE recussion alerts).  I would suggest you upgrade your CRS to the latest version 2.2.7.  Do keep in mind, however, that 2.2.7 requires ModSecurity 2.7.x.

-Ryan

________________________________

This transmission may contain information that is privileged, confidential, and/or exempt from disclosure under applicable law. If you are not the intended recipient, you are hereby notified that any disclosure, copying, distribution, or use of the information contained herein (including any reliance thereon) is STRICTLY PROHIBITED. If you received this transmission in error, please immediately contact the sender and destroy the material in its entirety, whether in electronic or hard copy format.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20130430/77be7f50/attachment.html">http://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20130430/77be7f50/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001384.html">[Owasp-modsecurity-core-rule-set] ModSecurity Error persist at	/var/log/httpd/error_log
</A></li>
	<LI>Next message: <A HREF="001386.html">[Owasp-modsecurity-core-rule-set] Apache memory attack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1385">[ date ]</a>
              <a href="thread.html#1385">[ thread ]</a>
              <a href="subject.html#1385">[ subject ]</a>
              <a href="author.html#1385">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
