<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] Session fixating test - general CRS test
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20Session%20fixating%20test%20-%0A%20general%20CRS%20test&In-Reply-To=%3CDB6PR0902MB21973F83C9A3A8AC2894D53982060%40DB6PR0902MB2197.eurprd09.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002336.html">
   <LINK REL="Next"  HREF="002338.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] Session fixating test - general CRS test</H1>
    <B>Barry Pollard</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20Session%20fixating%20test%20-%0A%20general%20CRS%20test&In-Reply-To=%3CDB6PR0902MB21973F83C9A3A8AC2894D53982060%40DB6PR0902MB2197.eurprd09.prod.outlook.com%3E"
       TITLE="[Owasp-modsecurity-core-rule-set] Session fixating test - general CRS test">barry_pollard at hotmail.com
       </A><BR>
    <I>Mon Apr 17 08:13:08 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="002336.html">[Owasp-modsecurity-core-rule-set] Session fixating test - general CRS test
</A></li>
        <LI>Next message: <A HREF="002338.html">[Owasp-modsecurity-core-rule-set] Session fixating test - general CRS test
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2337">[ date ]</a>
              <a href="thread.html#2337">[ thread ]</a>
              <a href="subject.html#2337">[ subject ]</a>
              <a href="author.html#2337">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I thought through that before, but I thought Modsecurity stores
it in memory... I've found few e-mails on mailing lists, where
users discusses about hash tables for session/ip, session/UA, but
I didn't dound any other information about that.

These are &quot;collections&quot; that I mentioned. They are stored in a file persisted to disk in a key based SDBM format. Unfortunately this does not scale for even a moderately busy webserver as many threads attempt to access the collections at same time, and they clash and fail. More info here:

<A HREF="https://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/2016-May/002145.html">https://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/2016-May/002145.html</A>

Anyway, is there any information about it in Modsecurity DOCS?

The ModSecurity handbook discusses them in depth though don't think it mentions the unreliability of them much when it should IMHO. It's not expensive and well worth it if you really intend to use ModSecurity.

2) Virtual Patching. If a particular attack is identified it's often
a lot easier to write and deploy a ModSecurity rule, than to fix in
the code.

yes, but this answer indicates new question(s) :). Eg. is there a
good documentation about the ruleset language? I mean, where can
I see the BNF of language? Where can I find any documentation how
can I write a custom own rules?

(Sorry, I know that's these questions aren't relates to CRS,
rather to libmodsecurity.)

The ModSecurity handbook is best for this, supplemented by the reference manual (<A HREF="https://github.com/SpiderLabs/ModSecurity/wiki/Reference-Manual">https://github.com/SpiderLabs/ModSecurity/wiki/Reference-Manual</A>) which I think came from the handbook originally. Or vice versa.

There's also a mailing list similar to this for ModSecurity issues rather than OWASP CRS issues. See here for details: <A HREF="http://modsecurity.org/help.html">http://modsecurity.org/help.html</A>

And then there's GitHub repositories for both for issue and change tracking:

ModSecurity: <A HREF="https://github.com/SpiderLabs/ModSecurity">https://github.com/SpiderLabs/ModSecurity</A>
OWASP CRS: <A HREF="https://github.com/SpiderLabs/owasp-modsecurity-crs">https://github.com/SpiderLabs/owasp-modsecurity-crs</A>

Finally Christian also published some free tutorials as a series of blog post, which are well worth a read, though they do concentrate more on getting it up and running, which you seem to have got to on your own already: <A HREF="https://www.netnea.com/cms/apache-tutorials/">https://www.netnea.com/cms/apache-tutorials/</A>

One of the best ways to learn the rules is to use them :-) Look at the CRS rules which are all just text based, human readable config files (though they often have very complex regex that is difficult to follow) and use Audit and Debug logs to understand them - rather than just turning them on and hoping for the best.

To be honest the CRS could do with a book in itself, or greater documentation as some of the reasoning for the rules has been lost in time and isn't the easiest to understand for beginners. Ryan's book almost does that for some of them but could do with even more explanation IMHO.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20170417/b68d6aca/attachment-0001.html">http://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20170417/b68d6aca/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002336.html">[Owasp-modsecurity-core-rule-set] Session fixating test - general CRS test
</A></li>
	<LI>Next message: <A HREF="002338.html">[Owasp-modsecurity-core-rule-set] Session fixating test - general CRS test
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2337">[ date ]</a>
              <a href="thread.html#2337">[ thread ]</a>
              <a href="subject.html#2337">[ subject ]</a>
              <a href="author.html#2337">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
