<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] Remove some rules for sub	domain
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20Remove%20some%20rules%20for%20sub%0A%09domain&In-Reply-To=%3CCAMmziWcmev13VHpCFR1VsCL%2B6MuQe78S2%3D_Hx5uAv1j41OtR8g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001592.html">
   <LINK REL="Next"  HREF="001594.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] Remove some rules for sub	domain</H1>
    <B>Ilyass Kaouam</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20Remove%20some%20rules%20for%20sub%0A%09domain&In-Reply-To=%3CCAMmziWcmev13VHpCFR1VsCL%2B6MuQe78S2%3D_Hx5uAv1j41OtR8g%40mail.gmail.com%3E"
       TITLE="[Owasp-modsecurity-core-rule-set] Remove some rules for sub	domain">ilyassikai at gmail.com
       </A><BR>
    <I>Wed Jul  9 14:17:56 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="001592.html">[Owasp-modsecurity-core-rule-set] Remove some rules for sub domain
</A></li>
        <LI>Next message: <A HREF="001594.html">[Owasp-modsecurity-core-rule-set] proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1593">[ date ]</a>
              <a href="thread.html#1593">[ thread ]</a>
              <a href="subject.html#1593">[ subject ]</a>
              <a href="author.html#1593">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi :)
it's very clair thank you
Last thing,

from what I understand I have to insert


*&lt;LocationMatch /Bilbo&gt;*

*SecRuleRemoveByID 123456*

*&lt;/LocationMatch&gt;*


after the virtual host ?

Thank you


2014-07-09 14:07 GMT+00:00 Craig Lawson &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">craig.lawson at secarma.co.uk</A>&gt;:

&gt;<i>  An example of one of my anonymized configs which has a number of rules
</I>&gt;<i> turned off for the whole site hence &lt;LocationMatch .*&gt; instead of the
</I>&gt;<i> earlier example of &lt;LocationMatch /Bilbo&gt;, we separate virtual hosts into
</I>&gt;<i> individual domain.com.conf files, we also use mod_security as a reverse
</I>&gt;<i> proxy not on the actual webservers:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;VirtualHost 111.222.333.444:443&gt;
</I>&gt;<i>
</I>&gt;<i>         ServerName blah.com
</I>&gt;<i>
</I>&gt;<i>         ServerAlias blah.com
</I>&gt;<i>
</I>&gt;<i>         ErrorLog &quot;/var/log/httpd/blah.com-ssl_error_log&quot;
</I>&gt;<i>
</I>&gt;<i>         CustomLog &quot;/var/log/httpd/blah.com-ssl_access_log&quot; \
</I>&gt;<i>
</I>&gt;<i>                   &quot;%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \&quot;%r\&quot; %s %b&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         SSLEngine On
</I>&gt;<i>
</I>&gt;<i>         SSLProxyEngine on
</I>&gt;<i>
</I>&gt;<i>         SSLCertificateFile /etc/httpd/conf/ssl/blah.com.crt
</I>&gt;<i>
</I>&gt;<i>         SSLCertificateKeyFile /etc/httpd/conf/ssl/blah.com.key
</I>&gt;<i>
</I>&gt;<i>         SSLCACertificateFile /etc/httpd/conf/ssl/blah.com.ca.crt
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         SSLProtocol -ALL +SSLv3 +TLSv1
</I>&gt;<i>
</I>&gt;<i>         SSLHonorCipherOrder on
</I>&gt;<i>
</I>&gt;<i>         SSLCipherSuite
</I>&gt;<i> ALL:!MD5:!ADH:!NULL:!EXP:!SSLv2:!LOW:!MEDIUM:RC4+RSA:+HIGH
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         ProxyRequests Off
</I>&gt;<i>
</I>&gt;<i>         ProxyPass / <A HREF="http://internalip/">http://internalip/</A>
</I>&gt;<i>
</I>&gt;<i>         ProxyPassReverse / <A HREF="http://internalip/">http://internalip/</A>
</I>&gt;<i>
</I>&gt;<i>         ProxyPreserveHost On
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         RequestHeader set X-Forwarded-Proto &quot;https&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         SetEnv force-proxy-request-1.0 1
</I>&gt;<i>
</I>&gt;<i>         SetEnv proxy-nokeepalive 1
</I>&gt;<i>
</I>&gt;<i> &lt;/VirtualHost&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;LocationMatch .*&gt;
</I>&gt;<i>
</I>&gt;<i> SecRuleRemoveById 111111 222222 333333
</I>&gt;<i>
</I>&gt;<i> &lt;/LocationMatch&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *From:* Ilyass Kaouam [mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">ilyassikai at gmail.com</A>]
</I>&gt;<i> *Sent:* 09 July 2014 12:42
</I>&gt;<i> *To:* Craig Lawson
</I>&gt;<i> *Subject:* Re: [Owasp-modsecurity-core-rule-set] Remove some rules for
</I>&gt;<i> sub domain
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi lawson,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thank you for your replay :)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I use Virtual host and mod_proxy
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> who i can add this LocationMatch  ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> thank you
</I>&gt;<i>
</I>&gt;<i> conf file :
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *&lt;VirtualHost *:80&gt;*
</I>&gt;<i>
</I>&gt;<i> *    ServerAdmin <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">admin at abcdef.com</A> &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">admin at abcdef.com</A>&gt;*
</I>&gt;<i>
</I>&gt;<i> *    ServerName abcdef.com &lt;<A HREF="http://abcdef.com">http://abcdef.com</A>&gt;*
</I>&gt;<i>
</I>&gt;<i> *    ServerAlias abcdef.com &lt;<A HREF="http://abcdef.com">http://abcdef.com</A>&gt; *. abcdef.com
</I>&gt;<i> &lt;<A HREF="http://abcdef.com">http://abcdef.com</A>&gt;*
</I>&gt;<i>
</I>&gt;<i> *    ProxyRequests Off*
</I>&gt;<i>
</I>&gt;<i> *    ProxyPreserveHost On*
</I>&gt;<i>
</I>&gt;<i> *    &lt;Proxy *&gt;*
</I>&gt;<i>
</I>&gt;<i> *       Order allow,deny*
</I>&gt;<i>
</I>&gt;<i> *       Allow from all*
</I>&gt;<i>
</I>&gt;<i> *    &lt;/Proxy&gt;*
</I>&gt;<i>
</I>&gt;<i> *    ProxyPass / <A HREF="http://172.27.248.4:8080/">http://172.27.248.4:8080/</A> &lt;<A HREF="http://172.27.248.4:8080/">http://172.27.248.4:8080/</A>&gt;
</I>&gt;<i> retry=60  keepalive=on*
</I>&gt;<i>
</I>&gt;<i> *    ProxyPassReverse / <A HREF="http://172.27.248.4:8080/">http://172.27.248.4:8080/</A>
</I>&gt;<i> &lt;<A HREF="http://172.27.248.4:8080/">http://172.27.248.4:8080/</A>&gt; retry=60*
</I>&gt;<i>
</I>&gt;<i> *    ErrorLog logs/abcdef.com &lt;<A HREF="http://abcdef.com">http://abcdef.com</A>&gt;-error_log*
</I>&gt;<i>
</I>&gt;<i> *    CustomLog logs/i abcdef.com &lt;<A HREF="http://abcdef.com">http://abcdef.com</A>&gt;-access_log common*
</I>&gt;<i>
</I>&gt;<i> *&lt;/VirtualHost&gt;*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2014-07-09 11:16 GMT+00:00 Craig Lawson &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">craig.lawson at secarma.co.uk</A>&gt;:
</I>&gt;<i>
</I>&gt;<i> Insert the following into your virtual host file
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> e.g. to remove specific rules:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;LocationMatch /Bilbo&gt;
</I>&gt;<i>
</I>&gt;<i> SecRuleRemoveByID 123456
</I>&gt;<i>
</I>&gt;<i> &lt;/LocationMatch&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Does this cover what you are requesting?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> C
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *From:* <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set-bounces at lists.owasp.org</A> [mailto:
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set-bounces at lists.owasp.org</A>] *On Behalf Of *Ilyass
</I>&gt;<i> Kaouam
</I>&gt;<i> *Sent:* 09 July 2014 11:52
</I>&gt;<i> *To:* <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>
</I>&gt;<i> *Subject:* [Owasp-modsecurity-core-rule-set] Remove some rules for sub
</I>&gt;<i> domain
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> We have a sub-site www.abcdef.com / Bilbo
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> We want to remove some roles for this subdomain only
</I>&gt;<i>
</I>&gt;<i> / Bilbo
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> (this website is made by java)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> How I can do that, thank you
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>
</I>&gt;<i> *Ilyass kaouam*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *Systems administrator at Inforisk Group Finaccess  European Masters in
</I>&gt;<i> Information Technology*
</I>&gt;<i>
</I>&gt;<i> *Portable : (212) 6 34 57 14 36*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  ------------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> NOTICE AND DISCLAIMER
</I>&gt;<i> This e-mail (including any attachments) is intended for the above-named
</I>&gt;<i> person(s). If you are not the intended recipient, notify the sender
</I>&gt;<i> immediately, delete this email from your system and do not disclose or use
</I>&gt;<i> for any purpose. We may monitor all incoming and outgoing emails in line
</I>&gt;<i> with current legislation. We have taken steps to ensure that this email and
</I>&gt;<i> attachments are free from any virus, but it remains your responsibility to
</I>&gt;<i> ensure that viruses do not adversely affect you
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>
</I>&gt;<i> *Ilyass kaouam*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *Systems administrator at Inforisk Group Finaccess  European Masters in
</I>&gt;<i> Information Technology*
</I>&gt;<i>
</I>&gt;<i> *Portable : (212) 6 34 57 14 36*
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> NOTICE AND DISCLAIMER
</I>&gt;<i> This e-mail (including any attachments) is intended for the above-named
</I>&gt;<i> person(s). If you are not the intended recipient, notify the sender
</I>&gt;<i> immediately, delete this email from your system and do not disclose or use
</I>&gt;<i> for any purpose. We may monitor all incoming and outgoing emails in line
</I>&gt;<i> with current legislation. We have taken steps to ensure that this email and
</I>&gt;<i> attachments are free from any virus, but it remains your responsibility to
</I>&gt;<i> ensure that viruses do not adversely affect you
</I>&gt;<i>
</I>


-- 
*Ilyass kaouam*
*Systems administrator*
* at Inforisk Group Finaccess  *
*European Masters in Information Technology*
*Portable : (212) *
*6 34 57 14 36**<A HREF="http://www.inforisk.ma">http://www.inforisk.ma</A> &lt;<A HREF="http://www.inforisk.ma">http://www.inforisk.ma</A>&gt;*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20140709/cf4ed79c/attachment-0001.html">http://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20140709/cf4ed79c/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001592.html">[Owasp-modsecurity-core-rule-set] Remove some rules for sub domain
</A></li>
	<LI>Next message: <A HREF="001594.html">[Owasp-modsecurity-core-rule-set] proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1593">[ date ]</a>
              <a href="thread.html#1593">[ thread ]</a>
              <a href="subject.html#1593">[ subject ]</a>
              <a href="author.html#1593">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
