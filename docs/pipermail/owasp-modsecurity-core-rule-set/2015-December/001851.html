<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] Exclude a request
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20Exclude%20a%20request&In-Reply-To=%3CD2A71252.16C60%25csanders%40trustwave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001850.html">
   <LINK REL="Next"  HREF="001852.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] Exclude a request</H1>
    <B>Chaim Sanders</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20Exclude%20a%20request&In-Reply-To=%3CD2A71252.16C60%25csanders%40trustwave.com%3E"
       TITLE="[Owasp-modsecurity-core-rule-set] Exclude a request">CSanders at trustwave.com
       </A><BR>
    <I>Mon Dec 28 21:24:43 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001850.html">[Owasp-modsecurity-core-rule-set] Exclude a request
</A></li>
        <LI>Next message: <A HREF="001852.html">[Owasp-modsecurity-core-rule-set] Exclude a request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1851">[ date ]</a>
              <a href="thread.html#1851">[ thread ]</a>
              <a href="subject.html#1851">[ subject ]</a>
              <a href="author.html#1851">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is probably the opposite of what you want to do.
Not only does it not work with your link because of the extra slash (it is a dollar sign in your link) but this will turn off ALL the rules for any request that contains that keyword anywhere in it.

Take a look at this post: <A HREF="https://www.trustwave.com/Resources/SpiderLabs-Blog/ModSecurity-Advanced-Topic-of-the-Week--(Updated">https://www.trustwave.com/Resources/SpiderLabs-Blog/ModSecurity-Advanced-Topic-of-the-Week--(Updated</A>)-Exception-Handling/
To get a better idea of what you should be doing :). If you are confused by the post reach back out and I'll work with you some more.

From: Ilyass Kaouam &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">ilyassikai at gmail.com</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">ilyassikai at gmail.com</A>&gt;&gt;
Reply-To: &quot;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">ilyassikai at gmail.com</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">ilyassikai at gmail.com</A>&gt;&quot; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">ilyassikai at gmail.com</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">ilyassikai at gmail.com</A>&gt;&gt;
Date: Monday, December 28, 2015 at 5:05 AM
To: Chaim Sanders &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">csanders at trustwave.com</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">csanders at trustwave.com</A>&gt;&gt;
Cc: &quot;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>&gt;&quot; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">owasp-modsecurity-core-rule-set at lists.owasp.org</A>&gt;&gt;
Subject: Re: [Owasp-modsecurity-core-rule-set] Exclude a request

Hi Chaim,

Thank you for you reply,

SecRule REQUEST_URI &quot;^/SubmitCercle&quot; id:1,t:none,t:lowercase,nolog,phase:1,allow,ctl:ruleEngine=Off,ctl:auditEngine=Off

You would like say like this ?

Thank you



2015-12-23 18:25 GMT+00:00 Chaim Sanders &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">CSanders at trustwave.com</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">CSanders at trustwave.com</A>&gt;&gt;:

The ideal way to do this with OWASP crs is to exclude that variable from being inspected by the given rule. This can be done by using the secupdatetargetbyid directive. To this directive you may pass ! Action and also the id of the rule causing the issue. For an example please see the modsecurity reference manual.
When not using OWASP you would probably add chained portions to the rule to exclude it from firing whenever the request URL and parameters were present. Doing this with OWASP will cause issues with updates potentially.

On Dec 23, 2015 11:41 AM, Ilyass Kaouam &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">ilyassikai at gmail.com</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">ilyassikai at gmail.com</A>&gt;&gt; wrote:
Hi,

Hello,

I have a question please

I have a text field in which the user enters a message, the WAF blocks this request
here is the url:

POST / servlet / EspaceClientServlet?Action=Ajax$SubmitCercle

I want to exclude this request that is to say to waf do not filter queries with &quot;POST / servlet/EspaceClientServlet?Action=Ajax$SubmitCercle&quot;

Can you please tell me how?

Thank you

--
Ilyass kaouam
Systems administrator at Inforisk Group Finaccess


________________________________

This transmission may contain information that is privileged, confidential, and/or exempt from disclosure under applicable law. If you are not the intended recipient, you are hereby notified that any disclosure, copying, distribution, or use of the information contained herein (including any reliance thereon) is strictly prohibited. If you received this transmission in error, please immediately contact the sender and destroy the material in its entirety, whether in electronic or hard copy format.



--
Ilyass kaouam
Systems administrator at Inforisk Group Finaccess
European Masters in Information Technology
Portable : (212) 6 34 57 14 36
<A HREF="http://www.inforisk.ma&lt;http://scanmail.trustwave.com/?c=4062&amp;d=nYmB1gX5hByXWOEUpiGAQhNbEt90NxjN403iI3W9Uw&amp;s=5&amp;u=http%3a%2f%2fwww%2einforisk%2ema">http://www.inforisk.ma&lt;http://scanmail.trustwave.com/?c=4062&amp;d=nYmB1gX5hByXWOEUpiGAQhNbEt90NxjN403iI3W9Uw&amp;s=5&amp;u=http%3a%2f%2fwww%2einforisk%2ema</A>&gt;

________________________________

This transmission may contain information that is privileged, confidential, and/or exempt from disclosure under applicable law. If you are not the intended recipient, you are hereby notified that any disclosure, copying, distribution, or use of the information contained herein (including any reliance thereon) is strictly prohibited. If you received this transmission in error, please immediately contact the sender and destroy the material in its entirety, whether in electronic or hard copy format.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20151228/501080dd/attachment.html">http://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20151228/501080dd/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001850.html">[Owasp-modsecurity-core-rule-set] Exclude a request
</A></li>
	<LI>Next message: <A HREF="001852.html">[Owasp-modsecurity-core-rule-set] Exclude a request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1851">[ date ]</a>
              <a href="thread.html#1851">[ thread ]</a>
              <a href="subject.html#1851">[ subject ]</a>
              <a href="author.html#1851">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
