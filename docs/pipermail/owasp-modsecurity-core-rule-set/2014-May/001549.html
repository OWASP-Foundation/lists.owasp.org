<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] JSON issues on mod_security
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20JSON%20issues%20on%20mod_security&In-Reply-To=%3C176F385F-B1AC-4EAE-AA0B-2FA2AAF6116E%40trustwave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001548.html">
   <LINK REL="Next"  HREF="001551.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] JSON issues on mod_security</H1>
    <B>Felipe Costa</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20JSON%20issues%20on%20mod_security&In-Reply-To=%3C176F385F-B1AC-4EAE-AA0B-2FA2AAF6116E%40trustwave.com%3E"
       TITLE="[Owasp-modsecurity-core-rule-set] JSON issues on mod_security">FCosta at trustwave.com
       </A><BR>
    <I>Mon May 19 19:37:24 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="001548.html">[Owasp-modsecurity-core-rule-set] JSON issues on mod_security
</A></li>
        <LI>Next message: <A HREF="001551.html">[Owasp-modsecurity-core-rule-set] JSON issues on mod_security
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1549">[ date ]</a>
              <a href="thread.html#1549">[ thread ]</a>
              <a href="subject.html#1549">[ subject ]</a>
              <a href="author.html#1549">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Neeraj,

Can you double check if the application is receiving the request body at all? are you using
others IIS modules in combination with ModSecurity?

There is a bug opened, regarding to the ModSecurityIIS module and request body contents.
The link to the bug is available here:
<A HREF="https://github.com/SpiderLabs/ModSecurity/issues/562">https://github.com/SpiderLabs/ModSecurity/issues/562</A>

Check if, by setting SecRequestBodyAccess to &quot;off&quot; your application starts to perform well again.

Br.,
Felipe &quot;Zimmerle&quot; Costa
Security Researcher, SpiderLabs

Trustwave | SMART SECURITY ON DEMAND
www.trustwave.com&lt;<A HREF="http://www.trustwave.com/">http://www.trustwave.com/</A>&gt;




On May 19, 2014, at 4:09 PM, Neeraj.Chaudhary &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">neeraj at rockonllc.com</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">neeraj at rockonllc.com</A>&gt;&gt; wrote:

Hi,

It's been few days trying to figure out what is going wrong and where, but
now I am stumped and need help from you guys.

I am using mod_security on ISS version 8.0.9200.16384.
The same code works fine without mod_security but as soon as I enable
mod_security I get the below mentioned response.
Which shows that the parameter userName is not proper. I debugged and looked
into all possible concerns but unable to find an error. I am using jQuery
AJAX

{&quot;Message&quot;:&quot;Invalid web service call, missing value for parameter:
\u0027userName\u0027.&quot;,&quot;StackTrace&quot;:&quot;   at
System.Web.Script.Services.WebServiceMethodData.CallMethod(Object target,
IDictionary`2 parameters)\r\n   at
System.Web.Script.Services.RestHandler.InvokeMethod(HttpContext context,
WebServiceMethodData methodData, IDictionary`2 rawParams)\r\n   at
System.Web.Script.Services.RestHandler.ExecuteWebServiceCall(HttpContext
context, WebServiceMethodData
methodData)&quot;,&quot;ExceptionType&quot;:&quot;System.InvalidOperationException&quot;}

Request Body : {&quot;userName&quot;: &quot;neeraj.chaudhary&quot;, &quot;password&quot;: &quot;Abcd123&quot;}
Aspx webmethod signature is
[WebMethod]
public static string Login(string userName, string password)

I shall be delighted if someone can point out what can be done in this case.
Maybe change in rule or anything which can help me pass through this
scenario.

Regards,
Neeraj Chaudhary
+1 925 359 9074


_______________________________________________
Owasp-modsecurity-core-rule-set mailing list
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">Owasp-modsecurity-core-rule-set at lists.owasp.org</A>&lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">Owasp-modsecurity-core-rule-set at lists.owasp.org</A>&gt;
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set</A>



________________________________

This transmission may contain information that is privileged, confidential, and/or exempt from disclosure under applicable law. If you are not the intended recipient, you are hereby notified that any disclosure, copying, distribution, or use of the information contained herein (including any reliance thereon) is strictly prohibited. If you received this transmission in error, please immediately contact the sender and destroy the material in its entirety, whether in electronic or hard copy format.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20140519/f04646f2/attachment.html">http://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/attachments/20140519/f04646f2/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001548.html">[Owasp-modsecurity-core-rule-set] JSON issues on mod_security
</A></li>
	<LI>Next message: <A HREF="001551.html">[Owasp-modsecurity-core-rule-set] JSON issues on mod_security
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1549">[ date ]</a>
              <a href="thread.html#1549">[ thread ]</a>
              <a href="subject.html#1549">[ subject ]</a>
              <a href="author.html#1549">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
