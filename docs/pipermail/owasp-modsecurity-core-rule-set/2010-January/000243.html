<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] CRS 2.0.4 feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=%5BOwasp-modsecurity-core-rule-set%5D%20CRS%202.0.4%20feedback&In-Reply-To=201001111714.17627.ryan.barnett%40breach.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000241.html">
   <LINK REL="Next"  HREF="000240.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] CRS 2.0.4 feedback</H1>
    <B>Ivan Ristic</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=%5BOwasp-modsecurity-core-rule-set%5D%20CRS%202.0.4%20feedback&In-Reply-To=201001111714.17627.ryan.barnett%40breach.com"
       TITLE="[Owasp-modsecurity-core-rule-set] CRS 2.0.4 feedback">ivan.ristic at gmail.com
       </A><BR>
    <I>Mon Jan 11 17:50:12 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000241.html">[Owasp-modsecurity-core-rule-set] CRS 2.0.4 feedback
</A></li>
        <LI>Next message: <A HREF="000240.html">[Owasp-modsecurity-core-rule-set] Practical ways to disable a rule	aside from commenting it.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#243">[ date ]</a>
              <a href="thread.html#243">[ thread ]</a>
              <a href="subject.html#243">[ subject ]</a>
              <a href="author.html#243">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jan 11, 2010 at 10:14 PM, Ryan Barnett &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">ryan.barnett at breach.com</A>&gt; wrote:
&gt;<i> On Monday 11 January 2010 04:44:10 pm Ivan Ristic wrote:
</I>&gt;&gt;<i> I investigated a couple of CRS false positives today, and I have the
</I>&gt;&gt;<i> following feedback for the group:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - CRS generates great many messages, and it's very difficult to figure
</I>&gt;&gt;<i> out what is relevant and what isn't.
</I>&gt;&gt;<i>
</I>&gt;<i> They are all relevant.
</I>
They may be, but my point is that I don't understand what purpose they
serve. Evaluating a false positive takes ages.

For example, your alert-substitute rules put messages into the data
fragment, which is the wrong place. It breaks the GUI tools (we don't
have many of them, but still).

&gt;<i>
</I>&gt;&gt;<i> The emulation of messages is a poor
</I>&gt;&gt;<i> substitute for the original messages and does not contain the original
</I>&gt;&gt;<i> information.
</I>&gt;<i> It can include as much as you need. &#160;See the phpids examples.
</I>
I am sorry, which phpids examples do you mean?


&gt;&gt;<i> - The use of non-numerical rule IDs, which is against the
</I>&gt;&gt;<i> specification, makes exceptions impossible. I've reported this problem
</I>&gt;&gt;<i> as:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160; <A HREF="https://www.modsecurity.org/tracker/browse/MODSEC-114">https://www.modsecurity.org/tracker/browse/MODSEC-114</A>
</I>&gt;&gt;<i> &#160; <A HREF="https://www.modsecurity.org/tracker/browse/CORERULES-28">https://www.modsecurity.org/tracker/browse/CORERULES-28</A>
</I>&gt;&gt;<i>
</I>&gt;<i> Rule IDs are used for two reasons - exceptions and for identify which rule actually caused
</I>&gt;<i> the alert. &#160;When using them for exceptions with SecRuleRemoveById or the equivalent ctl
</I>&gt;<i> action - it still works find using non-digit rule IDs. &#160;The only issue is if you wanted to
</I>&gt;<i> remove a range of rule IDs.
</I>
Yes, that too, but that was an obvious problem. If you try to use
SecRuleRemoveById with CRS, a single removal of a non-numerical ID
will remove all rules with non-numerical IDs.


&gt;<i> Another point - making rule exceptions more flexible was a driver for the new CRS and using
</I>&gt;<i> TX variables. &#160;The rule ID is not as critical for exceptions.
</I>
I do not agree with that. ModSecurity already has an exception system,
which users already know how to use, but the CRS breaks it (by using
non-numerical IDs). If you want to build a better exception system, go
ahead, but I think you should at least stay compatible with what's
already there. If you insist on having your own exception system,
however, please tell us how to use it! :)


&gt;<i> I was waiting for your OWASP CRS project review data in order to update the sites. &#160;Is
</I>&gt;<i> this it or are you sending something different?
</I>
I sent my review a month ago:

<A HREF="https://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/2009-December/000173.html">https://lists.owasp.org/pipermail/owasp-modsecurity-core-rule-set/2009-December/000173.html</A>

You responded to my email so you can't claim that you had not seen it :)


&gt;<i> &#160;What do you say we take this offline and
</I>&gt;<i> come up with a gameplan?
</I>
That's a good try, but enjoy being just a user :)

-- 
Ivan Ristic
ModSecurity Handbook [<A HREF="https://www.feistyduck.com]">https://www.feistyduck.com]</A>
SSL Labs [<A HREF="https://www.ssllabs.com/ssldb/]">https://www.ssllabs.com/ssldb/]</A>
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000241.html">[Owasp-modsecurity-core-rule-set] CRS 2.0.4 feedback
</A></li>
	<LI>Next message: <A HREF="000240.html">[Owasp-modsecurity-core-rule-set] Practical ways to disable a rule	aside from commenting it.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#243">[ date ]</a>
              <a href="thread.html#243">[ thread ]</a>
              <a href="subject.html#243">[ subject ]</a>
              <a href="author.html#243">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
