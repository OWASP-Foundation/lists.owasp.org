<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;14px;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&quot;&gt;<br>
&lt;div&gt;Hello,&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;have&nbsp;ModSecurity&nbsp;running&nbsp;as&nbsp;a&nbsp;reverse&nbsp;proxy&nbsp;behind&nbsp;an&nbsp;haproxy&nbsp;LB.&nbsp;Because&nbsp;we&#8217;re&nbsp;behind&nbsp;HAProxy,&nbsp;we&#8217;re&nbsp;getting&nbsp;LB&nbsp;IP&nbsp;addresses&nbsp;for&nbsp;REMOTE_ADDR.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;have&nbsp;a&nbsp;large&nbsp;number&nbsp;of&nbsp;IPs&nbsp;that&nbsp;I&nbsp;have&nbsp;to&nbsp;whitelist,&nbsp;and&nbsp;would&nbsp;therefore&nbsp;really&nbsp;take&nbsp;advantage&nbsp;of&nbsp;the&nbsp;ipMatch&nbsp;and&nbsp;ipMatchFromFile&nbsp;functions.&nbsp;However,&nbsp;those&nbsp;can&nbsp;only&nbsp;be&nbsp;used&nbsp;on&nbsp;REMOTE_ADDR.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Does&nbsp;anyone&nbsp;have&nbsp;a&nbsp;creative&nbsp;way&nbsp;of&nbsp;taking&nbsp;the&nbsp;X-Forwarded-For&nbsp;value&nbsp;and&nbsp;somehow&nbsp;setting&nbsp;REMOTE_ADDR&nbsp;to&nbsp;that,&nbsp;and&nbsp;then&nbsp;using&nbsp;ipMatch&nbsp;on&nbsp;the&nbsp;result?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Thanks,&lt;/div&gt;<br>
&lt;div&gt;Brian&lt;/div&gt;<br>
&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
