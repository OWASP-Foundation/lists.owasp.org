<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] Global Piwik support?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20Global%20Piwik%20support%3F&In-Reply-To=%3C529CE57E.7050504%40fing.edu.uy%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001491.html">
   <LINK REL="Next"  HREF="001493.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] Global Piwik support?</H1>
    <B>Felipe Zipitria</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20Global%20Piwik%20support%3F&In-Reply-To=%3C529CE57E.7050504%40fing.edu.uy%3E"
       TITLE="[Owasp-modsecurity-core-rule-set] Global Piwik support?">fzipi at fing.edu.uy
       </A><BR>
    <I>Mon Dec  2 19:54:38 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="001491.html">[Owasp-modsecurity-core-rule-set] Location/LocationMatch failing to disable rules
</A></li>
        <LI>Next message: <A HREF="001493.html">[Owasp-modsecurity-core-rule-set] Update to http://blog.spiderlabs.com/2011/08/modsecurity-advanced-topic-of-the-week-exception-handling.html
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1492">[ date ]</a>
              <a href="thread.html#1492">[ thread ]</a>
              <a href="subject.html#1492">[ subject ]</a>
              <a href="author.html#1492">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Ryan et al.,

I've been struggling trying to exclude from our rules false positives in
piwik analytics. I tried using &quot;SecUpdateTargetBy*&quot;, or matching
specifically using SecRule REQUEST_URI and 'ctl:remove*', without success.

In the meantime, I saw that there is a global exclusion for Google
analytics cookies (__utm) , but no for Piwik cookies (_pk_ref).

Using that information, I made my exclusion on all rules, using this
oneliner:

&lt;code&gt;
for rulefile in activated_rules/*.conf; do sed -i -e
's@:/__utm/@:'/_(_utm|pk_ref)/'@g' $rulefile; done
&lt;/code&gt;

at my 'activated_rules' directory. As this applies to the core ruleset,
surely it will be overwritten at the next update.

Could this addition made it into default rules (well, google analytics
is already there, so...)? All Piwik users will be grateful :)

Regards,

Felipe.


-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.15 (GNU/Linux)
Comment: Using GnuPG with Thunderbird - <A HREF="http://www.enigmail.net/">http://www.enigmail.net/</A>

iEYEARECAAYFAlKc5X4ACgkQH2cTtfSrHKkQuQCaApKKGngkByPErrxIhsR78GKQ
Ih8AoIGm887bjG5H7eIsM+g7VI9F4Zt8
=zADt
-----END PGP SIGNATURE-----

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001491.html">[Owasp-modsecurity-core-rule-set] Location/LocationMatch failing to disable rules
</A></li>
	<LI>Next message: <A HREF="001493.html">[Owasp-modsecurity-core-rule-set] Update to http://blog.spiderlabs.com/2011/08/modsecurity-advanced-topic-of-the-week-exception-handling.html
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1492">[ date ]</a>
              <a href="thread.html#1492">[ thread ]</a>
              <a href="subject.html#1492">[ subject ]</a>
              <a href="author.html#1492">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
