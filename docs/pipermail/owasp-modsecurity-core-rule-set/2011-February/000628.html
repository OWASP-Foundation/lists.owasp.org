<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] Announcing: Real-time Application Profiling Ruleset
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=%5BOwasp-modsecurity-core-rule-set%5D%20Announcing%3A%20Real-time%0A%20Application%20Profiling%20Ruleset&In-Reply-To=AANLkTik96s2gP%2B8v1CjBSPG3kT%3DXpKt3D0YG14KzNtwp%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000627.html">
   <LINK REL="Next"  HREF="000626.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] Announcing: Real-time Application Profiling Ruleset</H1>
    <B>Ryan Barnett</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=%5BOwasp-modsecurity-core-rule-set%5D%20Announcing%3A%20Real-time%0A%20Application%20Profiling%20Ruleset&In-Reply-To=AANLkTik96s2gP%2B8v1CjBSPG3kT%3DXpKt3D0YG14KzNtwp%40mail.gmail.com"
       TITLE="[Owasp-modsecurity-core-rule-set] Announcing: Real-time Application Profiling Ruleset">RBarnett at trustwave.com
       </A><BR>
    <I>Fri Feb 18 10:11:27 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000627.html">[Owasp-modsecurity-core-rule-set] Announcing: Real-time Application Profiling Ruleset
</A></li>
        <LI>Next message: <A HREF="000626.html">[Owasp-modsecurity-core-rule-set] Announcing Release of OWASP	ModSecurity CRS v2.1.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#628">[ date ]</a>
              <a href="thread.html#628">[ thread ]</a>
              <a href="subject.html#628">[ subject ]</a>
              <a href="author.html#628">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 2/18/11 9:52 AM, &quot;Lucas Ferreira&quot; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">listas at sapao.net</A>&gt; wrote:

&gt;<i>Hello Ryan,
</I>&gt;<i>
</I>&gt;<i>after reading your blog post, I still have some doubts:
</I>&gt;<i>
</I>&gt;<i>How does the profiling work with regard to restarting the web server?
</I>&gt;<i>Are the collections saved to disk?
</I>
Yes - the data is saved to persistent storage files on disk.  This would
keep the data across Apache restarts.

&gt;<i>
</I>&gt;<i>How can the administrator restart the profiling process? Is it
</I>&gt;<i>possible to selectively restart profiling based on host, URL or other
</I>&gt;<i>application identifier?
</I>
Great question.  We actually were talking a bit about some options for
profile management.  One option that we are thinking of would be to use
dynamic updates based on access requests from &quot;trusted&quot; clients.  Take a
look at the previous blog post on GeoIP data where we talk about dynamic
updates -
<A HREF="http://blog.spiderlabs.com/2010/10/detecting-malice-with-modsecurity-geoloc">http://blog.spiderlabs.com/2010/10/detecting-malice-with-modsecurity-geoloc</A>
ation-data.html

The idea would be that if you wanted to remove/relearn a profile for a
URL, you could have an authorized client send a specific request to that
URL.  Based on the source IP, UA + Parameter (maybe
?relearn_profile=true), then the saved resource collection data for that
URL would be removed and the relearning would commence.  There are some
other ideas that we we need to test which could possibly include tracking
an increase in alerts across multiple clients as this might indicate an
application change and could initiate an auto-relearn.

This is something that we are planning to add in future versions.

Please keep the comments coming!  We want people to test so that we can
improve the capabilities.

Cheers,
Ryan

&gt;<i>
</I>&gt;<i>Thanks,
</I>&gt;<i>
</I>&gt;<i>Lucas
</I>&gt;<i>
</I>&gt;<i>On Thu, Feb 17, 2011 at 16:27, Ryan Barnett &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">RBarnett at trustwave.com</A>&gt;
</I>&gt;<i>wrote:
</I>&gt;&gt;<i> Hello everyone,
</I>&gt;&gt;<i> This email will most likely come as very welcomed news to most of you.
</I>&gt;&gt;<i>We have just released a ruleset to the OWASP CRS that implements a basic
</I>&gt;&gt;<i>framework for real-time application profiling -
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i><A HREF="http://blog.spiderlabs.com/2011/02/modsecurity-advanced-topic-of-the-week">http://blog.spiderlabs.com/2011/02/modsecurity-advanced-topic-of-the-week</A>
</I>&gt;&gt;<i>-real-time-application-profiling.html
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This initial version of the rules has the ability to profile and
</I>&gt;&gt;<i>enforce the following on a per-resource basis:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  *   Request Method(s)
</I>&gt;&gt;<i>  *   Number of Parameters
</I>&gt;&gt;<i>  *   Parameter Names
</I>&gt;&gt;<i>  *   Parameter Length Ranges
</I>&gt;&gt;<i>  *   Parameter Types - numeric or alpha
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please test out this ruleset and provide feedback on the OWASP CRS
</I>&gt;&gt;<i>mail-list.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers,
</I>&gt;&gt;<i> Ryan
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ________________________________
</I>&gt;&gt;<i> This transmission may contain information that is privileged,
</I>&gt;&gt;<i>confidential, and/or exempt from disclosure under applicable law. If you
</I>&gt;&gt;<i>are not the intended recipient, you are hereby notified that any
</I>&gt;&gt;<i>disclosure, copying, distribution, or use of the information contained
</I>&gt;&gt;<i>herein (including any reliance thereon) is STRICTLY PROHIBITED. If you
</I>&gt;&gt;<i>received this transmission in error, please immediately contact the
</I>&gt;&gt;<i>sender and destroy the material in its entirety, whether in electronic
</I>&gt;&gt;<i>or hard copy format.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Owasp-modsecurity-core-rule-set mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">Owasp-modsecurity-core-rule-set at lists.owasp.org</A>
</I>&gt;&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>-- 
</I>&gt;<i>Homo sapiens non urinat in ventum.
</I>&gt;<i>
</I>

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000627.html">[Owasp-modsecurity-core-rule-set] Announcing: Real-time Application Profiling Ruleset
</A></li>
	<LI>Next message: <A HREF="000626.html">[Owasp-modsecurity-core-rule-set] Announcing Release of OWASP	ModSecurity CRS v2.1.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#628">[ date ]</a>
              <a href="thread.html#628">[ thread ]</a>
              <a href="subject.html#628">[ subject ]</a>
              <a href="author.html#628">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
