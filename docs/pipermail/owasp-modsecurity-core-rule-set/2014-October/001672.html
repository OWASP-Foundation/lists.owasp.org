<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] ModSecurity, AJAX,	CORS and responses being dropped
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20ModSecurity%2C%20AJAX%2C%0A%09CORS%20and%20responses%20being%20dropped&In-Reply-To=%3CD06AAB0A.56926%25bclark%40restaurant.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001673.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] ModSecurity, AJAX,	CORS and responses being dropped</H1>
    <B>Brian Clark</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20ModSecurity%2C%20AJAX%2C%0A%09CORS%20and%20responses%20being%20dropped&In-Reply-To=%3CD06AAB0A.56926%25bclark%40restaurant.com%3E"
       TITLE="[Owasp-modsecurity-core-rule-set] ModSecurity, AJAX,	CORS and responses being dropped">bclark at restaurant.com
       </A><BR>
    <I>Mon Oct 20 17:05:31 UTC 2014</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001673.html">[Owasp-modsecurity-core-rule-set] Welcoming Chaim Sanders to the	SpiderLabs Research Team
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1672">[ date ]</a>
              <a href="thread.html#1672">[ thread ]</a>
              <a href="subject.html#1672">[ subject ]</a>
              <a href="author.html#1672">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

We use AJAX and CORS as part of a login form on our website. For some
reason, ModSecurity 2.8.0 for Windows seems to be preventing this from
working properly. However, nothing shows up in the debug logs (level = 9)
showing that anything had been blocked. I can see in the logs that
ModSecurity is receiving the HTTP Post with the email/password login
values. The debug.log does not show any any positive rule hits. Also, I&#185;m
in detect-only mode so it shouldn&#185;t be dropping anything.

My thought was that something in the outbound rule set is modifying the
response in some way, but I disabled it and still had the issue. When I
disable ModSecurity entirely, login works just fine.

I am using the base CRS rules that are installed by default by the
ModSecurity installer.

Any thoughts on how to troubleshoot this? Without anything showing up in
the debug.log I am lost.

(BTW:  I originally posted this to the regular mod security users list and
am reposting here for additional feedback.)

Thanks,
Brian Clark



Restaurant.com - Best Deal. Every Meal.

Restaurant.com is the trusted and valued source connecting diners, restaurants, businesses and communities since 1999. The company offers savings at thousands of restaurants nationwide with more than 30,000 gift certificate options. The Restaurant.com Independent Consultant program offers thousands of self-employment opportunities to individuals that want to earn money while helping Restaurant.com to expand to more restaurants, businesses and communities nationwide. To date, Restaurant.com customers have saved more than $1 billion through the gift certificate program filling more than 3.5 million tables annually. Restaurant.com is a pioneer in the restaurant deal space and is headquartered in Arlington Heights, IL.

Smartphone and iPad users: download our app - iPhone&lt;<A HREF="https://itunes.apple.com/us/app/restaurant.com/id488860392?ls=1&amp;mt=8">https://itunes.apple.com/us/app/restaurant.com/id488860392?ls=1&amp;mt=8</A>&gt;, iPad&lt;<A HREF="https://itunes.apple.com/us/app/restaurant.com/id488860392?ls=1&amp;mt=8">https://itunes.apple.com/us/app/restaurant.com/id488860392?ls=1&amp;mt=8</A>&gt; and Android&lt;<A HREF="https://play.google.com/store/apps/details?id=com.restaurant.mobile">https://play.google.com/store/apps/details?id=com.restaurant.mobile</A>&gt;

Learn more about Restaurant.com <A HREF="https://sales.restaurant.com/Overview">https://sales.restaurant.com/Overview</A>
Find dining deals near you <A HREF="http://www.restaurant.com">http://www.restaurant.com</A>
Make money with Restaurant.com <A HREF="https://sales.restaurant.com/MakeMoney">https://sales.restaurant.com/MakeMoney</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001673.html">[Owasp-modsecurity-core-rule-set] Welcoming Chaim Sanders to the	SpiderLabs Research Team
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1672">[ date ]</a>
              <a href="thread.html#1672">[ thread ]</a>
              <a href="subject.html#1672">[ subject ]</a>
              <a href="author.html#1672">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
