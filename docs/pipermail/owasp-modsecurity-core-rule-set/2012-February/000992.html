<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-modsecurity-core-rule-set] [Rule Update - Discussion Thread]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20%5BRule%20Update%20-%20Discussion%20Thread%5D&In-Reply-To=%3CCB5EF7F8.436F9%25rbarnett%40trustwave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000995.html">
   <LINK REL="Next"  HREF="000977.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-modsecurity-core-rule-set] [Rule Update - Discussion Thread]</H1>
    <B>Ryan Barnett</B> 
    <A HREF="mailto:owasp-modsecurity-core-rule-set%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-modsecurity-core-rule-set%5D%20%5BRule%20Update%20-%20Discussion%20Thread%5D&In-Reply-To=%3CCB5EF7F8.436F9%25rbarnett%40trustwave.com%3E"
       TITLE="[Owasp-modsecurity-core-rule-set] [Rule Update - Discussion Thread]">RBarnett at trustwave.com
       </A><BR>
    <I>Mon Feb 13 22:34:54 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000995.html">[Owasp-modsecurity-core-rule-set] [Rule Update - Discussion Thread] Provide packages for RPM/Debian
</A></li>
        <LI>Next message: <A HREF="000977.html">[Owasp-modsecurity-core-rule-set] [Rule Update - Discussion Thread] Use of a central config file - modsecurity_crs_10_config.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#992">[ date ]</a>
              <a href="thread.html#992">[ thread ]</a>
              <a href="subject.html#992">[ subject ]</a>
              <a href="author.html#992">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 2/13/12 4:56 PM, &quot;Christian Bockermann&quot; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">chris at jwall.org</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> (5) Regression Testing / Evaluation
</I>&gt;<i>
</I>&gt;<i>     The current CRS rules provide a regression-test environment. Did
</I>&gt;<i>anyone ever use
</I>&gt;<i>     that? Does there exist some official test-data set? Can we assemble
</I>&gt;<i>one?
</I>&gt;<i>     Maybe we can run automatic tests and have a way for documentating
</I>&gt;<i>the test outcomes?
</I>&gt;<i>
</I>&gt;<i>     I've been working on a similar testing-environment to replay HTTP
</I>&gt;<i>traffic with the
</I>&gt;<i>     jwall-tools. The idea was like this:
</I>&gt;<i>
</I>&gt;<i>       - allow for tagging events as &quot;false-positives&quot; or &quot;true
</I>&gt;<i>positives&quot; in the AuditConsole
</I>&gt;<i>       - downloading these events into a local test-dataset
</I>&gt;<i>       - specify expectations (e.g. the expected score/threshold) for
</I>&gt;<i>each event
</I>&gt;<i>       - replay the events/requests and test the outcoming score against
</I>&gt;<i>the expected one
</I>&gt;<i>
</I>&gt;<i>     If there's interest in completing that, I'd be happy to further
</I>&gt;<i>extend the stuff I
</I>&gt;<i>     already have.
</I>
I started to update the regression testing suite to include tests for each
of the rules.  This is not completed yet but the infrastructure is there.
Ideally, there would be a test for each rule as this would also help users
to understand what true positive matches look like.

Here are the steps if you want to test -

#############################
INSTALLATION STEPS:

1) Edit the rulestest.pl script to define local path to perl

2) Edit the ruletest.conf script to define the proper global settings for:
        - servers to test
        - path to the modsecurity audit log

3) Copy the testserver.cgi script to the /cgi-bin directory if you wish to
   test the outbound/response rules.

4) Edit the modsecurity_crs_10_config.conf file and update/enable the
   Regression Testing variable settings.

5) Copy/Symlink the modsecurity_crs_59_header_tagging.conf file to the
   activated_rules directory

6) Restart Apache

7) Run the rulestest.pl script using the rules files in the local /tests
   directory.



This transmission may contain information that is privileged, confidential, and/or exempt from disclosure under applicable law. If you are not the intended recipient, you are hereby notified that any disclosure, copying, distribution, or use of the information contained herein (including any reliance thereon) is STRICTLY PROHIBITED. If you received this transmission in error, please immediately contact the sender and destroy the material in its entirety, whether in electronic or hard copy format.

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000995.html">[Owasp-modsecurity-core-rule-set] [Rule Update - Discussion Thread] Provide packages for RPM/Debian
</A></li>
	<LI>Next message: <A HREF="000977.html">[Owasp-modsecurity-core-rule-set] [Rule Update - Discussion Thread] Use of a central config file - modsecurity_crs_10_config.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#992">[ date ]</a>
              <a href="thread.html#992">[ thread ]</a>
              <a href="subject.html#992">[ subject ]</a>
              <a href="author.html#992">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-modsecurity-core-rule-set">More information about the Owasp-modsecurity-core-rule-set
mailing list</a><br>
</body></html>
