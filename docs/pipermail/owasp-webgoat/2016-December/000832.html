<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-webgoat] hot-loading java fixes?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-webgoat%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-webgoat%5D%20hot-loading%20java%20fixes%3F&In-Reply-To=%3C005401d260d6%24aba06890%2402e139b0%24%40owasp.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000831.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-webgoat] hot-loading java fixes?</H1>
    <B>Nanne Baars</B> 
    <A HREF="mailto:owasp-webgoat%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-webgoat%5D%20hot-loading%20java%20fixes%3F&In-Reply-To=%3C005401d260d6%24aba06890%2402e139b0%24%40owasp.org%3E"
       TITLE="[Owasp-webgoat] hot-loading java fixes?">nanne.baars at owasp.org
       </A><BR>
    <I>Wed Dec 28 06:50:25 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="000831.html">[Owasp-webgoat] hot-loading java fixes?
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#832">[ date ]</a>
              <a href="thread.html#832">[ thread ]</a>
              <a href="subject.html#832">[ subject ]</a>
              <a href="author.html#832">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Christofer,

Indeed the reloading only works for lessons which do need a JSP to display the lesson. Majority of the lessons do not depend on JSP.
Reloading of classes together with JSP is very difficult due to the fact that the compiler inside Tomcat is not build to be open and it differs for each container. In the end we decided to focus on moving away from JSPs and start building WebGoat 8.0

--Nanne

-----Oorspronkelijk bericht-----
Van: Christofer Jennings [mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">boz.lists at gmail.com</A>] 
Verzonden: Wednesday, December 28, 2016 00:19
Aan: Bruce Mayhew &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">bmayhew at sonatype.com</A>&gt;
CC: Nanne Baars &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">nanne.baars at owasp.org</A>&gt;; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">owasp-webgoat at lists.owasp.org</A>
Onderwerp: Re: [Owasp-webgoat] hot-loading java fixes?

Thanks Bruce.

I also noticed that building the lesson jars, copying to right location, and reloading with `<A HREF="http://localhost:8081/WebGoat/service/reloadplugins.mvc`">http://localhost:8081/WebGoat/service/reloadplugins.mvc`</A> made the Java part kick in but then caused the JSP to fail on compile saying it could not find the class which the Java change was in. &#8230; Sorry for the convoluted sentence, but it looks (wild first guess) like the JSP was in a different class loader. Restarting tomcat completely worked..

-Chris


	On Dec 27, 2016, at 12:43 PM, Bruce Mayhew &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">bmayhew at sonatype.com</A> &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">bmayhew at sonatype.com</A>&gt; &gt; wrote:

	At this time the answer is a rebuild and redeploy.  We were looking into &quot;hot-loading&quot; the plugins but I'm not sure where that stands in the priority queue for WebGoat 8.

	Nanne, may have a way around this....

	Bruce


	On Tue, Dec 27, 2016 at 3:00 PM Christofer Jennings &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">boz.lists at gmail.com</A> &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">boz.lists at gmail.com</A>&gt; &gt; wrote:
	

		Hi,
		
		What&#8217;s the best way to load Java fixes to WebGoat? Can it do hot-loading?
		
		I cloned the git repos for web goat and the lessons then followed the instructions on the master branch (commit 45d48a8, Date: Fri Dec 23 15:58:09 2016). Running web goat with burp proxy and firefox is working. Changes to JSPs reload automatically as expected.
		
		But I&#8217;m not sure which Java files should be modified for fixes or how to get them to load smoothly. For example, I thought I could just modify `WebGoat/webgoat-container/src/main/webapp/plugin_extracted/org/owasp/webgoat/plugin/rollbased/RoleBasedAccessControl.java` but it appears reloading the lessons extracts the original over my changes.
		
		Do I have to make changes in the WebGoat-Lessons project, package and copy them to the WebGoat project every time? Or is there some way to do hot-loading / hot-swapping?
		
		Thanks!
		-Chris
		_______________________________________________
		Owasp-webgoat mailing list
		<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">Owasp-webgoat at lists.owasp.org</A> &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">Owasp-webgoat at lists.owasp.org</A>&gt; 
		<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">https://lists.owasp.org/mailman/listinfo/owasp-webgoat</A>
		



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000831.html">[Owasp-webgoat] hot-loading java fixes?
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#832">[ date ]</a>
              <a href="thread.html#832">[ thread ]</a>
              <a href="subject.html#832">[ subject ]</a>
              <a href="author.html#832">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">More information about the Owasp-webgoat
mailing list</a><br>
</body></html>
