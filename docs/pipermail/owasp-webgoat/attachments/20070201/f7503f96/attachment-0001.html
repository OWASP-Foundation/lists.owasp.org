<tt>
&lt;HTML&nbsp;dir=ltr&gt;&lt;HEAD&gt;&lt;TITLE&gt;Re:&nbsp;[Owasp-webgoat]&nbsp;Webgoat&nbsp;lesson.&lt;/TITLE&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=unicode&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.5730.11&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&nbsp;id=idOWAReplyText15577&nbsp;dir=ltr&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#000000&nbsp;size=2&gt;Not&nbsp;to&nbsp;kick&nbsp;a&nbsp;dead&nbsp;horse....&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;SELECT&nbsp;*&nbsp;FROM&nbsp;user_system_data&nbsp;WHERE&nbsp;user_name&nbsp;=&nbsp;'tom'&nbsp;or&nbsp;'1'='1'&nbsp;and&nbsp;password&nbsp;=&nbsp;'jeff'&nbsp;<br>
&lt;TABLE&nbsp;cellPadding=1&nbsp;border=1&gt;<br>
&lt;TBODY&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;&lt;B&gt;userid&nbsp;&lt;/B&gt;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;B&gt;user_name&nbsp;&lt;/B&gt;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;B&gt;password&nbsp;&lt;/B&gt;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;B&gt;cookie&nbsp;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;104&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;jeff&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;jeff&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;SELECT&nbsp;*&nbsp;FROM&nbsp;user_system_data&nbsp;WHERE&nbsp;user_name&nbsp;=&nbsp;'jsnow'&nbsp;or&nbsp;'1'='1'&nbsp;and&nbsp;password&nbsp;=&nbsp;'passwd2'&nbsp;<br>
&lt;TABLE&nbsp;cellPadding=1&nbsp;border=1&gt;<br>
&lt;TBODY&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;&lt;B&gt;userid&nbsp;&lt;/B&gt;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;B&gt;user_name&nbsp;&lt;/B&gt;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;B&gt;password&nbsp;&lt;/B&gt;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;B&gt;cookie&nbsp;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;101&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;jsnow&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;passwd1&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;/TD&gt;&lt;/TR&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;102&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;jdoe&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;passwd2&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;*See&nbsp;excerpt&nbsp;below&nbsp;to&nbsp;understand&nbsp;how&nbsp;the&nbsp;above&amp;nbsp;queries&nbsp;work&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;SELECT&nbsp;*&nbsp;FROM&nbsp;user_system_data&nbsp;WHERE&nbsp;user_name&nbsp;=&nbsp;'foo'&nbsp;and&nbsp;password&nbsp;=&nbsp;'foo'&nbsp;or&nbsp;'1'='1'&nbsp;<br>
&lt;TABLE&nbsp;cellPadding=1&nbsp;border=1&gt;<br>
&lt;TBODY&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;&lt;B&gt;userid&nbsp;&lt;/B&gt;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;B&gt;user_name&nbsp;&lt;/B&gt;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;B&gt;password&nbsp;&lt;/B&gt;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;B&gt;cookie&nbsp;&lt;/B&gt;&lt;/TD&gt;&lt;/TR&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;101&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;jsnow&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;passwd1&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;/TD&gt;&lt;/TR&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;102&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;jdoe&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;passwd2&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;/TD&gt;&lt;/TR&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;103&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;jplane&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;passwd3&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;/TD&gt;&lt;/TR&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;104&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;jeff&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;jeff&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;/TD&gt;&lt;/TR&gt;<br>
&lt;TR&gt;<br>
&lt;TD&gt;105&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;dave&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;dave&nbsp;&lt;/TD&gt;<br>
&lt;TD&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;<br>
&lt;P&nbsp;class=MsoNormal&gt;It&nbsp;is&nbsp;important&nbsp;to&nbsp;understand&nbsp;how&nbsp;the&nbsp;database&nbsp;evaluates&nbsp;multiple&nbsp;comparisons&nbsp;in&nbsp;the&nbsp;WHERE&amp;nbsp;clause.&amp;nbsp;&nbsp;All&nbsp;the&nbsp;AND&nbsp;comparisons&nbsp;(evaluated&nbsp;from&nbsp;Left&nbsp;to&nbsp;Right)&nbsp;are&nbsp;evaluated&nbsp;before&nbsp;the&nbsp;OR&nbsp;comparisons&nbsp;(evaluated&nbsp;from&nbsp;Left&nbsp;to&nbsp;Right).&amp;nbsp;&nbsp;For&nbsp;example:&lt;/P&gt;<br>
&lt;P&nbsp;class=MsoNormal&gt;&lt;FONT&nbsp;face=&quot;Courier&nbsp;New&quot;&nbsp;size=2&gt;SELECT&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;Last_name,&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;Dept,&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;Salary&lt;BR&gt;FROM&nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;employee&lt;BR&gt;WHERE&nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;dept&nbsp;=&nbsp;&amp;#8216;FINANCE&amp;#8217;&lt;BR&gt;OR&nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;dept&nbsp;=&nbsp;&amp;#8216;SALES&amp;#8217;&lt;BR&gt;AND&nbsp;&lt;BR&gt;&amp;nbsp;&amp;nbsp;&nbsp;salary&nbsp;&amp;lt;&nbsp;100000;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&nbsp;class=MsoNormal&gt;As&nbsp;you&nbsp;read&nbsp;this&nbsp;query,&nbsp;it&nbsp;appears&nbsp;that&nbsp;you&nbsp;collect&nbsp;all&nbsp;the&nbsp;employees&nbsp;from&nbsp;the&nbsp;finance&nbsp;and&nbsp;sales&nbsp;department&nbsp;and&nbsp;then&nbsp;check&nbsp;that&nbsp;the&nbsp;salary&nbsp;is&nbsp;less&nbsp;than&nbsp;1000000.&amp;nbsp;&nbsp;In&nbsp;this&nbsp;case,&nbsp;you&nbsp;would&nbsp;be&nbsp;wrong!&amp;nbsp;&nbsp;The&nbsp;database&nbsp;will&nbsp;evaluate&nbsp;the&nbsp;AND&nbsp;before&nbsp;the&nbsp;OR.&amp;nbsp;&nbsp;What&nbsp;this&nbsp;query&nbsp;actually&nbsp;does&nbsp;is&nbsp;list&amp;nbsp;&nbsp;employees&nbsp;in&nbsp;SALES&nbsp;with&nbsp;salary&nbsp;&amp;lt;&nbsp;100000,&nbsp;and&nbsp;all&nbsp;the&nbsp;employees&nbsp;in&nbsp;the&nbsp;FINANCE&nbsp;department.&nbsp;&lt;/P&gt;<br>
&lt;HR&gt;<br>
<br>
&lt;P&nbsp;class=MsoNormal&nbsp;align=left&gt;The&nbsp;above&nbsp;book&nbsp;excerpt&nbsp;is&nbsp;from:&lt;/P&gt;<br>
&lt;P&nbsp;class=MsoNormal&nbsp;align=center&gt;&lt;FONT&nbsp;size=5&gt;&lt;B&gt;Easy&nbsp;Oracle&nbsp;SQL&lt;/B&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&nbsp;class=MsoNormal&nbsp;align=center&gt;&lt;FONT&nbsp;face=Arial&gt;Get&nbsp;Started&nbsp;Fast&nbsp;writing&nbsp;SQL&nbsp;Reports&nbsp;with&nbsp;SQL*Plus&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&nbsp;class=MsoNormal&nbsp;align=center&gt;&lt;B&gt;&lt;FONT&nbsp;size=2&gt;ISBN&nbsp;0-97&lt;/FONT&gt;&lt;/B&gt;&lt;FONT&nbsp;size=2&gt;&lt;B&gt;27513-7-8&lt;/B&gt;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&nbsp;class=MsoNormal&nbsp;align=center&gt;&lt;B&gt;Col.&nbsp;John&nbsp;Germany&amp;nbsp;&nbsp;&lt;/B&gt;&lt;/P&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;Bruce&lt;/DIV&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&gt;&lt;BR&gt;<br>
&lt;HR&nbsp;tabIndex=-1&gt;<br>
&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;&lt;B&gt;From:&lt;/B&gt;&nbsp;Rogan&nbsp;Dawes&nbsp;[mailto:lists@dawes.za.net]&lt;BR&gt;&lt;B&gt;Sent:&lt;/B&gt;&nbsp;Thu&nbsp;2/1/2007&nbsp;11:41&nbsp;AM&lt;BR&gt;&lt;B&gt;To:&lt;/B&gt;&nbsp;Eoin&lt;BR&gt;&lt;B&gt;Cc:&lt;/B&gt;&nbsp;owasp-webgoat@lists.owasp.org;&nbsp;Bruce&nbsp;Mayhew&lt;BR&gt;&lt;B&gt;Subject:&lt;/B&gt;&nbsp;Re:&nbsp;[Owasp-webgoat]&nbsp;Webgoat&nbsp;lesson.&lt;BR&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;size=2&gt;Eoin&nbsp;wrote:&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;I&nbsp;Must&nbsp;be&nbsp;missing&nbsp;something&nbsp;here:&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&amp;nbsp;&lt;BR&gt;&amp;gt;&amp;nbsp;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;where&nbsp;user&nbsp;=&nbsp;&quot;joe&quot;and&nbsp;password&nbsp;=&nbsp;&quot;blah&quot;&nbsp;or&nbsp;1=1&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;means&nbsp;where&nbsp;the&nbsp;user&nbsp;/must/&nbsp;be&nbsp;Joe&nbsp;and&nbsp;password&nbsp;can&nbsp;be&nbsp;either&nbsp;blah&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;or&nbsp;1=1&nbsp;(always&nbsp;true).&lt;BR&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;but&nbsp;the&nbsp;&quot;AND&quot;&nbsp;would&nbsp;mean&nbsp;that&nbsp;the&nbsp;user&nbsp;must&nbsp;exist?&lt;BR&gt;&lt;BR&gt;Nope.&lt;BR&gt;&lt;BR&gt;See&nbsp;my&nbsp;previous&nbsp;email&nbsp;(which&nbsp;seems&nbsp;to&nbsp;have&nbsp;got&nbsp;lost?)&lt;BR&gt;&lt;BR&gt;That&nbsp;is:&lt;BR&gt;&lt;BR&gt;&amp;nbsp;&nbsp;WHERE&nbsp;(user=&quot;joe&quot;&nbsp;AND&nbsp;password=&quot;blah)&nbsp;OR&nbsp;1=1&lt;BR&gt;&lt;BR&gt;ie.&nbsp;(anything)&nbsp;OR&nbsp;TRUE&nbsp;==&nbsp;TRUE&lt;BR&gt;&lt;BR&gt;ie.&nbsp;returns&nbsp;all&nbsp;rows.&lt;BR&gt;&lt;BR&gt;Rogan&lt;BR&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;
</tt>
