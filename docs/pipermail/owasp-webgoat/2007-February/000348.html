<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-webgoat] Webgoat lesson.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-webgoat%40lists.owasp.org?Subject=%5BOwasp-webgoat%5D%20Webgoat%20lesson.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000347.html">
   <LINK REL="Next"  HREF="000349.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-webgoat] Webgoat lesson.</H1>
    <B>Bruce Mayhew</B> 
    <A HREF="mailto:owasp-webgoat%40lists.owasp.org?Subject=%5BOwasp-webgoat%5D%20Webgoat%20lesson.&In-Reply-To="
       TITLE="[Owasp-webgoat] Webgoat lesson.">bruce.mayhew at g2-inc.com
       </A><BR>
    <I>Thu Feb  1 14:03:37 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000347.html">[Owasp-webgoat] Webgoat lesson.
</A></li>
        <LI>Next message: <A HREF="000349.html">[Owasp-webgoat] Hello and login problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#348">[ date ]</a>
              <a href="thread.html#348">[ thread ]</a>
              <a href="subject.html#348">[ subject ]</a>
              <a href="author.html#348">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Not to kick a dead horse....
 
SELECT * FROM user_system_data WHERE user_name = 'tom' or '1'='1' and password = 'jeff' 
userid 	user_name 	password 	cookie 	
104 	jeff 	jeff 		
 
SELECT * FROM user_system_data WHERE user_name = 'jsnow' or '1'='1' and password = 'passwd2' 
userid 	user_name 	password 	cookie 	
101 	jsnow 	passwd1 		
102 	jdoe 	passwd2 		
 
*See excerpt below to understand how the above queries work
 
 
 
SELECT * FROM user_system_data WHERE user_name = 'foo' and password = 'foo' or '1'='1' 
userid 	user_name 	password 	cookie 	
101 	jsnow 	passwd1 		
102 	jdoe 	passwd2 		
103 	jplane 	passwd3 		
104 	jeff 	jeff 		
105 	dave 	dave 		
 
 
 

It is important to understand how the database evaluates multiple comparisons in the WHERE clause.  All the AND comparisons (evaluated from Left to Right) are evaluated before the OR comparisons (evaluated from Left to Right).  For example:

SELECT
   Last_name,
   Dept,
   Salary
FROM 
   employee
WHERE 
   dept = 'FINANCE'
OR 
   dept = 'SALES'
AND 
   salary &lt; 100000;

As you read this query, it appears that you collect all the employees from the finance and sales department and then check that the salary is less than 1000000.  In this case, you would be wrong!  The database will evaluate the AND before the OR.  What this query actually does is list  employees in SALES with salary &lt; 100000, and all the employees in the FINANCE department. 

________________________________

The above book excerpt is from:

Easy Oracle SQL

Get Started Fast writing SQL Reports with SQL*Plus

ISBN 0-9727513-7-8

Col. John Germany  

 
 
Bruce

________________________________

From: Rogan Dawes [mailto:<A HREF="http://lists.owasp.org/mailman/listinfo/owasp-webgoat">lists at dawes.za.net</A>]
Sent: Thu 2/1/2007 11:41 AM
To: Eoin
Cc: <A HREF="http://lists.owasp.org/mailman/listinfo/owasp-webgoat">owasp-webgoat at lists.owasp.org</A>; Bruce Mayhew
Subject: Re: [Owasp-webgoat] Webgoat lesson.



Eoin wrote:
&gt;<i>     I Must be missing something here:
</I>&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>
</I>&gt;<i>     where user = &quot;joe&quot;and password = &quot;blah&quot; or 1=1
</I>&gt;<i>     
</I>&gt;<i>     means where the user /must/ be Joe and password can be either blah
</I>&gt;<i>     or 1=1 (always true).
</I>&gt;<i>     but the &quot;AND&quot; would mean that the user must exist?
</I>
Nope.

See my previous email (which seems to have got lost?)

That is:

  WHERE (user=&quot;joe&quot; AND password=&quot;blah) OR 1=1

ie. (anything) OR TRUE == TRUE

ie. returns all rows.

Rogan


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.owasp.org/pipermail/owasp-webgoat/attachments/20070201/f7503f96/attachment.html">http://lists.owasp.org/pipermail/owasp-webgoat/attachments/20070201/f7503f96/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000347.html">[Owasp-webgoat] Webgoat lesson.
</A></li>
	<LI>Next message: <A HREF="000349.html">[Owasp-webgoat] Hello and login problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#348">[ date ]</a>
              <a href="thread.html#348">[ thread ]</a>
              <a href="subject.html#348">[ subject ]</a>
              <a href="author.html#348">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.owasp.org/mailman/listinfo/owasp-webgoat">More information about the Owasp-webgoat
mailing list</a><br>
</body></html>
