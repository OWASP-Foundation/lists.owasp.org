<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-webgoat] DOM injection lesson does not work with	Firefox!?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-webgoat%40lists.owasp.org?Subject=%5BOwasp-webgoat%5D%20DOM%20injection%20lesson%20does%20not%20work%20with%0A%09Firefox%21%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000409.html">
   <LINK REL="Next"  HREF="000411.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-webgoat] DOM injection lesson does not work with	Firefox!?</H1>
    <B>Bruce Mayhew</B> 
    <A HREF="mailto:owasp-webgoat%40lists.owasp.org?Subject=%5BOwasp-webgoat%5D%20DOM%20injection%20lesson%20does%20not%20work%20with%0A%09Firefox%21%3F&In-Reply-To="
       TITLE="[Owasp-webgoat] DOM injection lesson does not work with	Firefox!?">bruce.mayhew at g2-inc.com
       </A><BR>
    <I>Wed May 23 12:00:27 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000409.html">[Owasp-webgoat] DOM injection lesson does not work with Firefox!?
</A></li>
        <LI>Next message: <A HREF="000411.html">[Owasp-webgoat] DOM injection lesson does not work withFirefox!?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#410">[ date ]</a>
              <a href="thread.html#410">[ thread ]</a>
              <a href="subject.html#410">[ subject ]</a>
              <a href="author.html#410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Romain Brechet identified these flaws a week or so ago.  He has sent me the solution and will be checking in the solution in the near future (they are NOT checked in currently).  You will need to get the fix from the WebGoat source at google code because the next release of WebGoat won't be out until the late summer timeframe.  
 
Bruce  

________________________________

From: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">owasp-webgoat-bounces at lists.owasp.org</A> on behalf of <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">Holger.Peine at iese.fraunhofer.de</A>
Sent: Wed 5/23/2007 8:47 AM
To: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">owasp-webgoat at lists.owasp.org</A>
Subject: [Owasp-webgoat] DOM injection lesson does not work with Firefox!?



Dear all,

when I looked at the source code of the DOM injection lesson,
I immediately thought &quot;the solution should simply be to intercept
the response to the asynchronous request and replace that response's
body by some Javascript to enable the Activate button&quot; - and judging
from the the hints, this idea seems to be solution indeed.
So I set WebScarab as the proxy in my Firefox, activated its intercept
function for requests and responses, and typed a character
into the text input field of the DOM injection lesson.

However, nothing happended - apparently, there was never an asynchronous
request sent. I tried the same thing with IE instead of Firefox, and
there I saw the request (the response body consisted of the full HTML
page instead of a single Javascript command as I had expected, but
let's ignore that for now). So, Firefox seems not to generate the
asynchronous requests correctly.

I then used a Javascript debugger with Firefox (the Firebug extension)
and set a breakpoint to the validate() function. Indeed that function
is called on every onkeyup event - however, its first line
var keyField = document.getElementById('key');
produces an error: keyField (which was undefined before that line) is
null after that line :-(  Consequently, execution of validate() stops
when the next line tries to access keyField.value (i.e. null.value).

1) Does anyone know how to get this lesson to work correctly with
Firefox
   2.0.0.3 (latest version as of today)?
   Perhaps (I'm not very good at Javascript) the 'name' attribute of the
   respective input field should rather be the 'id' attribute??

2) Is it correct that the response body is the complete lesson HTML page
   and not just some Javascript command?

Thanks in advance for your help,
Holger Peine

--
Dr. Holger Peine, Project Manager Security
Fraunhofer IESE, Fraunhofer-Platz 1, 67663 Kaiserslautern, Germany
Phone +49-631-6800-2134, Fax -1899 (shared)
<A HREF="http://www.iese.fraunhofer.de">http://www.iese.fraunhofer.de</A> &lt;<A HREF="http://www.iese.fraunhofer.de/">http://www.iese.fraunhofer.de/</A>&gt; 
PGP key via <A HREF="http://pgp.mit.edu">http://pgp.mit.edu</A> &lt;<A HREF="http://pgp.mit.edu/">http://pgp.mit.edu/</A>&gt;  ; fingerprint is 1BFA 30CB E3ED BA99 E7AE
2BBB C126 A592 48EA F9F8
_______________________________________________
Owasp-webgoat mailing list
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">Owasp-webgoat at lists.owasp.org</A>
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">https://lists.owasp.org/mailman/listinfo/owasp-webgoat</A>


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000409.html">[Owasp-webgoat] DOM injection lesson does not work with Firefox!?
</A></li>
	<LI>Next message: <A HREF="000411.html">[Owasp-webgoat] DOM injection lesson does not work withFirefox!?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#410">[ date ]</a>
              <a href="thread.html#410">[ thread ]</a>
              <a href="subject.html#410">[ subject ]</a>
              <a href="author.html#410">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">More information about the Owasp-webgoat
mailing list</a><br>
</body></html>
