<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-webgoat] DOM injection lesson does not work with Firefox!?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-webgoat%40lists.owasp.org?Subject=%5BOwasp-webgoat%5D%20DOM%20injection%20lesson%20does%20not%20work%20with%20Firefox%21%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000408.html">
   <LINK REL="Next"  HREF="000410.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-webgoat] DOM injection lesson does not work with Firefox!?</H1>
    <B>Holger.Peine at iese.fraunhofer.de</B> 
    <A HREF="mailto:owasp-webgoat%40lists.owasp.org?Subject=%5BOwasp-webgoat%5D%20DOM%20injection%20lesson%20does%20not%20work%20with%20Firefox%21%3F&In-Reply-To="
       TITLE="[Owasp-webgoat] DOM injection lesson does not work with Firefox!?">Holger.Peine at iese.fraunhofer.de
       </A><BR>
    <I>Wed May 23 08:47:20 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000408.html">[Owasp-webgoat] 5.0 Release for Windows installation problem
</A></li>
        <LI>Next message: <A HREF="000410.html">[Owasp-webgoat] DOM injection lesson does not work with	Firefox!?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#409">[ date ]</a>
              <a href="thread.html#409">[ thread ]</a>
              <a href="subject.html#409">[ subject ]</a>
              <a href="author.html#409">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear all,

when I looked at the source code of the DOM injection lesson,
I immediately thought &quot;the solution should simply be to intercept
the response to the asynchronous request and replace that response's
body by some Javascript to enable the Activate button&quot; - and judging
from the the hints, this idea seems to be solution indeed. 
So I set WebScarab as the proxy in my Firefox, activated its intercept
function for requests and responses, and typed a character
into the text input field of the DOM injection lesson.

However, nothing happended - apparently, there was never an asynchronous
request sent. I tried the same thing with IE instead of Firefox, and 
there I saw the request (the response body consisted of the full HTML
page instead of a single Javascript command as I had expected, but
let's ignore that for now). So, Firefox seems not to generate the
asynchronous requests correctly.

I then used a Javascript debugger with Firefox (the Firebug extension)
and set a breakpoint to the validate() function. Indeed that function
is called on every onkeyup event - however, its first line
var keyField = document.getElementById('key');
produces an error: keyField (which was undefined before that line) is
null after that line :-(  Consequently, execution of validate() stops
when the next line tries to access keyField.value (i.e. null.value).

1) Does anyone know how to get this lesson to work correctly with
Firefox
   2.0.0.3 (latest version as of today)?
   Perhaps (I'm not very good at Javascript) the 'name' attribute of the
   respective input field should rather be the 'id' attribute??

2) Is it correct that the response body is the complete lesson HTML page
   and not just some Javascript command?

Thanks in advance for your help,
Holger Peine

-- 
Dr. Holger Peine, Project Manager Security
Fraunhofer IESE, Fraunhofer-Platz 1, 67663 Kaiserslautern, Germany
Phone +49-631-6800-2134, Fax -1899 (shared)
<A HREF="http://www.iese.fraunhofer.de">http://www.iese.fraunhofer.de</A>
PGP key via <A HREF="http://pgp.mit.edu">http://pgp.mit.edu</A> ; fingerprint is 1BFA 30CB E3ED BA99 E7AE
2BBB C126 A592 48EA F9F8
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000408.html">[Owasp-webgoat] 5.0 Release for Windows installation problem
</A></li>
	<LI>Next message: <A HREF="000410.html">[Owasp-webgoat] DOM injection lesson does not work with	Firefox!?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#409">[ date ]</a>
              <a href="thread.html#409">[ thread ]</a>
              <a href="subject.html#409">[ subject ]</a>
              <a href="author.html#409">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">More information about the Owasp-webgoat
mailing list</a><br>
</body></html>
