<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-webgoat] Logout not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-webgoat%40lists.owasp.org?Subject=%5BOwasp-webgoat%5D%20Logout%20not%20working&In-Reply-To=49257E79.40403%40dawes.za.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000551.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-webgoat] Logout not working</H1>
    <B>Bruce Mayhew</B> 
    <A HREF="mailto:owasp-webgoat%40lists.owasp.org?Subject=%5BOwasp-webgoat%5D%20Logout%20not%20working&In-Reply-To=49257E79.40403%40dawes.za.net"
       TITLE="[Owasp-webgoat] Logout not working">Bruce.Mayhew at OunceLabs.com
       </A><BR>
    <I>Thu Nov 20 10:28:40 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000551.html">[Owasp-webgoat] Logout not working
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#552">[ date ]</a>
              <a href="thread.html#552">[ thread ]</a>
              <a href="subject.html#552">[ subject ]</a>
              <a href="author.html#552">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Marc

I haven't tried this, but if you could programmatically clear the basic
auth header and the session id during the logout, you could force
webgoat to re-auth you (ie, you would be logged out).  This is the
premise behind the basic auth lesson and it does work.  I don't know if
you can clear it from the logout code and have it be honored by the
browser.

Because of the basic auth Authorization header (as Rogan said), WebGoat
just creates a new session id based on the basic auth credentials.

Bruce

-----Original Message-----
From: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">owasp-webgoat-bounces at lists.owasp.org</A>
[mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">owasp-webgoat-bounces at lists.owasp.org</A>] On Behalf Of Rogan Dawes
Sent: Thursday, November 20, 2008 10:13 AM
To: Marc Rennhard
Cc: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">owasp-webgoat at lists.owasp.org</A>
Subject: Re: [Owasp-webgoat] Logout not working

Marc Rennhard wrote:
&gt;<i> Dear list
</I>&gt;<i> 
</I>&gt;<i> I just wanted to do a small CSRF demonstration that logs you out of
</I>&gt;<i> WebGoat (URL: <A HREF="http://10.0.0.1:8080/WebGoat/attack?action=Logout">http://10.0.0.1:8080/WebGoat/attack?action=Logout</A>).
</I>&gt;<i> However, it seems that calling that URL (or clicking the link on the
</I>top
&gt;<i> right of the screen) has no effect at all - in particular, the user
</I>&gt;<i> remains logged in.
</I>&gt;<i> 
</I>&gt;<i> Is this a (known) bug or did I miss anything?
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Marc
</I>
No, I think you are correct. To the best of my knowledge, this 
functionality is not implemented.

Actually, from the source, it looks like you need to do:

<A HREF="http://10.0.0.1:8080/WebGoat/attack?Logout=true">http://10.0.0.1:8080/WebGoat/attack?Logout=true</A>

 From Session.java:

// FIXME: requires ?Logout=true
// FIXME: doesn't work right -- no reauthentication
if (myParser.getRawParameter(LOGOUT, null) != null)
     {
     System.out.println(&quot;Logout &quot; + request.getUserPrincipal());
     eatCookies();
     request.getSession().invalidate();
     currentScreen = WELCOME;
     previousScreen = ERROR;
}

The second FIXME refers to the fact that since WebGoat uses Basic 
Authentication, and there is no way to tell a browser to forget its 
Basic Auth credentials, you will simply be directed to the Welcome page,

rather than being forced to enter the &quot;guest:guest&quot; credentials.

Hope this helps.

Rogan
_______________________________________________
Owasp-webgoat mailing list
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">Owasp-webgoat at lists.owasp.org</A>
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">https://lists.owasp.org/mailman/listinfo/owasp-webgoat</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000551.html">[Owasp-webgoat] Logout not working
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#552">[ date ]</a>
              <a href="thread.html#552">[ thread ]</a>
              <a href="subject.html#552">[ subject ]</a>
              <a href="author.html#552">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-webgoat">More information about the Owasp-webgoat
mailing list</a><br>
</body></html>
