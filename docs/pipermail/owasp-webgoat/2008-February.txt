From Bruce.Mayhew at OunceLabs.com  Wed Feb  6 07:38:16 2008
From: Bruce.Mayhew at OunceLabs.com (Bruce Mayhew)
Date: Wed, 6 Feb 2008 07:38:16 -0500
Subject: [Owasp-webgoat] Linux startup problem - need  Linux help.
Message-ID: <9DF4DCB48693534A986B344B0BF89DDB02844E42@ligament.Ounce.local>


Are there any Linux folks out there that can help with this?  

The startup script being used is at:
http://webgoat.googlecode.com/svn/tags/webgoat-5.1/main/webgoat.sh

Please reply to the list.


Thanks

Bruce


-----Original Message-----
From: codesite-noreply at google.com [mailto:codesite-noreply at google.com] 
Sent: Wednesday, February 06, 2008 5:41 AM
To: webgoat at owasp.org
Subject: Issue 4 in webgoat: WebGoat on Ubuntu Linux doesn't start

Issue 4: WebGoat on Ubuntu Linux doesn't start
http://code.google.com/p/webgoat/issues/detail?id=4

New issue report by jollyr0g3r:
What steps will reproduce the problem?
1. Download the archive
2. Unzip it
3. lunching in linux the command 'sudo sh webgoat.sh start80' into a
terminal

What is the expected output? What do you see instead?
The program have to lunch the service, and after I have to be able to
see
something at http://127.0.0.1/WebGoat/attack like the output say. But
there
are problem with the JAVA_HOME.
1)- The script says that JAVA_HOME was not defined, then into a 
terminal i
wrote JAVA_HOME=/usr/lib/jvm/java-1.5.0-sun/ But nothing changed.

2)- Then i found a post of a guy with the same problem, then i putted
this
row (the same i was writing into the terminal to set this variable)
above
into the webgoat.sh. The line is JAVA_HOME=/usr/lib/jvm/java-1.5.0-sun/
Now the command sudo 'sh webgoat.sh start80' returns this messages:
----------------------------------------------------------------
jollyr0ger at icecube:~/bin/WebGoat-5.1$ sudo sh webgoat.sh start80
The JAVA_HOME environment variable is not defined
This environment variable is needed to run this program

  Open http://127.0.0.1/WebGoat/attack
  Username: guest
  Password: guest
  Or try http://guest:guest at 127.0.0.1/WebGoat/attack

tail: impossible to open `./tomcat/logs/catalina.out' for reading: No
file
or directory
tail: no file rimained
----------------------------------------------------------------
(PS the last 2 lines are translated by me from the italian)

3)- Then i create the log file with
'touch ./tomcat/logs/catalina.out' command
Now the program returns
----------------------------------------------------------------
jollyr0ger at icecube:~/bin/WebGoat-5.1$ sudo sh webgoat.sh start80
The JAVA_HOME environment variable is not defined
This environment variable is needed to run this program

  Open http://127.0.0.1/WebGoat/attack
  Username: guest
  Password: guest
  Or try http://guest:guest at 127.0.0.1/WebGoat/attack

----------------------------------------------------------------

Obviously trying to open http://127.0.0.1/WebGoat/attack the page is not
loaded.

What version of the product are you using? On what operating system?
I'm on Ubuntu Linux 7.10 with sun-java5-bin, sun-java5-demo,
sun-java5-jdk,
sun-java5-jre installed.Tomcat packages are tomcat5.5 and
libtomcat5.5-java


Please provide any additional information below.
I've tryed to add other packages that can be useful for webgoat but
nothing
happened. For more detailed info, ask with no problem


Attachments:
	webgoat.sh  1.6 KB


Issue attributes:
	Status: New
	Owner: ----
	Labels: Type-Defect Priority-Medium

-- 
You received this message because you are listed in the owner
or CC fields of this issue, or because you starred this issue.
You may adjust your issue notification preferences at:
http://code.google.com/hosting/settings

From inn3rbr4in at gmail.com  Wed Feb  6 08:16:02 2008
From: inn3rbr4in at gmail.com (Simone Savi)
Date: Wed, 06 Feb 2008 14:16:02 +0100
Subject: [Owasp-webgoat] Linux startup problem - need  Linux help.
In-Reply-To: <9DF4DCB48693534A986B344B0BF89DDB02844E42@ligament.Ounce.local>
References: <9DF4DCB48693534A986B344B0BF89DDB02844E42@ligament.Ounce.local>
Message-ID: <47A9B312.4090700@gmail.com>

> 1)- The script says that JAVA_HOME was not defined, then into a 
> terminal i
> wrote JAVA_HOME=/usr/lib/jvm/java-1.5.0-sun/ But nothing changed.
> 

JAVA_HOME must be an enviroment variable. In Linux to set an environment 
variable you use export command. The true syntax is as follows:

export JAVA_HOME=/usr/lib/jvm/java-1.5.0-sun/


> 2)- Then i found a post of a guy with the same problem, then i putted
> this
> row (the same i was writing into the terminal to set this variable)
> above
> into the webgoat.sh. The line is JAVA_HOME=/usr/lib/jvm/java-1.5.0-sun/
> Now the command sudo 'sh webgoat.sh start80' returns this messages:
> ----------------------------------------------------------------
> jollyr0ger at icecube:~/bin/WebGoat-5.1$ sudo sh webgoat.sh start80
> The JAVA_HOME environment variable is not defined
> This environment variable is needed to run this program
> 
>   Open http://127.0.0.1/WebGoat/attack
>   Username: guest
>   Password: guest
>   Or try http://guest:guest at 127.0.0.1/WebGoat/attack
> 
> tail: impossible to open `./tomcat/logs/catalina.out' for reading: No
> file
> or directory
> tail: no file rimained
> ----------------------------------------------------------------
> (PS the last 2 lines are translated by me from the italian)
> 

If you look at the output JAVA_HOME problem is still present (use export).

I tried WebGoat on Ubuntu and I had problems with catalina.out when I 
launched webgoat.sh with root user and after with normal user.
To solve this problem you should change the permissions on the WebGoat 
directory, try this command:

sudo chown -R username WebGoatDirectory/

Another suggestion:
A user can start WebGoat only on 8080 port, if you want start it on 80 
port you should be root.

inn3rbr4in

