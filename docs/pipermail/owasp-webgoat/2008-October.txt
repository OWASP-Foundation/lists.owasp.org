From petand at lvk.cs.msu.su  Wed Oct  8 01:35:07 2008
From: petand at lvk.cs.msu.su (Andrew Petukhov)
Date: Wed, 08 Oct 2008 09:35:07 +0400
Subject: [Owasp-webgoat] LAB: Role Based Access Control - exception
Message-ID: <48EC468B.5070709@lvk.cs.msu.su>

Hi, everybody.
Perhaps, this topic was already discussed in this list - the I am sorry.
At least I haven't found the answer using google.
The trouble is that I cannot create user accounts in the "LAB: Role
Based Access Control".
The sequence of steps:
1. http://localhost:9090/WebGoat/attack
2. Start Web Goat
3. Click on "LAB: Role Based Access Control"
4. Login for example by John the Admin.
5. Click on CreateProfile.

As a result webgoat HR application forcefully expires my session by John
the Admin and present blank page with "Login" button.
The Tomcat console reports the following error:

Wed Oct 08 09:11:56 MSD 2008 | 127.0.0.1:127.0.0.1 |
org.owasp.webgoat.lessons.RoleBasedAccessControl.RoleBasedAccessControl
| [Screen=37,password=john,action=Login,employee_id=111,menu=200]
org.owasp.webgoat.session.ParameterNotFoundException: employee_id not found
        at
org.owasp.webgoat.session.ParameterParser.getStringParameter(ParameterParser.java:679)
        at
org.owasp.webgoat.session.ParameterParser.getIntParameter(ParameterParser.java:462)
        at
org.owasp.webgoat.lessons.RoleBasedAccessControl.EditProfile.handleRequest(EditProfile.java:59)
        at
org.owasp.webgoat.lessons.RoleBasedAccessControl.RoleBasedAccessControl.handleRequest(RoleBasedAccessControl.java:243)
        at org.owasp.webgoat.HammerHead.makeScreen(HammerHead.java:324)
        at org.owasp.webgoat.HammerHead.doPost(HammerHead.java:146)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:709)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
        at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237)
        at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)
        at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)
        at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
        at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
        at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
        at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
        at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
        at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
        at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:825)
        at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:731)
        at
org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:526)
        at
org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
        at java.lang.Thread.run(Thread.java:619)
- WebGoat: Wed Oct 08 09:11:58 MSD 2008 | 127.0.0.1:127.0.0.1 |
org.owasp.webgoat.lessons.RoleBasedAccessControl.RoleBasedAccessControl
| [Screen=37,action=CreateProfile,menu=200]
Wed Oct 08 09:11:58 MSD 2008 | 127.0.0.1:127.0.0.1 |
org.owasp.webgoat.lessons.RoleBasedAccessControl.RoleBasedAccessControl
| [Screen=37,action=CreateProfile,menu=200]


So, anybody knows solution to this? I'd be very grateful!

Thanks in advance!

Andrew






From Bruce.Mayhew at OunceLabs.com  Wed Oct  8 07:51:12 2008
From: Bruce.Mayhew at OunceLabs.com (Bruce Mayhew)
Date: Wed, 8 Oct 2008 07:51:12 -0400
Subject: [Owasp-webgoat] LAB: Role Based Access Control - exception
In-Reply-To: <48EC468B.5070709@lvk.cs.msu.su>
References: <48EC468B.5070709@lvk.cs.msu.su>
Message-ID: <9DF4DCB48693534A986B344B0BF89DDB037051FD@ligament.Ounce.local>

This error is confirmed.  Can you please file an issue at goggle code
issues for WebGoat.  I will look into it a little later and send you a
reply

Thanks

Bruce


-----Original Message-----
From: owasp-webgoat-bounces at lists.owasp.org
[mailto:owasp-webgoat-bounces at lists.owasp.org] On Behalf Of Andrew
Petukhov
Sent: Wednesday, October 08, 2008 1:35 AM
To: owasp-webgoat at lists.owasp.org
Subject: [Owasp-webgoat] LAB: Role Based Access Control - exception

Hi, everybody.
Perhaps, this topic was already discussed in this list - the I am sorry.
At least I haven't found the answer using google.
The trouble is that I cannot create user accounts in the "LAB: Role
Based Access Control".
The sequence of steps:
1. http://localhost:9090/WebGoat/attack
2. Start Web Goat
3. Click on "LAB: Role Based Access Control"
4. Login for example by John the Admin.
5. Click on CreateProfile.

As a result webgoat HR application forcefully expires my session by John
the Admin and present blank page with "Login" button.
The Tomcat console reports the following error:

Wed Oct 08 09:11:56 MSD 2008 | 127.0.0.1:127.0.0.1 |
org.owasp.webgoat.lessons.RoleBasedAccessControl.RoleBasedAccessControl
| [Screen=37,password=john,action=Login,employee_id=111,menu=200]
org.owasp.webgoat.session.ParameterNotFoundException: employee_id not
found
        at
org.owasp.webgoat.session.ParameterParser.getStringParameter(ParameterPa
rser.java:679)
        at
org.owasp.webgoat.session.ParameterParser.getIntParameter(ParameterParse
r.java:462)
        at
org.owasp.webgoat.lessons.RoleBasedAccessControl.EditProfile.handleReque
st(EditProfile.java:59)
        at
org.owasp.webgoat.lessons.RoleBasedAccessControl.RoleBasedAccessControl.
handleRequest(RoleBasedAccessControl.java:243)
        at org.owasp.webgoat.HammerHead.makeScreen(HammerHead.java:324)
        at org.owasp.webgoat.HammerHead.doPost(HammerHead.java:146)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:709)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
        at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applica
tionFilterChain.java:237)
        at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilt
erChain.java:157)
        at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValv
e.java:214)
        at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValv
e.java:178)
        at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(Authenticator
Base.java:482)
        at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java
:126)
        at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java
:105)
        at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.
java:107)
        at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:1
48)
        at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:82
5)
        at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processC
onnection(Http11Protocol.java:731)
        at
org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint
.java:526)
        at
org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollow
erWorkerThread.java:80)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool
.java:684)
        at java.lang.Thread.run(Thread.java:619)
- WebGoat: Wed Oct 08 09:11:58 MSD 2008 | 127.0.0.1:127.0.0.1 |
org.owasp.webgoat.lessons.RoleBasedAccessControl.RoleBasedAccessControl
| [Screen=37,action=CreateProfile,menu=200]
Wed Oct 08 09:11:58 MSD 2008 | 127.0.0.1:127.0.0.1 |
org.owasp.webgoat.lessons.RoleBasedAccessControl.RoleBasedAccessControl
| [Screen=37,action=CreateProfile,menu=200]


So, anybody knows solution to this? I'd be very grateful!

Thanks in advance!

Andrew





_______________________________________________
Owasp-webgoat mailing list
Owasp-webgoat at lists.owasp.org
https://lists.owasp.org/mailman/listinfo/owasp-webgoat

From enis.c.sahin at hotmail.com  Fri Oct 17 09:35:14 2008
From: enis.c.sahin at hotmail.com (Enis Sahin)
Date: Fri, 17 Oct 2008 13:35:14 +0000
Subject: [Owasp-webgoat] Challange and Admin Screen Solutions
Message-ID: <BLU134-W31692A77E2DB4820461B86C0320@phx.gbl>


Hi,
 
I've been playing with WebGoat 5.2 for a while now and completed the regular exercises. However I was unable to complete the Adhoc Query exercise under the admin functions and I'm stuck at the first stage of the challenge. 
Is there a solution for the Challenge and the adhoc query?
 
Cheers
Enis
_________________________________________________________________
Win an Xbox 360 or ?200 Top Shop Vouchers 
http://clk.atdmt.com/GBL/go/115454062/direct/01/

From Bruce.Mayhew at OunceLabs.com  Fri Oct 17 10:01:06 2008
From: Bruce.Mayhew at OunceLabs.com (Bruce Mayhew)
Date: Fri, 17 Oct 2008 10:01:06 -0400
Subject: [Owasp-webgoat] Challange and Admin Screen Solutions
In-Reply-To: <BLU134-W31692A77E2DB4820461B86C0320@phx.gbl>
References: <BLU134-W31692A77E2DB4820461B86C0320@phx.gbl>
Message-ID: <9DF4DCB48693534A986B344B0BF89DDB03796E94@ligament.Ounce.local>

Here are some basic hints for the Challenge:

Stage 1:
Steal the source:  Using the URL presented by other lessons to view the source code, issue this same request when the challenge screen is loaded.  (presentation layer access control bypass, just because the "show java" button is missing on the challenge doesn't mean the functionality is protected)

Stage 2:
Steal the credits cards:  use SQL injection, look at all possible sources of input

Stage 3:
Deface the site:  Command Injection.  The trick here is to "find" the location of the main webpage.  Through the hints (once you get command injection working) WebGoat will tell you the name of the file to overwrite.  It's usually something like webgoat_challenge_guest.jsp.
However, depending on your installation, the file can reside in different places.  I use command injection with the DOS FIND or FINDSTR command (with some options to recursive search) to locate the path to this file.
Then I craft another command to overwrite that file.  Pay attention to the quoting on the attack string.



The admin section isn't really complete and the attack vector to get the admin functions is a little lame...  

Bruce



-----Original Message-----
From: owasp-webgoat-bounces at lists.owasp.org [mailto:owasp-webgoat-bounces at lists.owasp.org] On Behalf Of Enis Sahin
Sent: Friday, October 17, 2008 9:35 AM
To: owasp-webgoat at lists.owasp.org
Subject: [Owasp-webgoat] Challange and Admin Screen Solutions


Hi,
 
I've been playing with WebGoat 5.2 for a while now and completed the regular exercises. However I was unable to complete the Adhoc Query exercise under the admin functions and I'm stuck at the first stage of the challenge. 
Is there a solution for the Challenge and the adhoc query?
 
Cheers
Enis
_________________________________________________________________
Win an Xbox 360 or ?200 Top Shop Vouchers 
http://clk.atdmt.com/GBL/go/115454062/direct/01/
_______________________________________________
Owasp-webgoat mailing list
Owasp-webgoat at lists.owasp.org
https://lists.owasp.org/mailman/listinfo/owasp-webgoat

From Bruce.Mayhew at OunceLabs.com  Thu Oct 23 08:02:23 2008
From: Bruce.Mayhew at OunceLabs.com (Bruce Mayhew)
Date: Thu, 23 Oct 2008 08:02:23 -0400
Subject: [Owasp-webgoat] VMWare Image of Webgoat
In-Reply-To: <20081022093606.ro79no5wookwcck8@webmail.rbacomm.com>
References: <20081022093606.ro79no5wookwcck8@webmail.rbacomm.com>
Message-ID: <9DF4DCB48693534A986B344B0BF89DDB0382BBD9@ligament.Ounce.local>

I think this is a interesting idea.  One of the ant build tags creates a
"classroom" environment.  The image would be quite large, but I'd be
willing to put it on sourceforge (if it would allow it) if people think
it is a good idea.  The question I have is: Would you download a VM that
you didn't create and run it on your machine?  

Anyone have any thoughts on this?  I'm not that familiar with potential
risks of running an "untrusted" VM.

Bruce

-----Original Message-----
From: Brad Andrews [mailto:andrews at rbacomm.com] 
Sent: Wednesday, October 22, 2008 10:36 AM
To: webgoat at owasp.org
Subject: VMWare Image of Webgoat


Has anyone thought of creating a VMWare Player image of Webgoat (on  
some kind of Linux) to allow people to be able to run Webgoat without  
exposing themselves to external attack?  Networking could be setup to  
not connect to the host machine.

I thought of this the other day and it would be worth doing, though I  
am not very knowledgeable on configuring Linux VMWare images,  
unfortunately.

Brad

From jfvanmeter at comcast.net  Thu Oct 23 08:14:17 2008
From: jfvanmeter at comcast.net (jfvanmeter at comcast.net)
Date: Thu, 23 Oct 2008 12:14:17 +0000
Subject: [Owasp-webgoat] VMWare Image of Webgoat
Message-ID: <102320081214.23251.49006A99000A718D00005AD322155612649D0A9B0A03020E900006@comcast.net>

I have a isolated virtual network/domain that I use to try new things in and to test. The risk is if the host computer got access to the Internet, maybe the nic could be set to Host Only to help reduce some of the risk.

//John

--
"When the legend becomes fact, print the legend." 
!

 -------------- Original message ----------------------
From: "Bruce Mayhew" <Bruce.Mayhew at OunceLabs.com>
> I think this is a interesting idea.  One of the ant build tags creates a
> "classroom" environment.  The image would be quite large, but I'd be
> willing to put it on sourceforge (if it would allow it) if people think
> it is a good idea.  The question I have is: Would you download a VM that
> you didn't create and run it on your machine?  
> 
> Anyone have any thoughts on this?  I'm not that familiar with potential
> risks of running an "untrusted" VM.
> 
> Bruce
> 
> -----Original Message-----
> From: Brad Andrews [mailto:andrews at rbacomm.com] 
> Sent: Wednesday, October 22, 2008 10:36 AM
> To: webgoat at owasp.org
> Subject: VMWare Image of Webgoat
> 
> 
> Has anyone thought of creating a VMWare Player image of Webgoat (on  
> some kind of Linux) to allow people to be able to run Webgoat without  
> exposing themselves to external attack?  Networking could be setup to  
> not connect to the host machine.
> 
> I thought of this the other day and it would be worth doing, though I  
> am not very knowledgeable on configuring Linux VMWare images,  
> unfortunately.
> 
> Brad
> _______________________________________________
> Owasp-webgoat mailing list
> Owasp-webgoat at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-webgoat


From lists at dawes.za.net  Thu Oct 23 09:05:24 2008
From: lists at dawes.za.net (Rogan Dawes)
Date: Thu, 23 Oct 2008 15:05:24 +0200
Subject: [Owasp-webgoat] [Owasp-leaders] VMWare Image of Webgoat
In-Reply-To: <9DF4DCB48693534A986B344B0BF89DDB0382BBD9@ligament.Ounce.local>
References: <20081022093606.ro79no5wookwcck8@webmail.rbacomm.com>
	<9DF4DCB48693534A986B344B0BF89DDB0382BBD9@ligament.Ounce.local>
Message-ID: <49007694.6020004@dawes.za.net>

Bruce Mayhew wrote:
> I think this is a interesting idea.  One of the ant build tags creates a
> "classroom" environment.  The image would be quite large, but I'd be
> willing to put it on sourceforge (if it would allow it) if people think
> it is a good idea.  The question I have is: Would you download a VM that
> you didn't create and run it on your machine?  
> 
> Anyone have any thoughts on this?  I'm not that familiar with potential
> risks of running an "untrusted" VM.
> 
> Bruce


I think that what people are missing (in the usual scenario, not the 
classroom one) is that WebGoat no longer listens on all interfaces, but 
only loopback.

Which effectively prevents anyone abusing WebGoat to gain access to the 
machine on which it is running. Thinking along these lines, perhaps it 
is time we updated the warning on the "splash page"?

For the classroom scenario, I think an image would be a pretty good 
idea, making it a bit easer for a teacher to set up and operate a 
WebGoat instance.

Rogan

> -----Original Message-----
> From: Brad Andrews [mailto:andrews at rbacomm.com] 
> Sent: Wednesday, October 22, 2008 10:36 AM
> To: webgoat at owasp.org
> Subject: VMWare Image of Webgoat
> 
> 
> Has anyone thought of creating a VMWare Player image of Webgoat (on  
> some kind of Linux) to allow people to be able to run Webgoat without  
> exposing themselves to external attack?  Networking could be setup to  
> not connect to the host machine.
> 
> I thought of this the other day and it would be worth doing, though I  
> am not very knowledgeable on configuring Linux VMWare images,  
> unfortunately.
> 
> Brad
> _______________________________________________
> OWASP-Leaders mailing list
> OWASP-Leaders at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-leaders
> 
> 


