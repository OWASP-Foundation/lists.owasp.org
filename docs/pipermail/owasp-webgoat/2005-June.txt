From holger.peine at iese.fraunhofer.de  Wed Jun  1 03:21:04 2005
From: holger.peine at iese.fraunhofer.de (Holger Peine)
Date: Wed, 1 Jun 2005 09:21:04 +0200
Subject: [OWASP-WEBGOAT]Installing Webgoat on Linux - it's for Windows only!?
Message-ID: <200506010921.04482.holger.peine@iese.fraunhofer.de>

Hello everyone,

I'm trying to install Webgoat, and I failed - both with version 3.5 and the older
3.0b version. In both versions (and both variants, with or without Java) the
startup scripts (after some corrections of removing ^M's and replacing some .
by `pwd`) will complain that no JDK is installed on the grounds that they cannot 
find java/bin/javac - and they're right, that directory only contains javac.exe; the 
same (i.e. only Windows programs) goes for all the other binaries in java/bin as
well as tomcat/bin. That is, it seems to me that the webgoat download package 
is only for Windows, not for Linux, even though it contains startup scripts for both
OSs. Is this true?

So, how did you get Webgoat installed on Linux?

Thanks in advance for your help,
Holger.

-- 
Dr. Holger Peine
Fraunhofer IESE, Kaiserslautern, Germany
Phone +49-6301-707-134, Fax -209 (shared)
www.iese.fraunhofer.de/Staff/peine -- PGP key on request or via pgp.mit.edu



From bruce.mayhew at aspectsecurity.com  Wed Jun  1 09:22:39 2005
From: bruce.mayhew at aspectsecurity.com (Bruce Mayhew)
Date: Wed, 1 Jun 2005 09:22:39 -0400
Subject: [OWASP-WEBGOAT]Installing Webgoat on Linux - it's for Windows only!?
References: <200506010921.04482.holger.peine@iese.fraunhofer.de>
Message-ID: <018c01c566ac$fc152760$3d01a8c0@intranet.aspectsecurity.com>

Holger,

You are correct.   I have corrected this problem but I have not pushed a new 
release out to OWASP.   You will need to install java and tomcat on you box.

I will send you the "UNIX" WebGoat 3.7 jar file and tomcat configuration 
files in a separate email.

Bruce



----- Original Message ----- 
From: "Holger Peine" <holger.peine at iese.fraunhofer.de>
To: <owasp-webgoat at lists.sourceforge.net>
Sent: Wednesday, June 01, 2005 3:21 AM
Subject: [OWASP-WEBGOAT]Installing Webgoat on Linux - it's for Windows 
only!?


> Hello everyone,
>
> I'm trying to install Webgoat, and I failed - both with version 3.5 and 
> the older
> 3.0b version. In both versions (and both variants, with or without Java) 
> the
> startup scripts (after some corrections of removing ^M's and replacing 
> some .
> by `pwd`) will complain that no JDK is installed on the grounds that they 
> cannot
> find java/bin/javac - and they're right, that directory only contains 
> javac.exe; the
> same (i.e. only Windows programs) goes for all the other binaries in 
> java/bin as
> well as tomcat/bin. That is, it seems to me that the webgoat download 
> package
> is only for Windows, not for Linux, even though it contains startup 
> scripts for both
> OSs. Is this true?
>
> So, how did you get Webgoat installed on Linux?
>
> Thanks in advance for your help,
> Holger.
>
> -- 
> Dr. Holger Peine
> Fraunhofer IESE, Kaiserslautern, Germany
> Phone +49-6301-707-134, Fax -209 (shared)
> www.iese.fraunhofer.de/Staff/peine -- PGP key on request or via 
> pgp.mit.edu
>
>
> -------------------------------------------------------
> This SF.Net email is sponsored by Yahoo.
> Introducing Yahoo! Search Developer Network - Create apps using Yahoo!
> Search APIs Find out how you can build Yahoo! directly into your own
> Applications - visit http://developer.yahoo.net/?fr=offad-ysdn-ostg-q22005
> _______________________________________________
> OWASP-WEBGOAT mailing list
> OWASP-WEBGOAT at lists.sourceforge.net
> https://lists.sourceforge.net/lists/listinfo/owasp-webgoat
> 




From lists at dawes.za.net  Wed Jun  1 10:05:52 2005
From: lists at dawes.za.net (Rogan Dawes)
Date: Wed, 01 Jun 2005 16:05:52 +0200
Subject: [OWASP-WEBGOAT]Getting per-user information in a lesson?
Message-ID: <429DC0C0.1000907@dawes.za.net>

Hi folks,

I have written a lesson showing how to brute force a session id. I tried 
to make this available during a web-application testing class, but found 
that my users were conflicting with each other.

Obviously, I need to extend this so that each user gets their own series 
of sessionids, and their own set of "target" identifiers.

How do I determine which user is accessing my lesson?

Once I know this, I can simply use a hash to store a per-user sessionid 
list . . .

Thanks

Rogan



From greg.favre at lunarice.ch  Wed Jun  1 10:43:32 2005
From: greg.favre at lunarice.ch (Gregor Favre)
Date: Wed, 1 Jun 2005 16:43:32 +0200
Subject: [OWASP-WEBGOAT]WebGoat 3.7 for Linux
Message-ID: <E1DdURX-0001yE-Qz@sc8-sf-mx2.sourceforge.net>

 
Hi everyone

I'm trying to install the WebGoat 3.5 WAR on a linux box, and
encountered some database problems.

I installed tomcat, deployed the WebGoat 3.5 WAR, and the WebGoat
is showing up when pointing the browser to it. But I have
problems with the database connection, so I changed from the
Access ODBC (does something like this exist on Linux?) to IDB,
but I cant get things working. The logfile comes up with the
following message when connecting to the initial /WebGoat/attack
page :

PATH: /root/jakarta-tomcat-5.5.9/webapps/WebGoat/database
Database Connection String:
jdbc:idb:/root/jakarta-tomcat-5.5.9/webapps/WebGoat/database/data
base.prp
java.sql.SQLException: No suitable driver
        at
java.sql.DriverManager.getConnection(DriverManager.java:545)
        at
java.sql.DriverManager.getConnection(DriverManager.java:193)
        at
session.DatabaseUtilities.makeConnection(DatabaseUtilities.java:4
1)
        at
lessons.admin.RefreshDBScreen.refreshDB(RefreshDBScreen.java:160)
        at session.WebSession.<init>(WebSession.java:228)
        at HammerHead.updateSession(HammerHead.java:346)
        at ... (trail truncated)

When I select a link which requires the DB connection, a red
error message like

 * Error generating lessons.SqlInjection

is displayed, and in the logfile a message similiar to the
stacktrace above is generated (similar as when using the
MS-Access DB).

I tried that with the Access-Driver and the IDB driver. In order
to use the IDB driver, I downloaded 'instantdb_bin_4_0.tar.gz'
from somewhere on the web, and copied idbexmpl.jar, idb.jar,
jta-spec1_0_1.jar to the Classpath directory.

If anyone could give me a hint on how to get it working on linux,
I would greatly appreciate it! 
Everything works well on Windows!

Greetings,

--
Gregor Pierre Favre
http://www.lunarice.ch <http://www.lunarice.ch/> 
PGP 0x6827E27E 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3034 bytes
Desc: not available
Url : http://lists.owasp.org/pipermail/owasp-webgoat/attachments/20050601/36ecee7b/attachment.bin 

From chuck.lists at gmail.com  Wed Jun  1 11:07:48 2005
From: chuck.lists at gmail.com (Chuck)
Date: Wed, 1 Jun 2005 11:07:48 -0400
Subject: [OWASP-WEBGOAT]Getting per-user information in a lesson?
In-Reply-To: <429DC0C0.1000907@dawes.za.net>
References: <429DC0C0.1000907@dawes.za.net>
Message-ID: <53b2a7005060108077bc6b940@mail.gmail.com>

Hi Rogan,

   Take a look at StoredXSS.java.  Some of the methods there get
passed a WebSession and then call getUserName() on it to get the user
name.  I think that should fit what you are looking for.

   On a related note, a while ago, I extended that lesson to allow
better for more than one user to access it.  I sent the patch to
Bruce, so hopefully it is integrated into the next version of WebGoat.
 Looks like 3.7 is may be out, but I don't see it on the download
site.

   Before my patch, I think that lesson kept users separated from one
another, so they didn't see each other's posts.  That is good to keep
down confusion, but doesn't let them actually XSS and steal anyone's
cookies.  So I made the system treat users like chuck-1, chuck-2, etc
special so those users will see each others posts (but not see posts
from bob-1, alice-2, etc).  Basically, it just compares the usernames
before a dash, so it might be more clear to name users chuck-attacker,
chuck-victim, etc.  If something like that would work for what you are
planning, it may be good to keep the same convention for your lesson.

   I hope that makes sense.  If not, please let me know.

Chuck

On 6/1/05, Rogan Dawes <lists at dawes.za.net> wrote:
> Hi folks,
> 
> I have written a lesson showing how to brute force a session id. I tried
> to make this available during a web-application testing class, but found
> that my users were conflicting with each other.
> 
> Obviously, I need to extend this so that each user gets their own series
> of sessionids, and their own set of "target" identifiers.
> 
> How do I determine which user is accessing my lesson?
> 
> Once I know this, I can simply use a hash to store a per-user sessionid
> list . . .
> 
> Thanks
> 
> Rogan
> 
> 
> -------------------------------------------------------
> This SF.Net email is sponsored by Yahoo.
> Introducing Yahoo! Search Developer Network - Create apps using Yahoo!
> Search APIs Find out how you can build Yahoo! directly into your own
> Applications - visit http://developer.yahoo.net/?fr=offad-ysdn-ostg-q22005
> _______________________________________________
> OWASP-WEBGOAT mailing list
> OWASP-WEBGOAT at lists.sourceforge.net
> https://lists.sourceforge.net/lists/listinfo/owasp-webgoat
>



From bruce.mayhew at aspectsecurity.com  Wed Jun  1 11:48:41 2005
From: bruce.mayhew at aspectsecurity.com (Bruce Mayhew)
Date: Wed, 1 Jun 2005 11:48:41 -0400
Subject: [OWASP-WEBGOAT]WebGoat 3.7 for Linux
References: <E1DdURX-0001yE-Qz@sc8-sf-mx2.sourceforge.net>
Message-ID: <01b501c566c1$627df3b0$3d01a8c0@intranet.aspectsecurity.com>

You need to modify web.xml to specify a different database and jdbc driver. 
The schema for UNIX is also broken under 3.5.

I will send you the 3.7 war and tomcat-user.xml file separately.  This war 
file has the correct web.xml settings and schema.

I'm currently working on getting 3.7 under OWASP/CVS/Sourceforge control.  A 
few WebServices lesson are close to completion so I'm waiting for them 
before pushing 3.7 out.

Bruce.





----- Original Message ----- 
From: "Gregor Favre" <greg.favre at lunarice.ch>
To: <owasp-webgoat at lists.sourceforge.net>
Sent: Wednesday, June 01, 2005 10:43 AM
Subject: [OWASP-WEBGOAT]WebGoat 3.7 for Linux


>
> Hi everyone
>
> I'm trying to install the WebGoat 3.5 WAR on a linux box, and
> encountered some database problems.
>
> I installed tomcat, deployed the WebGoat 3.5 WAR, and the WebGoat
> is showing up when pointing the browser to it. But I have
> problems with the database connection, so I changed from the
> Access ODBC (does something like this exist on Linux?) to IDB,
> but I cant get things working. The logfile comes up with the
> following message when connecting to the initial /WebGoat/attack
> page :
>
> PATH: /root/jakarta-tomcat-5.5.9/webapps/WebGoat/database
> Database Connection String:
> jdbc:idb:/root/jakarta-tomcat-5.5.9/webapps/WebGoat/database/data
> base.prp
> java.sql.SQLException: No suitable driver
>        at
> java.sql.DriverManager.getConnection(DriverManager.java:545)
>        at
> java.sql.DriverManager.getConnection(DriverManager.java:193)
>        at
> session.DatabaseUtilities.makeConnection(DatabaseUtilities.java:4
> 1)
>        at
> lessons.admin.RefreshDBScreen.refreshDB(RefreshDBScreen.java:160)
>        at session.WebSession.<init>(WebSession.java:228)
>        at HammerHead.updateSession(HammerHead.java:346)
>        at ... (trail truncated)
>
> When I select a link which requires the DB connection, a red
> error message like
>
> * Error generating lessons.SqlInjection
>
> is displayed, and in the logfile a message similiar to the
> stacktrace above is generated (similar as when using the
> MS-Access DB).
>
> I tried that with the Access-Driver and the IDB driver. In order
> to use the IDB driver, I downloaded 'instantdb_bin_4_0.tar.gz'
> from somewhere on the web, and copied idbexmpl.jar, idb.jar,
> jta-spec1_0_1.jar to the Classpath directory.
>
> If anyone could give me a hint on how to get it working on linux,
> I would greatly appreciate it!
> Everything works well on Windows!
>
> Greetings,
>
> --
> Gregor Pierre Favre
> http://www.lunarice.ch <http://www.lunarice.ch/>
> PGP 0x6827E27E
>
> 




From bruce.mayhew at aspectsecurity.com  Wed Jun  1 12:06:06 2005
From: bruce.mayhew at aspectsecurity.com (Bruce Mayhew)
Date: Wed, 1 Jun 2005 12:06:06 -0400
Subject: [OWASP-WEBGOAT]Getting per-user information in a lesson?
References: <429DC0C0.1000907@dawes.za.net> <53b2a7005060108077bc6b940@mail.gmail.com>
Message-ID: <01e101c566c3$d10eef80$3d01a8c0@intranet.aspectsecurity.com>

The StoredXSS attacks are still separated.  I didn't want user A offending 
user B anonymously.  I realize that is part of the beauty of XSS, but since 
many of us use WebGoat in a shared classroom environment I thought it better 
to not offend anyone...

Every user also requires credentials be entered in tomcat-users.xml in order 
to distinguish users with WebSession.getUserName().

Bruce.


----- Original Message ----- 
From: "Chuck" <chuck.lists at gmail.com>
To: <owasp-webgoat at lists.sourceforge.net>
Sent: Wednesday, June 01, 2005 11:07 AM
Subject: Re: [OWASP-WEBGOAT]Getting per-user information in a lesson?


Hi Rogan,

   Take a look at StoredXSS.java.  Some of the methods there get
passed a WebSession and then call getUserName() on it to get the user
name.  I think that should fit what you are looking for.

   On a related note, a while ago, I extended that lesson to allow
better for more than one user to access it.  I sent the patch to
Bruce, so hopefully it is integrated into the next version of WebGoat.
 Looks like 3.7 is may be out, but I don't see it on the download
site.

   Before my patch, I think that lesson kept users separated from one
another, so they didn't see each other's posts.  That is good to keep
down confusion, but doesn't let them actually XSS and steal anyone's
cookies.  So I made the system treat users like chuck-1, chuck-2, etc
special so those users will see each others posts (but not see posts
from bob-1, alice-2, etc).  Basically, it just compares the usernames
before a dash, so it might be more clear to name users chuck-attacker,
chuck-victim, etc.  If something like that would work for what you are
planning, it may be good to keep the same convention for your lesson.

   I hope that makes sense.  If not, please let me know.

Chuck

On 6/1/05, Rogan Dawes <lists at dawes.za.net> wrote:
> Hi folks,
>
> I have written a lesson showing how to brute force a session id. I tried
> to make this available during a web-application testing class, but found
> that my users were conflicting with each other.
>
> Obviously, I need to extend this so that each user gets their own series
> of sessionids, and their own set of "target" identifiers.
>
> How do I determine which user is accessing my lesson?
>
> Once I know this, I can simply use a hash to store a per-user sessionid
> list . . .
>
> Thanks
>
> Rogan
>
>
> -------------------------------------------------------
> This SF.Net email is sponsored by Yahoo.
> Introducing Yahoo! Search Developer Network - Create apps using Yahoo!
> Search APIs Find out how you can build Yahoo! directly into your own
> Applications - visit http://developer.yahoo.net/?fr=offad-ysdn-ostg-q22005
> _______________________________________________
> OWASP-WEBGOAT mailing list
> OWASP-WEBGOAT at lists.sourceforge.net
> https://lists.sourceforge.net/lists/listinfo/owasp-webgoat
>


-------------------------------------------------------
This SF.Net email is sponsored by Yahoo.
Introducing Yahoo! Search Developer Network - Create apps using Yahoo!
Search APIs Find out how you can build Yahoo! directly into your own
Applications - visit http://developer.yahoo.net/?fr=fad-ysdn-ostg-q22005
_______________________________________________
OWASP-WEBGOAT mailing list
OWASP-WEBGOAT at lists.sourceforge.net
https://lists.sourceforge.net/lists/listinfo/owasp-webgoat




From chuck.lists at gmail.com  Wed Jun  1 12:26:52 2005
From: chuck.lists at gmail.com (Chuck)
Date: Wed, 1 Jun 2005 12:26:52 -0400
Subject: [OWASP-WEBGOAT]Getting per-user information in a lesson?
In-Reply-To: <01e101c566c3$d10eef80$3d01a8c0@intranet.aspectsecurity.com>
References: <429DC0C0.1000907@dawes.za.net>
	 <53b2a7005060108077bc6b940@mail.gmail.com>
	 <01e101c566c3$d10eef80$3d01a8c0@intranet.aspectsecurity.com>
Message-ID: <53b2a7005060109264b2be418@mail.gmail.com>

On 6/1/05, Bruce Mayhew <bruce.mayhew at aspectsecurity.com> wrote:
> The StoredXSS attacks are still separated.  I didn't want user A offending
> user B anonymously.  I realize that is part of the beauty of XSS, but since
> many of us use WebGoat in a shared classroom environment I thought it better
> to not offend anyone...

I take this to mean that you are not incorporating my patch to the
StoredXSS lesson.  If that is not true, you can disregard the rest of
this :-)  From the above I think that I have not been clear with what
this patch does.  It does not allow users A and B to XSS each other. 
It only allows users A-1, A-2, A-attacker, A-victim, etc to XSS each
other.  My idea was that in a classroom, you would create (at least)
two user ids for each student.  The main one would be A-attacker (or
whatever you wanted to name it), but for training XSS and XST and
CSRF, that user would use the A-victim id to simulate another user to
attack.  I usually implement this by logging into the app twice at the
same time using two different browsers (IE and FF).
 
> Every user also requires credentials be entered in tomcat-users.xml in order
> to distinguish users with WebSession.getUserName().

Yes, A-attacker and A-victim are completely separate tomcat users and
both require a password (so student B can't log in as A-something and
mess with student A).  The code in the lesson just treats them
specially when it accesses the database, basically pulling messages
posted by user like A%.

All that being said, if you don't think that this is useful, then you
don't have to include it.  I'll probably post a .patch file to the
mailing list here after 3.7 is released so others can use it if they
desire.

Have a good one.

Chuck



From rogan at dawes.za.net  Wed Jun  1 11:15:44 2005
From: rogan at dawes.za.net (Rogan Dawes)
Date: Wed, 01 Jun 2005 17:15:44 +0200
Subject: [OWASP-WEBGOAT]Getting per-user information in a lesson?
In-Reply-To: <53b2a7005060108077bc6b940@mail.gmail.com>
References: <429DC0C0.1000907@dawes.za.net> <53b2a7005060108077bc6b940@mail.gmail.com>
Message-ID: <429DD120.409@dawes.za.net>

Chuck wrote:
> Hi Rogan,
> 
>    Take a look at StoredXSS.java.  Some of the methods there get
> passed a WebSession and then call getUserName() on it to get the user
> name.  I think that should fit what you are looking for.

Great, thanks. I knew it had to be there somewhere, I just wasn't sure 
where to look for an example . . .

> 
>    On a related note, a while ago, I extended that lesson to allow
> better for more than one user to access it.  I sent the patch to
> Bruce, so hopefully it is integrated into the next version of WebGoat.
>  Looks like 3.7 is may be out, but I don't see it on the download
> site.
> 
>    Before my patch, I think that lesson kept users separated from one
> another, so they didn't see each other's posts.  That is good to keep
> down confusion, but doesn't let them actually XSS and steal anyone's
> cookies.  So I made the system treat users like chuck-1, chuck-2, etc
> special so those users will see each others posts (but not see posts
> from bob-1, alice-2, etc).  Basically, it just compares the usernames
> before a dash, so it might be more clear to name users chuck-attacker,
> chuck-victim, etc.  If something like that would work for what you are
> planning, it may be good to keep the same convention for your lesson.

My lesson does not actually require multiple active users, as it 
simulates a "victim" by reserving a sessionid periodically (currently 
every 29 requests, IIRC), and checks for requests for those ids to 
complete the lesson.

> 
>    I hope that makes sense.  If not, please let me know.
> 
Perfect sense. Thanks.

Rogan

> Chuck



From serasihay at gmail.com  Wed Jun  1 15:04:16 2005
From: serasihay at gmail.com (=?iso-8859-15?q?V=EDctor_Lluci=E0?=)
Date: Wed, 1 Jun 2005 21:04:16 +0200
Subject: [OWASP-WEBGOAT]Installing Webgoat on Linux - it's for Windows only!?
In-Reply-To: <018c01c566ac$fc152760$3d01a8c0@intranet.aspectsecurity.com>
References: <200506010921.04482.holger.peine@iese.fraunhofer.de> <018c01c566ac$fc152760$3d01a8c0@intranet.aspectsecurity.com>
Message-ID: <200506012104.16766.serasihay@gmail.com>

On Wednesday 01 June 2005 15:22, Bruce Mayhew wrote:

> I will send you the "UNIX" WebGoat 3.7 jar file and tomcat configuration
> files in a separate email.
>
> Bruce
>

Excuse my intromission :-)

Could you send me a copy too?
A few months ago I was in the same situation that Holger, but I forgot about 
it until I've read his message...

Thanks in advance!
-- 
V?ctor Lluci? GPG ID 0xA02B643E



