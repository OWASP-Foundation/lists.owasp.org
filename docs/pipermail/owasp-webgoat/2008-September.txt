From kristian.hermansen at gmail.com  Mon Sep  8 02:12:32 2008
From: kristian.hermansen at gmail.com (Kristian Erik Hermansen)
Date: Sun, 7 Sep 2008 23:12:32 -0700
Subject: [Owasp-webgoat] [PATCH] WebGoat: update JAVA_HOME environment
	variable checking and move from 1.5 to 1.6
Message-ID: <fe37588d0809072312x38ead501of5c9748e8e5a7eb3@mail.gmail.com>

A better way to check/set JAVA_HOME and also updates for moving to
java 1.6 runtime.  Saw a recent post from Google referencing this
still being unresolved so...


$ cat owasp.webgoat.5.2.webgoat.sh.java_home.1.6.kristian.hermansen at gmail.com.patch
--- webgoat.sh.orig	2008-09-07 21:10:57.000000000 -0700
+++ webgoat.sh	2008-09-07 22:00:45.000000000 -0700
@@ -1,4 +1,4 @@
-#! /bin/sh
+#!/bin/sh

 SYSTEM=`uname -s`
 CATALINA_HOME=./tomcat
@@ -7,25 +7,29 @@

 chmod +x ./$CATALINA_HOME/bin/*.sh
 if [ $SYSTEM = "Darwin" ]; then
-        JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/1.5/Home
+        JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/1.6/Home
         export JAVA_HOME

 else

-is_java_1dot5() {
-        if [ "X$JAVA_HOME" != "X" -a -d $JAVA_HOME ]; then
-                $JAVA_HOME/bin/java -version 2>&1 | grep 'version
\"1.5' >/dev/null
+is_java_1dot6() {
+	if [ -z "$JAVA_HOME" ]; then
+        	export JAVA_HOME=$(dirname $(readlink -f $(which java)))/../
+	fi
+
+        if [ "X$JAVA_HOME" != "X" -a $JAVA_HOME ]; then
+                $JAVA_HOME/bin/java -version 2>&1 | grep 'version
"1.6' >/dev/null
                 if [ $? -ne 0 ]; then
-                        echo "The JVM in \$JAVA_HOME isn't version 1.5."
+                        echo "The JVM in \$JAVA_HOME isn't version 1.6."
                         exit 1
                 fi
         else
-                echo "Please set JAVA_HOME to a Java 1.5 JDK install"
+                echo "Please set JAVA_HOME to a Java 1.6 JDK install"
                 exit 1
         fi
 }

-is_java_1dot5
+is_java_1dot6

 fi


-- 
Kristian Erik Hermansen

From glxhy8866 at yahoo.com.cn  Thu Sep 18 04:30:21 2008
From: glxhy8866 at yahoo.com.cn (Shawn)
Date: Thu, 18 Sep 2008 16:30:21 +0800 (CST)
Subject: [Owasp-webgoat] question about the webgoat 5.2
Message-ID: <174953.71200.qm@web15604.mail.cnb.yahoo.com>

To whom it may concerm,

I am chinese?web security?fan. I have done all the session in webgoat5.2 and finish part of challenge session by changeing the source java code and still some stage, such as stage 3, I can not get it. However, I think in real case, we can not get the source code, which usually located in server. So, I am wonder could you please send me the challage sesson's solution rather than let me?change the sourse code. Thanks!

Regards,
Shawn


      Make the switch to the world&#39;s best email. Get Yahoo!7 Mail! http://au.yahoo.com/y7mail

From webgoat at owasp.org  Thu Sep 18 08:23:47 2008
From: webgoat at owasp.org (webgoat webgoat)
Date: Thu, 18 Sep 2008 08:23:47 -0400
Subject: [Owasp-webgoat] question about the webgoat 5.2
In-Reply-To: <174953.71200.qm@web15604.mail.cnb.yahoo.com>
References: <174953.71200.qm@web15604.mail.cnb.yahoo.com>
Message-ID: <bece9fb0809180523oe539d57n84026ff3316ba653@mail.gmail.com>

Hi Shawn

You shouldn't have to change the Java source to complete the challenge but
you will have to overwrite the Challenge's JSP to complete stage 3.  You are
correct that most applications don't put the source code on the application
server. The point of stage one is to bypass the presentation layer access
control by getting access to the source which is a feature of the WebGoat
application.

Here are some hints to help you through all three stages.

 Steal the source:  Using the URL presented by other lessons to view the
source code, issue this same request when the challenge screen is
loaded.  (presentation
layer access control bypass)



Steal the credits cards:  user is in the cookies, use SQL injection



Deface the site:  Command Injection.  The trick here is to "find" the
location of the main webpage.  Through the hints (once you get command
injection working) WebGoat will tell you the name of the file to overwrite.
It's usually something like webgoat_challenge_guest.jsp.  However, depending
on your installation, the file can reside in different places.  I use
command injection with the FIND or FINDSTR (with some options to recursive
search) to locate the path to this file.  Then I craft another command to
overwrite that file.

Hope this helps

Bruce

On Thu, Sep 18, 2008 at 4:30 AM, Shawn <glxhy8866 at yahoo.com.cn> wrote:

> To whom it may concerm,
>
> I am chinese web security fan. I have done all the session in webgoat5.2
> and finish part of challenge session by changeing the source java code and
> still some stage, such as stage 3, I can not get it. However, I think in
> real case, we can not get the source code, which usually located in server.
> So, I am wonder could you please send me the challage sesson's solution
> rather than let me change the sourse code. Thanks!
>
> Regards,
> Shawn
>
>
>      Make the switch to the world's best email. Get Yahoo!7 Mail!
> http://au.yahoo.com/y7mail
> _______________________________________________
> Owasp-webgoat mailing list
> Owasp-webgoat at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-webgoat
>



-- 
Bruce Mayhew
OWASP WebGoat Project Lead

From bryancjacobs at hotmail.com  Mon Sep 22 12:57:05 2008
From: bryancjacobs at hotmail.com (bryan jacobs)
Date: Mon, 22 Sep 2008 11:57:05 -0500
Subject: [Owasp-webgoat] Remote Admin Access Lesson
Message-ID: <BLU139-W4974BF9BC2606A20C53708DC4B0@phx.gbl>

Remote Admin Access Lesson Question:

How are you able to determine that &admin=true should be appended to the URL?

I'm assuming that you aren't just supposed to guess this. 

I tried looking through the javascript but never noticed anything like that, and using Webscarab to intercept the requests I was never able to notice anything that would suggest doing this.
Looking at the source code would work, but that really isn't a valid solution because most likely you wouldn't have the source code.


I was able to gain access to the admin console a different way, but it doesn't complete the exercise. 
What I did was after gaining access to the tomcat-users.xml in Bypass a Path Based Access Control Scheme Lesson I was then able to login in as the admin.

Any help would be appreciated.

Bryan

_________________________________________________________________
Want to do more with Windows Live? Learn ?10 hidden secrets? from Jamie.
http://windowslive.com/connect/post/jamiethomson.spaces.live.com-Blog-cns!550F681DAD532637!5295.entry?ocid=TXT_TAGLM_WL_domore_092008

From Bruce.Mayhew at OunceLabs.com  Mon Sep 22 13:29:01 2008
From: Bruce.Mayhew at OunceLabs.com (Bruce Mayhew)
Date: Mon, 22 Sep 2008 13:29:01 -0400
Subject: [Owasp-webgoat] Remote Admin Access Lesson
In-Reply-To: <BLU139-W4974BF9BC2606A20C53708DC4B0@phx.gbl>
References: <BLU139-W4974BF9BC2606A20C53708DC4B0@phx.gbl>
Message-ID: <9DF4DCB48693534A986B344B0BF89DDB03680D05@ligament.Ounce.local>

Good comment and observation!

I admit this one is a little farfetched.  This one was written in the
days when I was seeing a lot of debug=true flags.  I don't believe there
aren't ANY hints that would make a user guess admin=true.  There is an
exposed admin interface, but that is about it.

I like you're alternate solution.  Although each lesson is supposed to
be independent of other lessons.

Perhaps it's time to retire this one or add a clue somewhere.  Would you
add this to the Google issues for WebGoat?

Bruce

-----Original Message-----
From: owasp-webgoat-bounces at lists.owasp.org
[mailto:owasp-webgoat-bounces at lists.owasp.org] On Behalf Of bryan jacobs
Sent: Monday, September 22, 2008 12:57 PM
To: owasp-webgoat at lists.owasp.org
Subject: [Owasp-webgoat] Remote Admin Access Lesson

Remote Admin Access Lesson Question:

How are you able to determine that &admin=true should be appended to the
URL?

I'm assuming that you aren't just supposed to guess this. 

I tried looking through the javascript but never noticed anything like
that, and using Webscarab to intercept the requests I was never able to
notice anything that would suggest doing this.
Looking at the source code would work, but that really isn't a valid
solution because most likely you wouldn't have the source code.


I was able to gain access to the admin console a different way, but it
doesn't complete the exercise. 
What I did was after gaining access to the tomcat-users.xml in Bypass a
Path Based Access Control Scheme Lesson I was then able to login in as
the admin.

Any help would be appreciated.

Bryan

_________________________________________________________________
Want to do more with Windows Live? Learn "10 hidden secrets" from Jamie.
http://windowslive.com/connect/post/jamiethomson.spaces.live.com-Blog-cn
s!550F681DAD532637!5295.entry?ocid=TXT_TAGLM_WL_domore_092008
_______________________________________________
Owasp-webgoat mailing list
Owasp-webgoat at lists.owasp.org
https://lists.owasp.org/mailman/listinfo/owasp-webgoat

