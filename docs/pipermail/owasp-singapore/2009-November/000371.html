<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-singapore] [security-77] NoScript's protection Vs	RequestPolicy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-singapore%40lists.owasp.org?Subject=%5BOwasp-singapore%5D%20%5Bsecurity-77%5D%20NoScript%27s%20protection%20Vs%0A%09RequestPolicy&In-Reply-To=271871742.1259039028397.JavaMail.nobody%40james2">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000370.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-singapore] [security-77] NoScript's protection Vs	RequestPolicy</H1>
    <B>Wong Onn Chee</B> 
    <A HREF="mailto:owasp-singapore%40lists.owasp.org?Subject=%5BOwasp-singapore%5D%20%5Bsecurity-77%5D%20NoScript%27s%20protection%20Vs%0A%09RequestPolicy&In-Reply-To=271871742.1259039028397.JavaMail.nobody%40james2"
       TITLE="[Owasp-singapore] [security-77] NoScript's protection Vs	RequestPolicy">ocwong at usa.net
       </A><BR>
    <I>Tue Nov 24 00:39:38 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000370.html">[Owasp-singapore] Symantec Japan/Korea site got hacked and leaked	customer info
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#371">[ date ]</a>
              <a href="thread.html#371">[ thread ]</a>
              <a href="subject.html#371">[ subject ]</a>
              <a href="author.html#371">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I second Aung Khant's point - use both add-ons for better security.


Regards,

Onn Chee

On 24-Nov-2009, at 13:03, Aung Khant &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-singapore">aungkhant at yehg.net</A>&gt; wrote:

&gt;<i> The Rule of Thumb is to use both to have the better protection. They  
</I>&gt;<i> are developed to work in tandem.
</I>&gt;<i>
</I>&gt;<i> The intention of NoScript's CSRF protection and RequestPolicy is  
</I>&gt;<i> basically the same thing.
</I>&gt;<i> Web attacks such as scanning for vulnerable hosts/services in user  
</I>&gt;<i> LAN, exploiting CSRF-vulnerable routers
</I>&gt;<i> have been very prevalent. NoScript and RequestPolicy prevents  
</I>&gt;<i> requests to internal LAN IPs address from probing via CSS,  
</I>&gt;<i> JavaScript, HTML image tag and so on.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> RequestPolicy bydefault allows requests to :
</I>&gt;<i>
</I>&gt;<i>    -  example.com
</I>&gt;<i>    - *.example.com (like a.b.c.example.com)
</I>&gt;<i>    - example.com:8080
</I>&gt;<i>
</I>&gt;<i> from example.com .
</I>&gt;<i>
</I>&gt;<i> It allows requests of white-lists of known URLs (when you first  
</I>&gt;<i> install it) and what you've marked as trusted.
</I>&gt;<i>
</I>&gt;<i> Otherwise, it denies requests according to its default-deny policy.
</I>&gt;<i>
</I>&gt;<i> RequestPolicy monitors HTTP requests from the following objects:
</I>&gt;<i>
</I>&gt;<i> HTML(script, iframe) CSS JS Image Flash
</I>&gt;<i>
</I>&gt;<i> NoScript is not designed to monitor HTTP requests. Instead it's  
</I>&gt;<i> first designed to block:
</I>&gt;<i>
</I>&gt;<i> &lt;script&gt; tag
</I>&gt;<i> &lt;embed&gt; tag
</I>&gt;<i> &lt;object&gt; tag
</I>&gt;<i>
</I>&gt;<i> Later, NoScript is being enhanced to protect latest web threats like  
</I>&gt;<i> clickjacking.
</I>&gt;<i>
</I>&gt;<i> To illustrate, consider the following iframe tag in a victim.com :
</I>&gt;<i>
</I>&gt;<i> &lt;iframe src=&quot;<A HREF="http://attacker.com/&quot;">http://attacker.com/&quot;</A> border=&quot;0&quot; width=&quot;0&quot; height=&quot;0&quot;&gt;&lt;/ 
</I>&gt;<i> iframe&gt;
</I>&gt;<i>
</I>&gt;<i> RequestPolicy  will block (untrusted/cross-request) <A HREF="http://attacker.com">http://attacker.com</A> 
</I>&gt;<i>  unless you have allowed it or attacker.com in white-lists.
</I>&gt;<i> NoScript will not block <A HREF="http://attacker.com">http://attacker.com</A> from request. Instead,  
</I>&gt;<i> it will block malicious script tag, embeded objects and the like.
</I>&gt;<i>
</I>&gt;<i> RequestPolicy has the ability to block HTTP requests from the flash  
</I>&gt;<i> object while NoScript doesn't have.
</I>&gt;<i> Once you let NoScript to allow flash object, then the flash object  
</I>&gt;<i> can do anything it wants.
</I>&gt;<i> Even if you allow NoScript to allow flash object, RequestPolicy will  
</I>&gt;<i> block any cross-site HTTP requests of the flash object.
</I>&gt;<i> You can test it with the following flex code:
</I>&gt;<i>
</I>&gt;<i> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</I>&gt;<i> &lt;mx:Application xmlns:mx=&quot;<A HREF="http://www.adobe.com/2006/mxml&quot;">http://www.adobe.com/2006/mxml&quot;</A>  
</I>&gt;<i> layout=&quot;absolute&quot;&gt;
</I>&gt;<i> &lt;mx:Image source=&quot;<A HREF="http://evil.com/attack.jpg&quot;">http://evil.com/attack.jpg&quot;</A> /&gt;
</I>&gt;<i> &lt;/mx:Application&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> However, RequestPolicy might not block HTTP requests from custom/ 
</I>&gt;<i> legitimate plugins like JavaApplet.
</I>&gt;<i> Consider the following JApplet code:
</I>&gt;<i>
</I>&gt;<i> import java.awt.*;
</I>&gt;<i> import javax.swing.*;
</I>&gt;<i>
</I>&gt;<i> public class ImageFrame extends JApplet
</I>&gt;<i> {
</I>&gt;<i>     public void init()
</I>&gt;<i>     {
</I>&gt;<i>         m = getImage(getDocumentBase),&quot;<A HREF="http://evil.com/attack.jpg&quot;">http://evil.com/attack.jpg&quot;</A>);
</I>&gt;<i>     }
</I>&gt;<i>     public void paint(Graphics g)
</I>&gt;<i>     {
</I>&gt;<i>         g.drawImage(m,0,0,this);
</I>&gt;<i>     }
</I>&gt;<i>
</I>&gt;<i>     private Image m;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> In this case, NoScript will help you.
</I>&gt;<i> But NoScript will rely on your trust on a web site.
</I>&gt;<i> Once you have wrongly put your trust in a malicious site, then all  
</I>&gt;<i> protection will be null.
</I>&gt;<i> Attackers might lure victims to gain trust. This is called &quot;Trust  
</I>&gt;<i> Exploitation&quot; in security term.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Best Regards
</I>&gt;<i> Aung
</I>&gt;<i> YGN Ethical Hacker Group
</I>&gt;<i> <A HREF="http://yehg.net">http://yehg.net</A>
</I>&gt;<i>
</I>&gt;<i> -----------------------------
</I>&gt;<i> &quot;Success in life is a matter not so much of talent and opportunity  
</I>&gt;<i> as of concentration and perseverance.&quot; -- C.W.Wendte
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, Nov 23, 2009 at 9:37 PM, Ray Foo &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-singapore">gunblad3 at gmail.com</A>&gt; wrote:
</I>&gt;<i> Thanks for sharing..
</I>&gt;<i>
</I>&gt;<i> On the side: wonder what's the difference between NoScript's CSRF  
</I>&gt;<i> protection and RequestPolicy features? Does anyone know?
</I>&gt;<i>
</I>&gt;<i> Ray
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Please Note: If you hit &quot;REPLY&quot;, your message will be sent to  
</I>&gt;<i> everyone on this mailing list (<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-singapore">security-77 at meetup.com</A>)
</I>&gt;<i> This message was sent by Aung Khant (<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-singapore">aungkhant at yehg.net</A>) from The  
</I>&gt;<i> Singapore Security Meetup Group.
</I>&gt;<i> To learn more about Aung Khant, visit his/her member profile
</I>&gt;<i> To unsubscribe or to update your mailing list settings, click here
</I>&gt;<i>
</I>&gt;<i> Meetup Inc. PO Box 4668 #37895 New York, New York 10163-4668 | <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-singapore">support at meetup.com</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.owasp.org/mailman/private/owasp-singapore/attachments/20091124/1729dbac/attachment.html">https://lists.owasp.org/mailman/private/owasp-singapore/attachments/20091124/1729dbac/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000370.html">[Owasp-singapore] Symantec Japan/Korea site got hacked and leaked	customer info
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#371">[ date ]</a>
              <a href="thread.html#371">[ thread ]</a>
              <a href="subject.html#371">[ subject ]</a>
              <a href="author.html#371">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-singapore">More information about the Owasp-singapore
mailing list</a><br>
</body></html>
