<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-appsensor-project] AppSensor API Questions (Node.js Demonstration Implementation)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-appsensor-project%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-appsensor-project%5D%20AppSensor%20API%20Questions%20%28Node.js%0A%20Demonstration%20Implementation%29&In-Reply-To=%3CCAM8z%3DyJeMmy%3DRGGTcpUexG0C50YaaPzF2XzC6%2BQB2oVbsV%3Dchg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000708.html">
   <LINK REL="Next"  HREF="000710.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-appsensor-project] AppSensor API Questions (Node.js Demonstration Implementation)</H1>
    <B>John Melton</B> 
    <A HREF="mailto:owasp-appsensor-project%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-appsensor-project%5D%20AppSensor%20API%20Questions%20%28Node.js%0A%20Demonstration%20Implementation%29&In-Reply-To=%3CCAM8z%3DyJeMmy%3DRGGTcpUexG0C50YaaPzF2XzC6%2BQB2oVbsV%3Dchg%40mail.gmail.com%3E"
       TITLE="[Owasp-appsensor-project] AppSensor API Questions (Node.js Demonstration Implementation)">jtmelton at gmail.com
       </A><BR>
    <I>Tue Apr  1 17:58:41 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000708.html">[Owasp-appsensor-project] AppSensor API Questions (Node.js Demonstration Implementation)
</A></li>
        <LI>Next message: <A HREF="000710.html">[Owasp-appsensor-project] AppSensor Guide v2 - Update and forward plan
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#709">[ date ]</a>
              <a href="thread.html#709">[ thread ]</a>
              <a href="subject.html#709">[ subject ]</a>
              <a href="author.html#709">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This makes sense to me. Pretty simple change to make. I'll give it a couple
days for people to give opinions. If no objections, rfc3339 makes more
sense to me.
Thanks,
John


On Tue, Apr 1, 2014 at 10:40 AM, Colin Watson &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">colin.watson at owasp.org</A>&gt;wrote:

&gt;<i> John
</I>&gt;<i>
</I>&gt;<i> Another final question... the timestamp you are using is UNIX.  Would
</I>&gt;<i> an RFC 3339 timestamp be more generic?
</I>&gt;<i>
</I>&gt;<i>   <A HREF="http://tools.ietf.org/html/rfc3339">http://tools.ietf.org/html/rfc3339</A>
</I>&gt;<i>
</I>&gt;<i> Syslog and web server logs all use that.
</I>&gt;<i>
</I>&gt;<i> CEF seems to use MILLIseconds since epoch (instead of seconds). Any
</I>&gt;<i> thoughts? Any log experts?
</I>&gt;<i>
</I>&gt;<i> Colin
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 27 March 2014 12:50, Colin Watson &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">colin.watson at owasp.org</A>&gt; wrote:
</I>&gt;<i> &gt; John
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; You have great (and very complicating) thoughts :&gt;.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Just random thoughts as I write...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; I think I would throw this into the meta-reporting bucket since the
</I>&gt;<i> &gt;&gt; detection point policy is configured on the analysis engine.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; In local mode, this makes no difference. However, consider your web
</I>&gt;<i> services
</I>&gt;<i> &gt;&gt; setup. Let's say we have 5 client applications all configured to send
</I>&gt;<i> data
</I>&gt;<i> &gt;&gt; to a single analysis engine. When the client application detects an
</I>&gt;<i> event,
</I>&gt;<i> &gt;&gt; it will notify the analysis engine of the detection point id, not the
</I>&gt;<i> &gt;&gt; policy. So, the analysis engine needs to lookup the policy for a given
</I>&gt;<i> &gt;&gt; detection point id.
</I>&gt;<i> &gt;&gt; - If you have distinct detection point ids (ie. a naming convention
</I>&gt;<i> setup by
</I>&gt;<i> &gt;&gt; the user as you mentioned above), no problem.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I think this is what I meant yes. So as long as the IDs are unique,
</I>&gt;<i> &gt; AppSensor WS doesn't care.  I've added some text about ID uniqueness
</I>&gt;<i> &gt; to the guide.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &quot;WEB05-WEBSHOP-IE1-1012&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; - If you mean supporting different policies for the same detection
</I>&gt;<i> point id
</I>&gt;<i> &gt;&gt; on different applications, I would just recommend using 2 different
</I>&gt;<i> analysis
</I>&gt;<i> &gt;&gt; engines, then have a reporting interface that prefixes the client
</I>&gt;<i> &gt;&gt; application to the detection point for presentation.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Noted.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Colin
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; On Tue, Mar 25, 2014 at 12:47 PM, Colin Watson &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">colin.watson at owasp.org</A>&gt;
</I>&gt;<i> &gt;&gt; wrote:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; John et al
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; On the topic of events and JSON.... would it be useful if the
</I>&gt;<i> &gt;&gt;&gt; detection point ID were unique per application/host? I am just trying
</I>&gt;<i> &gt;&gt;&gt; to write up what someone might do if they sent events somewhere else
</I>&gt;<i> &gt;&gt;&gt; using Common Event Format.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; A centralised system might want to know that RE4 on the corporate
</I>&gt;<i> &gt;&gt;&gt; website is different to RE4 on the customer extranet or RE4 on the
</I>&gt;<i> &gt;&gt;&gt; supplier extranet.  Not sure if it matters too much in the
</I>&gt;<i> &gt;&gt;&gt; demonstration implementation, but might be nice not to rule it out?
</I>&gt;<i> &gt;&gt;&gt; And in my experience some applications have multiple instances of
</I>&gt;<i> &gt;&gt;&gt; detection point types (RE1, RE2, RE3, IE4 etc). I don't want to
</I>&gt;<i> &gt;&gt;&gt; complicate anything too much though.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &quot;SOME_HOST_ID&quot;-&quot;SOME_APP_ID&quot;-&quot;SOME_APP_VERSION&quot;-&quot;SOME_DETECTION_POINT_TYPE&quot;-&quot;SOME_DP_ID&quot;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; e.g. WS03-CUSTEXTRANET-3.02-RE3-002
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Maybe this is already possible with AppSensor WS - just a longer
</I>&gt;<i> &gt;&gt;&gt; string for the &quot;SOME_DETECTION_POINT_ID&quot;?
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Colin
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; On 25 March 2014 15:32, Colin Watson &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">colin.watson at owasp.org</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;&gt; &gt; Hi John
</I>&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt; &gt; Thanks for the event JSON. I am writing things for the Guide v2.
</I>&gt;<i> Would
</I>&gt;<i> &gt;&gt;&gt; &gt; you have an example JSON request with that all populated including
</I>&gt;<i> the
</I>&gt;<i> &gt;&gt;&gt; &gt; HTTP headers?
</I>&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt; &gt; If the applications is running on multiple hosts, would it be better
</I>&gt;<i> &gt;&gt;&gt; &gt; to include the host identity in the
</I>&gt;<i> &gt;&gt;&gt; &gt; 'X-Appsensor-Client-Application-Name' header as well?
</I>&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;    X-Appsensor-Client-Application-Name: WidgetCo-Web05
</I>&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt; &gt; Or should we encourage a separate optional header for host?
</I>&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt; &gt; And do you have the same for attacks and responses, which I think are
</I>&gt;<i> &gt;&gt;&gt; &gt; the other exposed services (having had a snoop around the code)?
</I>&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt; &gt; I have forgotten, but are we (you) doing any form of identity
</I>&gt;<i> &gt;&gt;&gt; &gt; authentication or message integrity checking at this stage?Just so
</I>&gt;<i> &gt;&gt;&gt; &gt; that I can allude to such stuff in my draft text.
</I>&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt; &gt; Colin
</I>&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt; &gt; On 17 March 2014 05:25, John Melton &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jtmelton at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; Chetan,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; Replying to this on list since Colin had asked for an example json
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; snippet
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; at one point. A sample JSON string for adding a new event is below.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;
</I>&gt;<i> {&quot;user&quot;:{&quot;username&quot;:&quot;SOME_END_USERNAME&quot;},&quot;detectionPoint&quot;:{&quot;id&quot;:&quot;SOME_DETECTION_POINT_ID&quot;},&quot;timestamp&quot;:
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; SOME_UNIX_TIMESTAMP }
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; The only additional point to note is that you have to make the
</I>&gt;<i> request
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; with
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; an http request header. The default key for that header is
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; 'X-Appsensor-Client-Application-Name' and the value would be the
</I>&gt;<i> name
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; of the
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; client application being used.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; For further info check the addRecord method at
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;
</I>&gt;<i> <A HREF="https://github.com/jtmelton/appsensor/blob/master/sample-apps/simple-dashboard/src/main/webapp/index.jsp">https://github.com/jtmelton/appsensor/blob/master/sample-apps/simple-dashboard/src/main/webapp/index.jsp</A>
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; .
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; Thanks,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; John
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; On Sun, Mar 16, 2014 at 11:40 PM, Chetan Karande
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">chetan.karande at owasp.org</A>&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; wrote:
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt; Great. Thank you  John.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt; On Mar 16, 2014 11:37 PM, &quot;John Melton&quot; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jtmelton at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt; Chetan,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt; Good question. I've been working on the code. I'm actually pushing
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt; some
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt; code right now, then I'll send out a group email with some
</I>&gt;<i> updates. I
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt; haven't pulled out the JSON structure yet, but I'll try to get
</I>&gt;<i> some
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt; basic
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt; examples together and documented and send it to the list in the
</I>&gt;<i> next
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt; couple
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt; days.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt; Thanks,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt; John
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt; On Sun, Mar 16, 2014 at 10:57 PM, Chetan Karande
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">chetan.karande at owasp.org</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; Hi John,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; I was side tracked due to other priorities for a while, and
</I>&gt;<i> wanted
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; to
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; resume working in AppSensor reference implementation in Node.js.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; As per our last conversation, you were going to work on adding a
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; sample
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; app and include minimum required json message structure as part
</I>&gt;<i> the
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; tech
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; documentation. Just wanted to check if you had chance to do any
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; progress on
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; that.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; Thank you.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; Best Regards,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; Chetan Karande
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">chetan.karande at owasp.org</A>
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; OWASP NYC Local Chapter
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; Open Web Application Security Project
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; On Mon, Dec 9, 2013 at 2:42 AM, John Melton &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jtmelton at gmail.com</A>&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt; wrote:
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Chetan,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Awesome to see what you're coming up with.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; With respect to your questions, I responded inline below, but
</I>&gt;<i> also
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; wanted to mention that one task I have for Colin is to give him
</I>&gt;<i> the
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; minimum
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; json structure needed so it can be documented. I'll also put
</I>&gt;<i> that
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; in the
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; tech documentation as well.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Thanks,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; John
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; On Sun, Dec 8, 2013 at 6:07 PM, Chetan Karande
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">chetan.karande at owasp.org</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; Hi John,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; I started exploring the AppSensor code on github and went over
</I>&gt;<i> the
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; AppSensor Guide document. It helped me in getting more idea
</I>&gt;<i> about
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; AppSensor
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; in general. I have a few questions for you specifically about
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; approaching
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; Node.js demonstration implementation. Please answer when you
</I>&gt;<i> get
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; chance:
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; Question 1. As per on our earlier email conversation, I
</I>&gt;<i> explored
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; more
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; on implementing addEvent() and getResponses() methods in
</I>&gt;<i> Node.js
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; app. Based
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; on the AppSensor REST Service code on github, I think the
</I>&gt;<i> service
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; expects
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; client using following endpoints and JSON message structures.
</I>&gt;<i> Can
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; you please
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; confirm if I am on right track, and answer question
</I>&gt;<i> highlighted.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; addEvent() Implementation:
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; ======================
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; Invoke REST Endpoint: /api/v1.0/events
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; Sample Event JSON Object to be sent from the Node.js  App:
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; {
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; user: {
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; username: &quot;&quot;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; ipAddress: &quot;&quot;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; },
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; detectionPoint : {  // ??? Does Node.js client need to populate
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; this
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; object? If yes, what goes in responses, how to decide
</I>&gt;<i> threshold?
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; All that is needed in the detectionPoint object field is the
</I>&gt;<i> &quot;id&quot;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; field. The rest is found server-side.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; id: &quot;&quot;,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; threshold: &quot;&quot;,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; responses: []
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; },
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; timestamp: &quot;&quot;,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; detectionSystemId: &quot;&quot;,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; resource: &quot;&quot;,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; eventType: &quot;&quot;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; }
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; getResponses() Implementation:
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; =========================
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; Poll REST EndPoint URL: /api/v1.0/responses
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; Expected Response object from AppSensor REST service:
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; {
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; id: &quot;&quot;,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; threshold: &quot;&quot;,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; responses: [
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; {
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; user: {
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; username: &quot;&quot;,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; ipAddress: &quot;&quot;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; },
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; action: &quot;&quot;,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; detectionPoint: {}, //???. It contains responses array again.
</I>&gt;<i> What
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; to
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; expect in it?
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; The detection point really shouldn't be part of the response -
</I>&gt;<i> I'll
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; try
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; to remove this from being serialized.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; timestamp: &quot;&quot;,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; detectionSystemId: &quot;&quot;,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; interval : {
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; duration: &quot;&quot;,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; unit: 0 //number
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; }
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; },
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; {
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; //another response
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; }
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; ]
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; }
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; 2. In case multiple responses received as result of invoking
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; getResponses(), does order in which actions are performed
</I>&gt;<i> matter?
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Good question that I don't think has been considered before. It
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; shouldn't in our case in the reference implementation (unless we
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; add some
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; new features), but the timestamp is available, so it's likely
</I>&gt;<i> best
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; practice
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; to execute them in order. I'll add this point to the
</I>&gt;<i> documentation.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; 3. Can I set AppSensor REST Server on my machine and use it for
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; testing Node.js demo implementation? If so, can you please
</I>&gt;<i> provide
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; me steps
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; to set it up.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Yep, but there's not a project setup to do it yet. I'll try to
</I>&gt;<i> add
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; a
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; sample app for that soon. If you'd like to use it before I get
</I>&gt;<i> that
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; done,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; have a look at the appsensor-ws-rest-server project and the
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; RestRequestHandlerTest class. There is a helper method at the
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; bottom of the
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; class (startServer) that runs the service on grizzly. You can
</I>&gt;<i> call
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; that in a
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; main method to get a small simple server going for testing.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; Just to share, I am exploring to retrofit ghost, an open-source
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; Node.js based blogging platform for AppSensor demonstration
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; implementation.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; I am working on getting familiar with its code and identify
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; detection
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; points.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; That's an awesome project. Adding security to existing popular
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; platforms has been a goal for OWASP for some time - nice to see
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; progress
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; here.
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; Best Regards,
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; Chetan Karande
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">chetan.karande at owasp.org</A>
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; OWASP NYC Local Chapter
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; Open Web Application Security Project
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; Owasp-appsensor-project mailing list
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">Owasp-appsensor-project at lists.owasp.org</A>
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project</A>
</I>&gt;<i> &gt;&gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-appsensor-project/attachments/20140401/04733013/attachment-0001.html">http://lists.owasp.org/pipermail/owasp-appsensor-project/attachments/20140401/04733013/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000708.html">[Owasp-appsensor-project] AppSensor API Questions (Node.js Demonstration Implementation)
</A></li>
	<LI>Next message: <A HREF="000710.html">[Owasp-appsensor-project] AppSensor Guide v2 - Update and forward plan
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#709">[ date ]</a>
              <a href="thread.html#709">[ thread ]</a>
              <a href="subject.html#709">[ subject ]</a>
              <a href="author.html#709">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">More information about the Owasp-appsensor-project
mailing list</a><br>
</body></html>
