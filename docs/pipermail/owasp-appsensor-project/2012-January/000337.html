<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-appsensor-project] Log in problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-appsensor-project%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-appsensor-project%5D%20Log%20in%20problem&In-Reply-To=%3CCAM8z%3DyJgsuxvgfnWq9DazFY6r7kOiP9T-4W%2BRK3M6SSJ88ZuvQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000336.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-appsensor-project] Log in problem</H1>
    <B>John Melton</B> 
    <A HREF="mailto:owasp-appsensor-project%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-appsensor-project%5D%20Log%20in%20problem&In-Reply-To=%3CCAM8z%3DyJgsuxvgfnWq9DazFY6r7kOiP9T-4W%2BRK3M6SSJ88ZuvQ%40mail.gmail.com%3E"
       TITLE="[Owasp-appsensor-project] Log in problem">jtmelton at gmail.com
       </A><BR>
    <I>Tue Jan 31 23:26:27 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000336.html">[Owasp-appsensor-project] Log in problem
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#337">[ date ]</a>
              <a href="thread.html#337">[ thread ]</a>
              <a href="subject.html#337">[ subject ]</a>
              <a href="author.html#337">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Based on the exception, you are trying to login with a disabled user
which isn't allowed. There might be a couple causes. Either the user
might be disabled to start with (try adding x.enable() after getting
the user, but before login ... or you might be doing something &quot;bad&quot;
and appsensor is disabling the user. It's tough to know, but based on
your code, I'd think the first one. Try enabling the user before
login.

Thanks,
John

On Tue, Jan 31, 2012 at 5:41 PM, Emmanouil Prekas &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">grad1107 at di.uoa.gr</A>&gt; wrote:
&gt;<i> I am trying to run this command
</I>&gt;<i>
</I>&gt;<i> User x=ESAPI.authenticator().getUser(&quot;bob666&quot;);
</I>&gt;<i> //ESAPI.authenticator().setCurrentUser(x);
</I>&gt;<i> try
</I>&gt;<i> {
</I>&gt;<i> ec.addElement(new P().addElement(&quot;Trying to log in the user:
</I>&gt;<i> &quot;+x.getAccountName()));
</I>&gt;<i> x.loginWithPassword(&quot;lalala123&quot;);
</I>&gt;<i> System.out.println(&quot;\n\nSuccess login &quot;);
</I>&gt;<i> //chain.doFilter(s.getRequest(), s.getResponse());
</I>&gt;<i> }
</I>&gt;<i> catch (AuthenticationException e)
</I>&gt;<i> {
</I>&gt;<i> System.out.println(&quot;\n\nFail to log in user: &quot;+e.getLocalizedMessage());
</I>&gt;<i> ec.addElement(new P().addElement(&quot;Fail to log in user:&quot;+e.getMessage()));
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> but i have this exception error
</I>&gt;<i>
</I>&gt;<i> WARN &#160;AppSensorIntrusionDetector - [SECURITY FAILURE
</I>&gt;<i> Anonymous:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">723077 at unknown</A> -&gt;
</I>&gt;<i> 127.0.0.1:80/ExampleApplication/AppSensorIntrusionDetector] Disabled user
</I>&gt;<i> attempt to login: bob666
</I>&gt;<i> org.owasp.esapi.errors.AuthenticationLoginException: Login failed
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.owasp.esapi.reference.DefaultUser.loginWithPassword(DefaultUser.java:397)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.owasp.webgoat.lessons.BlindSqlInjection.createContent(BlindSqlInjection.java:155)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.owasp.webgoat.lessons.AbstractLesson.handleRequest(AbstractLesson.java:755)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.owasp.webgoat.lessons.BlindSqlInjection.handleRequest(BlindSqlInjection.java:363)
</I>&gt;<i> &#160; &#160; &#160; &#160;at org.owasp.webgoat.HammerHead.makeScreen(HammerHead.java:324)
</I>&gt;<i> &#160; &#160; &#160; &#160;at org.owasp.webgoat.HammerHead.doPost(HammerHead.java:146)
</I>&gt;<i> &#160; &#160; &#160; &#160;at org.owasp.webgoat.HammerHead.doGet(HammerHead.java:105)
</I>&gt;<i> &#160; &#160; &#160; &#160;at javax.servlet.http.HttpServlet.service(HttpServlet.java:689)
</I>&gt;<i> &#160; &#160; &#160; &#160;at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:825)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:731)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:526)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
</I>&gt;<i> &#160; &#160; &#160; &#160;at
</I>&gt;<i> org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
</I>&gt;<i> &#160; &#160; &#160; &#160;at java.lang.Thread.run(Thread.java:619)
</I>&gt;<i> INFO &#160;AppSensorIntrusionDetector - [SECURITY FAILURE
</I>&gt;<i> Anonymous:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">723077 at unknown</A> -&gt;
</I>&gt;<i> 127.0.0.1:80/ExampleApplication/AppSensorIntrusionDetector] Checking for
</I>&gt;<i> user violation: EventCode: Total, Threshold: Total, Allowed Limit: 10,
</I>&gt;<i> Total Events Recorded: 1
</I>&gt;<i> DEBUG AppSensorIntrusionDetector - [SECURITY FAILURE
</I>&gt;<i> Anonymous:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">723077 at unknown</A> -&gt;
</I>&gt;<i> 127.0.0.1:80/ExampleApplication/AppSensorIntrusionDetector] Total Overall
</I>&gt;<i> Events Qualifying 1
</I>&gt;<i> DEBUG AppSensorIntrusionDetector - [SECURITY FAILURE
</I>&gt;<i> Anonymous:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">723077 at unknown</A> -&gt;
</I>&gt;<i> 127.0.0.1:80/ExampleApplication/AppSensorIntrusionDetector] Total Events
</I>&gt;<i> Qualifying For Threshold 1
</I>&gt;<i> INFO &#160;AppSensorIntrusionDetector - [SECURITY FAILURE
</I>&gt;<i> Anonymous:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">723077 at unknown</A> -&gt;
</I>&gt;<i> 127.0.0.1:80/ExampleApplication/AppSensorIntrusionDetector] No Violation
</I>&gt;<i> for id &lt;0&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Fail to log in user: Login failed
</I>&gt;<i>
</I>&gt;<i> any reason why i have this error?
</I>&gt;<i> Thank you very much M.P.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-appsensor-project mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">Owasp-appsensor-project at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project</A>
</I></PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000336.html">[Owasp-appsensor-project] Log in problem
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#337">[ date ]</a>
              <a href="thread.html#337">[ thread ]</a>
              <a href="subject.html#337">[ subject ]</a>
              <a href="author.html#337">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">More information about the Owasp-appsensor-project
mailing list</a><br>
</body></html>
