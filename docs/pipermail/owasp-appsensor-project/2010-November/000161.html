<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-appsensor-project] Fwd: AppSensor &amp; ESAPI
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-appsensor-project%40lists.owasp.org?Subject=%5BOwasp-appsensor-project%5D%20Fwd%3A%20AppSensor%20%26%20ESAPI&In-Reply-To=4CCF61EE.40503%40owasp.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000160.html">
   <LINK REL="Next"  HREF="000162.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-appsensor-project] Fwd: AppSensor &amp; ESAPI</H1>
    <B>John Melton</B> 
    <A HREF="mailto:owasp-appsensor-project%40lists.owasp.org?Subject=%5BOwasp-appsensor-project%5D%20Fwd%3A%20AppSensor%20%26%20ESAPI&In-Reply-To=4CCF61EE.40503%40owasp.org"
       TITLE="[Owasp-appsensor-project] Fwd: AppSensor &amp; ESAPI">jtmelton at gmail.com
       </A><BR>
    <I>Mon Nov  1 22:31:15 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000160.html">[Owasp-appsensor-project] Fwd: AppSensor &amp; ESAPI
</A></li>
        <LI>Next message: <A HREF="000162.html">[Owasp-appsensor-project] Fwd: AppSensor &amp; ESAPI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#161">[ date ]</a>
              <a href="thread.html#161">[ thread ]</a>
              <a href="subject.html#161">[ subject ]</a>
              <a href="author.html#161">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jim,
&gt;<i>From my perspective, it should be pretty easy.  If you had a webapp w/ esapi
</I>and wanted to add appsensor, here are the steps as of the current release.
1. get appsensor jar and add to project
2. modify esapi.properties file to point to appsensor intrusion detector
instead of default
3. add appsensor.properties file
... and ...
4. modify your code and/or the properties files to add new detection points
and their associated threshold configurations (this step is optional,
technically)

If you want to add appsensor to a project that's not using esapi, you'd have
a couple extra steps, but it's still possible.
Thanks,
John

On Mon, Nov 1, 2010 at 8:57 PM, Jim Manico &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jim.manico at owasp.org</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> John and August,
</I>&gt;<i>
</I>&gt;<i> My goal is to make it easy for ESAPI users to enable AppSensor as an
</I>&gt;<i> IntrusionDetection option when using ESAPI. I'm open to any possibility to
</I>&gt;<i> make that happen....
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; Or do you mean to simply make it the default intrusion detector in
</I>&gt;<i> ESAPI.properties? In that case you risk adding a whole bunch of new
</I>&gt;<i> dependencies -I thought we were trying to keep those down...
</I>&gt;<i>
</I>&gt;<i> Well, maybe not default -  but an *option *as the ESAPI intrusion
</I>&gt;<i> detector. AppSensor is absolutely perfect for ESAPI intrusion detection -
</I>&gt;<i> but we have a circular dependency issue...
</I>&gt;<i>
</I>&gt;<i> So let me just ask, you all know how ESAPI's IntrusionDetector works - how
</I>&gt;<i> tough is it going to be to make AppSensor an option, or are we already very
</I>&gt;<i> close to being there? It sounds like you have done much of the work already
</I>&gt;<i> (*use the logger through an adapter *use the authenticator through an
</I>&gt;<i> adapter) so I'm hoping this might be a lot simpler than I think it will
</I>&gt;<i> be....
</I>&gt;<i>
</I>&gt;<i> And I'm sorry I'm a bit distracted and on vacation - I'll dig into the code
</I>&gt;<i> much deeper starting this Monday.
</I>&gt;<i>
</I>&gt;<i> - Jim
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Jim are you talking about pulling the AppSensor codebase directly within
</I>&gt;<i> ESAPI? In that case you would definitely want to use the same log factory as
</I>&gt;<i> configured in ESAPI.properties.
</I>&gt;<i>
</I>&gt;<i> Or do you mean to simply make it the default intrusion detector in
</I>&gt;<i> ESAPI.properties? In that case you risk adding a whole bunch of new
</I>&gt;<i> dependencies -I thought we were trying to keep those down...
</I>&gt;<i>
</I>&gt;<i> -August
</I>&gt;<i>
</I>&gt;<i> Sent via BlackBerry by AT&amp;T
</I>&gt;<i> *From: * John Melton &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jtmelton at gmail.com</A>&gt; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jtmelton at gmail.com</A>&gt;
</I>&gt;<i> *Date: *Mon, 1 Nov 2010 13:08:32 -0400
</I>&gt;<i> *To: *Jim Manico&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jim.manico at owasp.org</A>&gt; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jim.manico at owasp.org</A>&gt;
</I>&gt;<i> *Cc: *Michael Coates&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">michael.coates at owasp.org</A>&gt; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">michael.coates at owasp.org</A>&gt;;
</I>&gt;<i> Kevin W. Wall&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">kevin.w.wall at gmail.com</A>&gt; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">kevin.w.wall at gmail.com</A>&gt;;
</I>&gt;<i> owasp-appsensor-project&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">owasp-appsensor-project at lists.owasp.org</A>&gt;&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">owasp-appsensor-project at lists.owasp.org</A>&gt;;
</I>&gt;<i> August Detlefsen&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">augustd at codemagi.com</A>&gt; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">augustd at codemagi.com</A>&gt;; Chris
</I>&gt;<i> Schmidt&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">chrisisbeef at gmail.com</A>&gt; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">chrisisbeef at gmail.com</A>&gt;;
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">Jeff.Williams at aspectsecurity.com</A>&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jeff.williams at aspectsecurity.com</A>&gt;&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jeff.williams at aspectsecurity.com</A>&gt;
</I>&gt;<i> *Subject: *Re: [Owasp-appsensor-project] Fwd: AppSensor &amp; ESAPI
</I>&gt;<i>
</I>&gt;<i>  Jim,
</I>&gt;<i> Not sure I agree with #1 - not sure why we need to stop using ESAPI.  I'm
</I>&gt;<i> not sure how maven deals w/ circular dependencies, but ESAPI's interaction
</I>&gt;<i> w/ appsensor for the most part would be through the intrusion detector
</I>&gt;<i> mechanism ... ESAPI.intrusionDetector().addException(this), which is already
</I>&gt;<i> implemented in the EnterpriseSecurityException constructor and maybe 1 or 2
</I>&gt;<i> other exceptions.  I admit, though, I'm not sure how maven deals w/ the
</I>&gt;<i> dependencies so that could certainly be an issue - any maven experts can you
</I>&gt;<i> chime in?
</I>&gt;<i>
</I>&gt;<i> We do use a few of the esapi classes.
</I>&gt;<i> - IntrusionDetector interface
</I>&gt;<i> - SecurityConfiguration class
</I>&gt;<i> - I think we might use the StringUtilities in a place or 2, but we could
</I>&gt;<i> remove these if need be
</I>&gt;<i> - use the logger through an adapter
</I>&gt;<i> - use the authenticator through an adapter.
</I>&gt;<i>
</I>&gt;<i> We've planned ahead for integration w/ ESAPI or w/ other frameworks.  In
</I>&gt;<i> the current incarnation of AppSensor, we do depend on ESAPI, but you don't
</I>&gt;<i> have to *use* ESAPI.  You can use a different mechanism for all the
</I>&gt;<i> controls that ESAPI would normally cover, but if you use AppSensor, we're
</I>&gt;<i> still gonna use some ESAPI code behind the scenes.  Having said that, our
</I>&gt;<i> only implementations for certain pieces are written for ESAPI integration
</I>&gt;<i> (logger/authenticator), but an app could easily implement their own.
</I>&gt;<i>
</I>&gt;<i> I'm also curious about what &quot;ESAPI can build a AppSensor implementation&quot;
</I>&gt;<i> means from your perspective?  Are you saying ...
</I>&gt;<i> 1. use our code, and implement your own detection points and threshold
</I>&gt;<i> configurations
</I>&gt;<i> 2. implement your own ground-up code/detection/response engine, as well as
</I>&gt;<i> the detection points and threshold configs -or-
</I>&gt;<i> 3. something else
</I>&gt;<i> ?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> John
</I>&gt;<i>
</I>&gt;<i> On Mon, Nov 1, 2010 at 2:58 AM, Jim Manico &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jim.manico at owasp.org</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>  I'd like to include AppSensor as the default intrusion detector for ESAPI
</I>&gt;<i> via maven integration. It's way more powerful that our WAF. But the two do
</I>&gt;<i> not complete, they are complimentary.
</I>&gt;<i>
</I>&gt;<i> I think we also want AppSensor to use the ESAPI logging methodology if we
</I>&gt;<i> choose. This is difficult, and a little out of my league. (Circular
</I>&gt;<i> dependency injection?).
</I>&gt;<i>
</I>&gt;<i> So I think...
</I>&gt;<i>
</I>&gt;<i> 1) AppSensor first stops using ESAPI...
</I>&gt;<i> 2) AppSensor provides a pluggable logging mechanism so we can still force
</I>&gt;<i> it to use ESAPI logging...
</I>&gt;<i> 3) THEN ESAPI can build a AppSensor implementation and include it in the
</I>&gt;<i> project
</I>&gt;<i>
</I>&gt;<i> Does this make sense? Any thoughts Chris/August - I know you both have a
</I>&gt;<i> lot more experience with this kind of integration.
</I>&gt;<i>
</I>&gt;<i> - Jim
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Kevin,
</I>&gt;<i> Hi, Glad you are considering AppSensor.  I attempted answers inline - if
</I>&gt;<i> you have further questions, let me know.
</I>&gt;<i> Thanks,
</I>&gt;<i> John
</I>&gt;<i>
</I>&gt;<i> On Sun, Oct 31, 2010 at 1:23 PM, Michael Coates &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">michael.coates at owasp.org</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;<i>  Forwarding to AppSensor mailing list.  I think John will have the most
</I>&gt;<i> current info for several of these questions.
</I>&gt;<i>
</I>&gt;<i> But, we do need to get the appsensor.jar as a feature download.  We don't
</I>&gt;<i> want people to build from scratch if they don't want to.
</I>&gt;<i>
</I>&gt;<i> -------- Original Message --------  Subject: AppSensor &amp; ESAPI  Date: Sun,
</I>&gt;<i> 31 Oct 2010 09:37:31 -0400  From: Kevin W. Wall &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">kevin.w.wall at gmail.com</A>&gt;&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">kevin.w.wall at gmail.com</A>&gt;  Organization:
</I>&gt;<i> Qwest IT - Application Security Team  To: Michael Coates
</I>&gt;<i> &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">michael.coates at owasp.org</A>&gt; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">michael.coates at owasp.org</A>&gt;
</I>&gt;<i>
</I>&gt;<i> Michael,
</I>&gt;<i>
</I>&gt;<i> I just watched your AppSec USA 2010 video presentation about AppSensor &amp; ESAPI
</I>&gt;<i> yesterday. (Thanks for the credit as contributor BTW. Totally unexpected.)
</I>&gt;<i>
</I>&gt;<i> In it, you mentioned that it was planned to have appsensor.jar bundled with
</I>&gt;<i> ESAPI as of ESAPI 2.0rc8. Since I don't see it in ESAPI even in 2.0rc10,
</I>&gt;<i> I'm guessing that there was a delay for some reason.
</I>&gt;<i>
</I>&gt;<i>  I copied Jim on this email b/c he was discussing this with us.  I
</I>&gt;<i> personally am not sure what's required on the ESAPI side to get AppSensor
</I>&gt;<i> bundled. I can say AppSensor depends on ESAPI in some of it's code (ESAPI is
</I>&gt;<i> a maven dependency of AppSensor).  I would be happy to do whatever I can to
</I>&gt;<i> get it included in the bundle.  Jim, any thoughts?
</I>&gt;<i>
</I>&gt;<i>  So then I go to look for the AppSensor tutorial and the AppSensor jar file
</I>&gt;<i> at the AppSensor Google Code site and I don't find either. (The tutorial is
</I>&gt;<i> under '/' of the trunk under the svn/trunk though, so I did get it.) But
</I>&gt;<i> surprisingly (to me, at least) was the fact that I could not find appsensor.jar
</I>&gt;<i> anywhere under the featured or previous Downloads. (Do you expect people to
</I>&gt;<i> build it from scratch?)
</I>&gt;<i>
</I>&gt;<i>  Right now, there are 3 ways to get the jar, and I agree this should be
</I>&gt;<i> reorganized ... we all admit documentation is our next hurdle.  The first is
</I>&gt;<i> to build from scratch as you mentioned, unpalatable to most.  The second is
</I>&gt;<i> to grab the jar from the link on
</I>&gt;<i> <A HREF="http://www.owasp.org/index.php/AppSensor_Developer_Guide.">http://www.owasp.org/index.php/AppSensor_Developer_Guide.</A>  The third is to
</I>&gt;<i> add it as a maven dependency - AppSensor is in Maven central (same as ESAPI
</I>&gt;<i> as of 2.0RC10.  We really do need to move towards producing a deliverable
</I>&gt;<i> similar to ESAPI that is a zip w/ the jar/dependencies/javadoc/config files,
</I>&gt;<i> etc. in a zip or something like that, but we're not there yet.
</I>&gt;<i>
</I>&gt;<i>  Anyway, the reason that I am bringing this up is that I am about ready to
</I>&gt;<i> start working on the ESAPI crypto for the 2.1 branch and I see many places
</I>&gt;<i> where I'd like to wire-in AppSensor detection points into either JavaEncryptor
</I>&gt;<i> or perhaps even EncryptionException. If AppSensor was truly bundled as part of
</I>&gt;<i> ESAPI that would be fairly easy to do. OTOH, if it is not, I may need to
</I>&gt;<i> rethink this because I don't want to create yet another dependency on an
</I>&gt;<i> external class library. (ESAPI already has something like 30+ jars that it
</I>&gt;<i> is dependent upon.)
</I>&gt;<i>
</I>&gt;<i>  Glad you're thinking of going this way, again, I'd need to talk to Jim
</I>&gt;<i> about bundling.
</I>&gt;<i>
</I>&gt;<i>  Lastly, from your AppSec USA 2010 video, I recall you stating that that the
</I>&gt;<i> way that AppSensor would be enabled in ESAPI would be to set
</I>&gt;<i>
</I>&gt;<i> ESAPI.IntrusionDetector=org.owasp.appsensor.intrusiondetection.AppSensorIntrusionDetector
</I>&gt;<i>
</I>&gt;<i> in the ESAPI.properties file. However, I also vaguely recall discussion
</I>&gt;<i> as to how that property should not be used as that would disable
</I>&gt;<i> ESAPI's built-in WAF and I thought that I remember Jeff Williams arguing that
</I>&gt;<i> AppSensor and the ESAPI WAF were_complimentary_ rather than_competing_
</I>&gt;<i> technologies so therefore they should use different properties in ESAPI.
</I>&gt;<i> Anyway, I am not sure that this has been resolved or not, so would appreciate
</I>&gt;<i> an update in this area as well.
</I>&gt;<i>
</I>&gt;<i>  This will probably have to be cleared up with Jeff and/or Jim.  I haven't
</I>&gt;<i> seen anything in the intrusion detector code that says anything about the
</I>&gt;<i> WAF, but I could be wrong.  I agree with Jeff's core point, but if that
</I>&gt;<i> configuration is true, then I think the current setup is confusing.  The WAF
</I>&gt;<i> should have separate configuration.  I wouldn't necessarily hook the WAF
</I>&gt;<i> into the intrusion detection config, since some folks would want to use one
</I>&gt;<i> or the other.
</I>&gt;<i> Also wanted to point out that in addition to changing that 1-line config,
</I>&gt;<i> you do need to add the appsensor.properties file (goes in the same folder as
</I>&gt;<i> the esapi.properties), and make sure the config is right there.  That config
</I>&gt;<i> file is in svn.
</I>&gt;<i>
</I>&gt;<i>  Thanks,
</I>&gt;<i> -kevin
</I>&gt;<i> P.S.- If you wish to reply to the OWASP-AppSensor-Project mailing list, that's
</I>&gt;<i>       fine as I subscribe to that. Just wasn't sure if this was to appropriate
</I>&gt;<i>       to ask this there as I'm not sure if that's a developers list or a users
</I>&gt;<i>       list.
</I>&gt;<i> --
</I>&gt;<i> Kevin W. Wall
</I>&gt;<i> &quot;The most likely way for the world to be destroyed, most experts agree,
</I>&gt;<i> is by accident. That's where we come in; we're computer professionals.
</I>&gt;<i> We cause accidents.&quot;        -- Nathaniel Borenstein, co-creator of MIME
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-appsensor-project mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">Owasp-appsensor-project at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.owasp.org/pipermail/owasp-appsensor-project/attachments/20101101/602fe105/attachment-0001.html">https://lists.owasp.org/pipermail/owasp-appsensor-project/attachments/20101101/602fe105/attachment-0001.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000160.html">[Owasp-appsensor-project] Fwd: AppSensor &amp; ESAPI
</A></li>
	<LI>Next message: <A HREF="000162.html">[Owasp-appsensor-project] Fwd: AppSensor &amp; ESAPI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#161">[ date ]</a>
              <a href="thread.html#161">[ thread ]</a>
              <a href="subject.html#161">[ subject ]</a>
              <a href="author.html#161">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">More information about the Owasp-appsensor-project
mailing list</a><br>
</body></html>
