<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-appsensor-project] Fwd: AppSensor &amp; ESAPI
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-appsensor-project%40lists.owasp.org?Subject=%5BOwasp-appsensor-project%5D%20Fwd%3A%20AppSensor%20%26%20ESAPI&In-Reply-To=1043295925-1288658616-cardhu_decombobulator_blackberry.rim.net-642151923-%40bda649.bisx.prod.on.blackberry">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000164.html">
   <LINK REL="Next"  HREF="000161.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-appsensor-project] Fwd: AppSensor &amp; ESAPI</H1>
    <B>Jim Manico</B> 
    <A HREF="mailto:owasp-appsensor-project%40lists.owasp.org?Subject=%5BOwasp-appsensor-project%5D%20Fwd%3A%20AppSensor%20%26%20ESAPI&In-Reply-To=1043295925-1288658616-cardhu_decombobulator_blackberry.rim.net-642151923-%40bda649.bisx.prod.on.blackberry"
       TITLE="[Owasp-appsensor-project] Fwd: AppSensor &amp; ESAPI">jim.manico at owasp.org
       </A><BR>
    <I>Mon Nov  1 20:57:18 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000164.html">[Owasp-appsensor-project] New Unexpected Type/Quantity	Detection Points
</A></li>
        <LI>Next message: <A HREF="000161.html">[Owasp-appsensor-project] Fwd: AppSensor &amp; ESAPI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#160">[ date ]</a>
              <a href="thread.html#160">[ thread ]</a>
              <a href="subject.html#160">[ subject ]</a>
              <a href="author.html#160">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
John and August,

My goal is to make it easy for ESAPI users to enable AppSensor as an 
IntrusionDetection option when using ESAPI. I'm open to any possibility 
to make that happen....

 &gt; Or do you mean to simply make it the default intrusion detector in 
ESAPI.properties? In that case you risk adding a whole bunch of new 
dependencies -I thought we were trying to keep those down...

Well, maybe not default -  but an /option /as the ESAPI intrusion 
detector. AppSensor is absolutely perfect for ESAPI intrusion detection 
- but we have a circular dependency issue...

So let me just ask, you all know how ESAPI's IntrusionDetector works - 
how tough is it going to be to make AppSensor an option, or are we 
already very close to being there? It sounds like you have done much of 
the work already (*use the logger through an adapter *use the 
authenticator through an adapter) so I'm hoping this might be a lot 
simpler than I think it will be....

And I'm sorry I'm a bit distracted and on vacation - I'll dig into the 
code much deeper starting this Monday.

- Jim




&gt;<i> Jim are you talking about pulling the AppSensor codebase directly 
</I>&gt;<i> within ESAPI? In that case you would definitely want to use the same 
</I>&gt;<i> log factory as configured in ESAPI.properties.
</I>&gt;<i>
</I>&gt;<i> Or do you mean to simply make it the default intrusion detector in 
</I>&gt;<i> ESAPI.properties? In that case you risk adding a whole bunch of new 
</I>&gt;<i> dependencies -I thought we were trying to keep those down...
</I>&gt;<i>
</I>&gt;<i> -August
</I>&gt;<i>
</I>&gt;<i> Sent via BlackBerry by AT&amp;T
</I>&gt;<i>
</I>&gt;<i> *From: * John Melton &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jtmelton at gmail.com</A>&gt;
</I>&gt;<i> *Date: *Mon, 1 Nov 2010 13:08:32 -0400
</I>&gt;<i> *To: *Jim Manico&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jim.manico at owasp.org</A>&gt;
</I>&gt;<i> *Cc: *Michael Coates&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">michael.coates at owasp.org</A>&gt;; Kevin W. 
</I>&gt;<i> Wall&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">kevin.w.wall at gmail.com</A>&gt;; 
</I>&gt;<i> owasp-appsensor-project&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">owasp-appsensor-project at lists.owasp.org</A>&gt;; 
</I>&gt;<i> August Detlefsen&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">augustd at codemagi.com</A>&gt;; Chris 
</I>&gt;<i> Schmidt&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">chrisisbeef at gmail.com</A>&gt;; 
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">Jeff.Williams at aspectsecurity.com</A>&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jeff.williams at aspectsecurity.com</A>&gt;
</I>&gt;<i> *Subject: *Re: [Owasp-appsensor-project] Fwd: AppSensor &amp; ESAPI
</I>&gt;<i>
</I>&gt;<i> Jim,
</I>&gt;<i> Not sure I agree with #1 - not sure why we need to stop using ESAPI.  
</I>&gt;<i> I'm not sure how maven deals w/ circular dependencies, but ESAPI's 
</I>&gt;<i> interaction w/ appsensor for the most part would be through the 
</I>&gt;<i> intrusion detector mechanism ... 
</I>&gt;<i> ESAPI.intrusionDetector().addException(this), which is already 
</I>&gt;<i> implemented in the EnterpriseSecurityException constructor and maybe 1 
</I>&gt;<i> or 2 other exceptions.  I admit, though, I'm not sure how maven deals 
</I>&gt;<i> w/ the dependencies so that could certainly be an issue - any maven 
</I>&gt;<i> experts can you chime in?
</I>&gt;<i>
</I>&gt;<i> We do use a few of the esapi classes.
</I>&gt;<i> - IntrusionDetector interface
</I>&gt;<i> - SecurityConfiguration class
</I>&gt;<i> - I think we might use the StringUtilities in a place or 2, but we 
</I>&gt;<i> could remove these if need be
</I>&gt;<i> - use the logger through an adapter
</I>&gt;<i> - use the authenticator through an adapter.
</I>&gt;<i>
</I>&gt;<i> We've planned ahead for integration w/ ESAPI or w/ other frameworks.  
</I>&gt;<i> In the current incarnation of AppSensor, we do depend on ESAPI, but 
</I>&gt;<i> you don't have to *use* ESAPI.  You can use a different mechanism for 
</I>&gt;<i> all the controls that ESAPI would normally cover, but if you use 
</I>&gt;<i> AppSensor, we're still gonna use some ESAPI code behind the scenes.  
</I>&gt;<i> Having said that, our only implementations for certain pieces are 
</I>&gt;<i> written for ESAPI integration (logger/authenticator), but an app could 
</I>&gt;<i> easily implement their own.
</I>&gt;<i>
</I>&gt;<i> I'm also curious about what &quot;ESAPI can build a AppSensor 
</I>&gt;<i> implementation&quot; means from your perspective?  Are you saying ...
</I>&gt;<i> 1. use our code, and implement your own detection points and threshold 
</I>&gt;<i> configurations
</I>&gt;<i> 2. implement your own ground-up code/detection/response engine, as 
</I>&gt;<i> well as the detection points and threshold configs -or-
</I>&gt;<i> 3. something else
</I>&gt;<i> ?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> John
</I>&gt;<i>
</I>&gt;<i> On Mon, Nov 1, 2010 at 2:58 AM, Jim Manico &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jim.manico at owasp.org</A> 
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">jim.manico at owasp.org</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     I'd like to include AppSensor as the default intrusion detector
</I>&gt;<i>     for ESAPI via maven integration. It's way more powerful that our
</I>&gt;<i>     WAF. But the two do not complete, they are complimentary.
</I>&gt;<i>
</I>&gt;<i>     I think we also want AppSensor to use the ESAPI logging
</I>&gt;<i>     methodology if we choose. This is difficult, and a little out of
</I>&gt;<i>     my league. (Circular dependency injection?).
</I>&gt;<i>
</I>&gt;<i>     So I think...
</I>&gt;<i>
</I>&gt;<i>     1) AppSensor first stops using ESAPI...
</I>&gt;<i>     2) AppSensor provides a pluggable logging mechanism so we can
</I>&gt;<i>     still force it to use ESAPI logging...
</I>&gt;<i>     3) THEN ESAPI can build a AppSensor implementation and include it
</I>&gt;<i>     in the project
</I>&gt;<i>
</I>&gt;<i>     Does this make sense? Any thoughts Chris/August - I know you both
</I>&gt;<i>     have a lot more experience with this kind of integration.
</I>&gt;<i>
</I>&gt;<i>     - Jim
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>     Kevin,
</I>&gt;&gt;<i>     Hi, Glad you are considering AppSensor.  I attempted answers
</I>&gt;&gt;<i>     inline - if you have further questions, let me know.
</I>&gt;&gt;<i>     Thanks,
</I>&gt;&gt;<i>     John
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     On Sun, Oct 31, 2010 at 1:23 PM, Michael Coates
</I>&gt;&gt;<i>     &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">michael.coates at owasp.org</A> &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">michael.coates at owasp.org</A>&gt;&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         Forwarding to AppSensor mailing list.  I think John will have
</I>&gt;&gt;<i>         the most current info for several of these questions.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         But, we do need to get the appsensor.jar as a feature
</I>&gt;&gt;<i>         download.  We don't want people to build from scratch if they
</I>&gt;&gt;<i>         don't want to.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         -------- Original Message --------
</I>&gt;&gt;<i>         Subject: 	AppSensor &amp; ESAPI
</I>&gt;&gt;<i>         Date: 	Sun, 31 Oct 2010 09:37:31 -0400
</I>&gt;&gt;<i>         From: 	Kevin W. Wall &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">kevin.w.wall at gmail.com</A>&gt;
</I>&gt;&gt;<i>         &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">kevin.w.wall at gmail.com</A>&gt;
</I>&gt;&gt;<i>         Organization: 	Qwest IT - Application Security Team
</I>&gt;&gt;<i>         To: 	Michael Coates &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">michael.coates at owasp.org</A>&gt;
</I>&gt;&gt;<i>         &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">michael.coates at owasp.org</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         Michael,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         I just watched your AppSec USA 2010 video presentation about AppSensor&amp;  ESAPI
</I>&gt;&gt;<i>         yesterday. (Thanks for the credit as contributor BTW. Totally unexpected.)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         In it, you mentioned that it was planned to have appsensor.jar bundled with
</I>&gt;&gt;<i>         ESAPI as of ESAPI 2.0rc8. Since I don't see it in ESAPI even in 2.0rc10,
</I>&gt;&gt;<i>         I'm guessing that there was a delay for some reason.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     I copied Jim on this email b/c he was discussing this with us.  I
</I>&gt;&gt;<i>     personally am not sure what's required on the ESAPI side to get
</I>&gt;&gt;<i>     AppSensor bundled. I can say AppSensor depends on ESAPI in some
</I>&gt;&gt;<i>     of it's code (ESAPI is a maven dependency of AppSensor).  I would
</I>&gt;&gt;<i>     be happy to do whatever I can to get it included in the bundle. 
</I>&gt;&gt;<i>     Jim, any thoughts?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         So then I go to look for the AppSensor tutorial and the AppSensor jar file
</I>&gt;&gt;<i>         at the AppSensor Google Code site and I don't find either. (The tutorial is
</I>&gt;&gt;<i>         under '/' of the trunk under the svn/trunk though, so I did get it.) But
</I>&gt;&gt;<i>         surprisingly (to me, at least) was the fact that I could not find appsensor.jar
</I>&gt;&gt;<i>         anywhere under the featured or previous Downloads. (Do you expect people to
</I>&gt;&gt;<i>         build it from scratch?)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Right now, there are 3 ways to get the jar, and I agree this
</I>&gt;&gt;<i>     should be reorganized ... we all admit documentation is our next
</I>&gt;&gt;<i>     hurdle.  The first is to build from scratch as you mentioned,
</I>&gt;&gt;<i>     unpalatable to most.  The second is to grab the jar from the link
</I>&gt;&gt;<i>     on <A HREF="http://www.owasp.org/index.php/AppSensor_Developer_Guide.">http://www.owasp.org/index.php/AppSensor_Developer_Guide.</A>  The
</I>&gt;&gt;<i>     third is to add it as a maven dependency - AppSensor is in Maven
</I>&gt;&gt;<i>     central (same as ESAPI as of 2.0RC10.  We really do need to move
</I>&gt;&gt;<i>     towards producing a deliverable similar to ESAPI that is a zip w/
</I>&gt;&gt;<i>     the jar/dependencies/javadoc/config files, etc. in a zip or
</I>&gt;&gt;<i>     something like that, but we're not there yet.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         Anyway, the reason that I am bringing this up is that I am about ready to
</I>&gt;&gt;<i>         start working on the ESAPI crypto for the 2.1 branch and I see many places
</I>&gt;&gt;<i>         where I'd like to wire-in AppSensor detection points into either JavaEncryptor
</I>&gt;&gt;<i>         or perhaps even EncryptionException. If AppSensor was truly bundled as part of
</I>&gt;&gt;<i>         ESAPI that would be fairly easy to do. OTOH, if it is not, I may need to
</I>&gt;&gt;<i>         rethink this because I don't want to create yet another dependency on an
</I>&gt;&gt;<i>         external class library. (ESAPI already has something like 30+ jars that it
</I>&gt;&gt;<i>         is dependent upon.)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Glad you're thinking of going this way, again, I'd need to talk
</I>&gt;&gt;<i>     to Jim about bundling.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         Lastly, from your AppSec USA 2010 video, I recall you stating that that the
</I>&gt;&gt;<i>         way that AppSensor would be enabled in ESAPI would be to set
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         ESAPI.IntrusionDetector=org.owasp.appsensor.intrusiondetection.AppSensorIntrusionDetector
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         in the ESAPI.properties file. However, I also vaguely recall discussion
</I>&gt;&gt;<i>         as to how that property should not be used as that would disable
</I>&gt;&gt;<i>         ESAPI's built-in WAF and I thought that I remember Jeff Williams arguing that
</I>&gt;&gt;<i>         AppSensor and the ESAPI WAF were_complimentary_ rather than_competing_
</I>&gt;&gt;<i>         technologies so therefore they should use different properties in ESAPI.
</I>&gt;&gt;<i>         Anyway, I am not sure that this has been resolved or not, so would appreciate
</I>&gt;&gt;<i>         an update in this area as well.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     This will probably have to be cleared up with Jeff and/or Jim.  I
</I>&gt;&gt;<i>     haven't seen anything in the intrusion detector code that says
</I>&gt;&gt;<i>     anything about the WAF, but I could be wrong.  I agree with
</I>&gt;&gt;<i>     Jeff's core point, but if that configuration is true, then I
</I>&gt;&gt;<i>     think the current setup is confusing.  The WAF should have
</I>&gt;&gt;<i>     separate configuration.  I wouldn't necessarily hook the WAF into
</I>&gt;&gt;<i>     the intrusion detection config, since some folks would want to
</I>&gt;&gt;<i>     use one or the other.
</I>&gt;&gt;<i>     Also wanted to point out that in addition to changing that 1-line
</I>&gt;&gt;<i>     config, you do need to add the appsensor.properties file (goes in
</I>&gt;&gt;<i>     the same folder as the esapi.properties), and make sure the
</I>&gt;&gt;<i>     config is right there.  That config file is in svn.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         Thanks,
</I>&gt;&gt;<i>         -kevin
</I>&gt;&gt;<i>         P.S.- If you wish to reply to the OWASP-AppSensor-Project mailing list, that's
</I>&gt;&gt;<i>                fine as I subscribe to that. Just wasn't sure if this was to appropriate
</I>&gt;&gt;<i>                to ask this there as I'm not sure if that's a developers list or a users
</I>&gt;&gt;<i>                list.
</I>&gt;&gt;<i>         -- 
</I>&gt;&gt;<i>         Kevin W. Wall
</I>&gt;&gt;<i>         &quot;The most likely way for the world to be destroyed, most experts agree,
</I>&gt;&gt;<i>         is by accident. That's where we come in; we're computer professionals.
</I>&gt;&gt;<i>         We cause accidents.&quot;        -- Nathaniel Borenstein, co-creator of MIME
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         _______________________________________________
</I>&gt;&gt;<i>         Owasp-appsensor-project mailing list
</I>&gt;&gt;<i>         <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">Owasp-appsensor-project at lists.owasp.org</A>
</I>&gt;&gt;<i>         &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">Owasp-appsensor-project at lists.owasp.org</A>&gt;
</I>&gt;&gt;<i>         <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.owasp.org/pipermail/owasp-appsensor-project/attachments/20101102/2502b6b6/attachment-0001.html">https://lists.owasp.org/pipermail/owasp-appsensor-project/attachments/20101102/2502b6b6/attachment-0001.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000164.html">[Owasp-appsensor-project] New Unexpected Type/Quantity	Detection Points
</A></li>
	<LI>Next message: <A HREF="000161.html">[Owasp-appsensor-project] Fwd: AppSensor &amp; ESAPI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#160">[ date ]</a>
              <a href="thread.html#160">[ thread ]</a>
              <a href="subject.html#160">[ subject ]</a>
              <a href="author.html#160">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-appsensor-project">More information about the Owasp-appsensor-project
mailing list</a><br>
</body></html>
