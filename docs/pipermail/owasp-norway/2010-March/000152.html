<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-norway] CSRF og REST?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-norway%40lists.owasp.org?Subject=%5BOwasp-norway%5D%20CSRF%20og%20REST%3F&In-Reply-To=1319b9b11003180234j7131bbcfv26cdead109af2ff1%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="000151.html">
   <LINK REL="Next"  HREF="000153.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-norway] CSRF og REST?</H1>
    <B>Erlend Oftedal</B> 
    <A HREF="mailto:owasp-norway%40lists.owasp.org?Subject=%5BOwasp-norway%5D%20CSRF%20og%20REST%3F&In-Reply-To=1319b9b11003180234j7131bbcfv26cdead109af2ff1%40mail.gmail.com"
       TITLE="[Owasp-norway] CSRF og REST?">erlend at oftedal.no
       </A><BR>
    <I>Tor 18. Mar 2010 10:46:27 EDT</I>
    <P><UL>
        <LI>Forrige melding: <A HREF="000151.html">[Owasp-norway] CSRF og REST?
</A></li>
        <LI>Neste melding: <A HREF="000153.html">[Owasp-norway] CSRF og REST?
</A></li>
         <LI> <B>Meldinger sortert p&aring;:</B> 
              <a href="date.html#152">[ dato ]</a>
              <a href="thread.html#152">[ tr&aring;d (thread) ]</a>
              <a href="subject.html#152">[ emne ]</a>
              <a href="author.html#152">[ avsender ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hei

En ting jeg tenkte litt på i forbindelse med dette er hva som er grunnen 
til at RESTfulle tjenester skal være stateless. Poenget her er vel at 
funksjonaliteten som tilbys ikke skal avhenge av at man må kalle en 
tjeneste før en annen.

Hvis vi da tenker oss at vi tilbyr et sett av tjenester som støtter dette, 
tror jeg vi likevel kan legge på HMAC. Grunnen til dette er at dersom vi 
f.eks. skal ha REST-tjenester som krever pålogging, må vi jo ha en eller 
annen for pålogging. Og da mener jeg vi kan se på HMAC som en del av 
påloggingen. Jeg tenker at man da bør ha en sitekey som genereres når man 
logger på og f.eks. legges i en cookie eller holdes i javascriptet på 
siden som benytter REST-tjenestene. Når man kaller en tjeneste er det kun 
siten som kan lese javascript variablen eller cookien. På serversiden 
sjekker man HMAC på samme måte som man sjekker pålogging. Siden
HMACen er en sitekey som er gyldig for hele påloggingen, skal dette funke 
og funksjonelt sett er tjenestene vi tilbyr fremdeles uavhengige, og kan 
kalles i hvilken rekkefølge som helst.

Enig/uenig?

-
Erlend



On Thu, 18 Mar 2010, Knut Vidar Siem wrote:

&gt;<i> Hei, igjen
</I>&gt;<i>
</I>&gt;<i> En artikkel på InfoQ [1] trigget meg til å ta opp igjen denne tråden.
</I>&gt;<i>
</I>&gt;<i> 2010/2/26 Roy Grini &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-norway">roy.grini at gmail.com</A>&gt;
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ser hvor du vil hen :-)
</I>&gt;&gt;<i> Og jeg vil si det er to alternativer med for en RESTful applikasjon. Enten
</I>&gt;&gt;<i> er det en WEB applikasjon, eller så er det en web-service applikasjon.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Jeg ville egentlig bare satt skillet på stateless og stateful. (Mulig det
</I>&gt;<i> var det du mente.)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> 1. Hvis det er en RESTful web-service, ville jeg lagt et krav om at alle
</I>&gt;&gt;<i> RESTful kall må HMAC'es (<A HREF="http://en.wikipedia.org/wiki/HMAC">http://en.wikipedia.org/wiki/HMAC</A>). Dette gjøres
</I>&gt;&gt;<i> med en secret på klient-siden, og valideres med samme secret på serversiden.
</I>&gt;&gt;<i> Secreten vil da aldri være en del av RESTful kallene eller responsene, og
</I>&gt;&gt;<i> vil ikke kunne benyttes i en CSRF attack.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Her skisserer du vel egentlig en stateless webapp. Jeg misforstod bruken av
</I>&gt;<i> HMAC først, men ser poenget. Dette er forresten også foreslått på [1],
</I>&gt;<i> nærmere bestemt [2]. Good thinking :)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> 2. Hvis det er en WEB applikasjon, så må nok en form for server state
</I>&gt;&gt;<i> inkluderes. Enten for å benytte token-løsing, eller for å støtte en
</I>&gt;&gt;<i> challenge-response på sensitive operasjoner.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Dette er vel en tradisjonell stateful webapp, og taktikkene du nevner er vel
</I>&gt;<i> passende.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Så, summa sumarum - jeg klarer ikke å tenke meg noen løsning for å sikre
</I>&gt;&gt;<i> seg mot CRSF i en app med en stateless server.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Men er ikke forslagene for stateless og stateful webapps ovenfor
</I>&gt;<i> tilfredsstillende?
</I>&gt;<i>
</I>&gt;<i> Knut Vidar
</I>&gt;<i>
</I>&gt;<i> [1] <A HREF="http://www.infoq.com/news/2010/03/REST_security">http://www.infoq.com/news/2010/03/REST_security</A>
</I>&gt;<i> [2]
</I>&gt;<i> <A HREF="http://www.computerworld.com/s/article/print/9161699/Why_REST_security_doesn_t_exist?taxonomyName=Security&amp;taxonomyId=17">http://www.computerworld.com/s/article/print/9161699/Why_REST_security_doesn_t_exist?taxonomyName=Security&amp;taxonomyId=17</A>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Forrige melding: <A HREF="000151.html">[Owasp-norway] CSRF og REST?
</A></li>
	<LI>Neste melding: <A HREF="000153.html">[Owasp-norway] CSRF og REST?
</A></li>
         <LI> <B>Meldinger sortert p&aring;:</B> 
              <a href="date.html#152">[ dato ]</a>
              <a href="thread.html#152">[ tr&aring;d (thread) ]</a>
              <a href="subject.html#152">[ emne ]</a>
              <a href="author.html#152">[ avsender ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-norway">Mer informasjon om epostlisten Owasp-norway</a>.<br>
</body></html>
