<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-norway] CSRF og REST?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-norway%40lists.owasp.org?Subject=%5BOwasp-norway%5D%20CSRF%20og%20REST%3F&In-Reply-To=alpine.DEB.1.00.1003181537460.25366%40oftedal.no">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="000152.html">
   <LINK REL="Next"  HREF="000154.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-norway] CSRF og REST?</H1>
    <B>&quot;Kåre Presttun (priv)&quot;</B> 
    <A HREF="mailto:owasp-norway%40lists.owasp.org?Subject=%5BOwasp-norway%5D%20CSRF%20og%20REST%3F&In-Reply-To=alpine.DEB.1.00.1003181537460.25366%40oftedal.no"
       TITLE="[Owasp-norway] CSRF og REST?">Kare at Presttun.org
       </A><BR>
    <I>Tor 18. Mar 2010 18:40:46 EDT</I>
    <P><UL>
        <LI>Forrige melding: <A HREF="000152.html">[Owasp-norway] CSRF og REST?
</A></li>
        <LI>Neste melding: <A HREF="000154.html">[Owasp-norway] CSRF og REST?
</A></li>
         <LI> <B>Meldinger sortert p&aring;:</B> 
              <a href="date.html#153">[ dato ]</a>
              <a href="thread.html#153">[ tr&aring;d (thread) ]</a>
              <a href="subject.html#153">[ emne ]</a>
              <a href="author.html#153">[ avsender ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hei.

Tenker du her på en sluttbrukerapplikasjon eller en web service?

- Kåre

On 18.03.2010 15:46, Erlend Oftedal wrote:
&gt;<i> 
</I>&gt;<i> Hei
</I>&gt;<i> 
</I>&gt;<i> En ting jeg tenkte litt på i forbindelse med dette er hva som er grunnen 
</I>&gt;<i> til at RESTfulle tjenester skal være stateless. Poenget her er vel at 
</I>&gt;<i> funksjonaliteten som tilbys ikke skal avhenge av at man må kalle en 
</I>&gt;<i> tjeneste før en annen.
</I>&gt;<i> 
</I>&gt;<i> Hvis vi da tenker oss at vi tilbyr et sett av tjenester som støtter 
</I>&gt;<i> dette, tror jeg vi likevel kan legge på HMAC. Grunnen til dette er at 
</I>&gt;<i> dersom vi f.eks. skal ha REST-tjenester som krever pålogging, må vi jo 
</I>&gt;<i> ha en eller annen for pålogging. Og da mener jeg vi kan se på HMAC som 
</I>&gt;<i> en del av påloggingen. Jeg tenker at man da bør ha en sitekey som 
</I>&gt;<i> genereres når man logger på og f.eks. legges i en cookie eller holdes i 
</I>&gt;<i> javascriptet på siden som benytter REST-tjenestene. Når man kaller en 
</I>&gt;<i> tjeneste er det kun siten som kan lese javascript variablen eller 
</I>&gt;<i> cookien. På serversiden sjekker man HMAC på samme måte som man sjekker 
</I>&gt;<i> pålogging. Siden
</I>&gt;<i> HMACen er en sitekey som er gyldig for hele påloggingen, skal dette 
</I>&gt;<i> funke og funksjonelt sett er tjenestene vi tilbyr fremdeles uavhengige, 
</I>&gt;<i> og kan kalles i hvilken rekkefølge som helst.
</I>&gt;<i> 
</I>&gt;<i> Enig/uenig?
</I>&gt;<i> 
</I>&gt;<i> -
</I>&gt;<i> Erlend
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Thu, 18 Mar 2010, Knut Vidar Siem wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Hei, igjen
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> En artikkel på InfoQ [1] trigget meg til å ta opp igjen denne tråden.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2010/2/26 Roy Grini &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-norway">roy.grini at gmail.com</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Ser hvor du vil hen :-)
</I>&gt;&gt;&gt;<i> Og jeg vil si det er to alternativer med for en RESTful applikasjon. 
</I>&gt;&gt;&gt;<i> Enten
</I>&gt;&gt;&gt;<i> er det en WEB applikasjon, eller så er det en web-service applikasjon.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Jeg ville egentlig bare satt skillet på stateless og stateful. (Mulig det
</I>&gt;&gt;<i> var det du mente.)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 1. Hvis det er en RESTful web-service, ville jeg lagt et krav om at alle
</I>&gt;&gt;&gt;<i> RESTful kall må HMAC'es (<A HREF="http://en.wikipedia.org/wiki/HMAC">http://en.wikipedia.org/wiki/HMAC</A>). Dette 
</I>&gt;&gt;&gt;<i> gjøres
</I>&gt;&gt;&gt;<i> med en secret på klient-siden, og valideres med samme secret på 
</I>&gt;&gt;&gt;<i> serversiden.
</I>&gt;&gt;&gt;<i> Secreten vil da aldri være en del av RESTful kallene eller 
</I>&gt;&gt;&gt;<i> responsene, og
</I>&gt;&gt;&gt;<i> vil ikke kunne benyttes i en CSRF attack.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Her skisserer du vel egentlig en stateless webapp. Jeg misforstod 
</I>&gt;&gt;<i> bruken av
</I>&gt;&gt;<i> HMAC først, men ser poenget. Dette er forresten også foreslått på [1],
</I>&gt;&gt;<i> nærmere bestemt [2]. Good thinking :)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 2. Hvis det er en WEB applikasjon, så må nok en form for server state
</I>&gt;&gt;&gt;<i> inkluderes. Enten for å benytte token-løsing, eller for å støtte en
</I>&gt;&gt;&gt;<i> challenge-response på sensitive operasjoner.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Dette er vel en tradisjonell stateful webapp, og taktikkene du nevner 
</I>&gt;&gt;<i> er vel
</I>&gt;&gt;<i> passende.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Så, summa sumarum - jeg klarer ikke å tenke meg noen løsning for å sikre
</I>&gt;&gt;&gt;<i> seg mot CRSF i en app med en stateless server.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Men er ikke forslagene for stateless og stateful webapps ovenfor
</I>&gt;&gt;<i> tilfredsstillende?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Knut Vidar
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [1] <A HREF="http://www.infoq.com/news/2010/03/REST_security">http://www.infoq.com/news/2010/03/REST_security</A>
</I>&gt;&gt;<i> [2]
</I>&gt;&gt;<i> <A HREF="http://www.computerworld.com/s/article/print/9161699/Why_REST_security_doesn_t_exist?taxonomyName=Security&amp;taxonomyId=17">http://www.computerworld.com/s/article/print/9161699/Why_REST_security_doesn_t_exist?taxonomyName=Security&amp;taxonomyId=17</A> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-norway mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-norway">Owasp-norway at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-norway">https://lists.owasp.org/mailman/listinfo/owasp-norway</A>
</I>

-- 
Med vennlig hilsen | Kind regards,
Kåre Presttun
Tel.: +47 4100 4908
<A HREF="http://www.presttun.org/kare/">http://www.presttun.org/kare/</A>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Forrige melding: <A HREF="000152.html">[Owasp-norway] CSRF og REST?
</A></li>
	<LI>Neste melding: <A HREF="000154.html">[Owasp-norway] CSRF og REST?
</A></li>
         <LI> <B>Meldinger sortert p&aring;:</B> 
              <a href="date.html#153">[ dato ]</a>
              <a href="thread.html#153">[ tr&aring;d (thread) ]</a>
              <a href="subject.html#153">[ emne ]</a>
              <a href="author.html#153">[ avsender ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-norway">Mer informasjon om epostlisten Owasp-norway</a>.<br>
</body></html>
