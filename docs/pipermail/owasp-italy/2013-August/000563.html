<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-italy] Come proteggere le password e le chiavi nei file	di configurazione
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-italy%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-italy%5D%20Come%20proteggere%20le%20password%20e%20le%20chiavi%20nei%20file%0A%09di%20configurazione&In-Reply-To=%3C8C50DE18-CDAB-471C-A546-2038F2C067F7%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000560.html">
   <LINK REL="Next"  HREF="000564.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-italy] Come proteggere le password e le chiavi nei file	di configurazione</H1>
    <B>Ugo Landini</B> 
    <A HREF="mailto:owasp-italy%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-italy%5D%20Come%20proteggere%20le%20password%20e%20le%20chiavi%20nei%20file%0A%09di%20configurazione&In-Reply-To=%3C8C50DE18-CDAB-471C-A546-2038F2C067F7%40gmail.com%3E"
       TITLE="[Owasp-italy] Come proteggere le password e le chiavi nei file	di configurazione">ugo.landini at gmail.com
       </A><BR>
    <I>Sat Aug 17 17:38:00 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000560.html">[Owasp-italy] Come proteggere le password e le chiavi nei file	di configurazione
</A></li>
        <LI>Next message: <A HREF="000564.html">[Owasp-italy] Come proteggere le password e le chiavi nei file	di configurazione
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#563">[ date ]</a>
              <a href="thread.html#563">[ thread ]</a>
              <a href="subject.html#563">[ subject ]</a>
              <a href="author.html#563">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ciao Claudio,
Jboss ha un servizio di vault che fa esattamente al tuo caso. 

Il link dovrebbe essere questo (sono al mare, ma la url mi pare buona :) )
<A HREF="https://community.jboss.org/wiki/JBossAS7SecuringPasswords">https://community.jboss.org/wiki/JBossAS7SecuringPasswords</A>

Leggi anche questo link per dettagli sul perch&#233; si usa e anche sul perch&#233; NON si usa
<A HREF="https://community.jboss.org/wiki/JBossPasswords-NotSecureButRecommended">https://community.jboss.org/wiki/JBossPasswords-NotSecureButRecommended</A>

Ciao

-- uL

Pragmatist
<A HREF="Http://ugolandini.com">Http://ugolandini.com</A>

On 16/ago/2013, at 10:03, Claudio Signorini &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-italy">othellico at gmail.com</A>&gt; wrote:

&gt;<i> Buongiorno a tutti,
</I>&gt;<i> innanzitutto vi ringrazio per le molte risposte, anche in questo caldo agosto.
</I>&gt;<i> Cerco di riassumere in una sola mail una risposta ai diversi suggerimenti e anche un quadro di come stanno evolvendo i nostri ragionamenti in azienda. Magari pu&#242; emergere qualcosa di utile per tutti.
</I>&gt;<i> 
</I>&gt;<i> Prima di tutto una nota per Lorenzo e Paolo. Le password che dobbiamo proteggere non sono quelle degli utenti, ma quelle &quot;applicative&quot;, usate dalle applicazioni per autenticarsi su altre applicazioni. Per esempio se ho un gestore documentale che deve usare un servizio di marcatura temporale, il gestore deve utilizzare una user-id e una password per farsi riconoscere dal servizio di marcatura.
</I>&gt;<i> 
</I>&gt;<i> Per Giorgio e Nicola: abbiamo pensato anche noi ad una soluzione basata su HSM, anche perch&#233; usiamo gi&#224; dispositivi simili in azienda e anche pesantemente. Ma per interfacciarsi ad un HSM c'&#232; bisogno di un PIN, quindi il problema &#232; solo spostato: proteggo una chiave con un'altra chiave che non so come proteggere.
</I>&gt;<i> 
</I>&gt;<i> Per Luca: fornire la password al boot dell'applicazione? Purtroppo per noi non &#232; applicabile. Abbiamo esigenze molto alte di disponibilit&#224; dei servizi che ha portato al proliferare di istanze (anche 30 per una singola applicazione) che si riavviano al primo cenno di problema (a qualunque ora del giorno e della notte). Non possiamo dedicare una persona all'inserimento delle password ad ogni riavvio.
</I>&gt;<i> 
</I>&gt;<i> Per Canaro: anche noi abbiamo scelto di cifrare i file di configurazione: &#232; la soluzione attualmente in essere. E anche noi abbiamo scelto di annegare la chiave di (de)cifratura nel codice. Peccato che il codice vada sul repository dei sorgenti, in cui &#232; leggibile da tutto il gruppo di sviluppatori e amministratori. E' troppo esposta e dobbiamo trovare un'altra soluzione.
</I>&gt;<i> 
</I>&gt;<i> Per Antonio: interessante JDPAPI. Ma noi abbiamo solo sistemi Linux. Ma una cosa che ho chiesto ai nostri sistemisti &#232; vedere se esiste qualcosa di simile anche in Linux. O pi&#249; generalmente: quali sono i servizi di sicurezza che un Linux pu&#242; mettere a disposizione delle nostre applicazioni?
</I>&gt;<i> 
</I>&gt;<i> Per Luca: anche JSVC &#232; interessante. Ne terremo sicuramente conto anche se, come leggerai sotto, stiamo puntando ad un'altra strada.
</I>&gt;<i> 
</I>&gt;<i> Per Giorgio: anche il sandboxing dell'application server &#232; un tema interessante, su cui per&#242; siamo completamente a digiuno. Sai darmi qualche dritta per gli application server Java ed in particolare JBoss? Grazie!!!
</I>&gt;<i> 
</I>&gt;<i> Ora. Una veloce presentazione di cosa stiamo pensando adesso. Ogni vostra opinione &#232; gradita.
</I>&gt;<i> 
</I>&gt;<i> 1) Abbandonare la configurazione su file e portarla, per esempio, su un Directory Server (la struttura ad albero si sposa bene con le configurazioni e avendo un server centrale possiamo pensare ad un configurazione servizio-centrica e non applicazione-centrica).
</I>&gt;<i> 2) Configurare il Directory Server in modo che sia possibile entrarci solo tramite LDAP/S con mutua autenticazione di certificato.
</I>&gt;<i> 3) Fare in modo che non sia l'applicazione ad autenticarsi al Directory Server, bens&#236; il sistema operativo. In questo modo la chiave privata sarebbe protetta dall'OS e non si necessitano altri archivi o file di configurazione in cui metterla. Sempre che l'OS abbia simili strumenti...
</I>&gt;<i> 4) Per modificare le configurazioni predisponiamo un'applicazione che richiede un'autenticazione (forse forte... stiamo valutando). Quando poi si inserisce la password per un servizio, questa non viene memorizzata cos&#236; com'&#232;. L'applicazione fa un cambio password impostando una password molto robusta (lunga e con un'ampia gamma di caratteri) che verr&#224; salvata sul Directory Server e non mostrata all'operatore. In questo modo la password sarebbe conosciuta solo dal servizio, dal Directory Server e dall'applicazione e, a meno di vulnerabilit&#224; di quest'ultima, non dovrebbe mai uscire da questa triade. E la password iniziale che l'operatore aveva non &#232; pi&#249; valida.
</I>&gt;<i> 
</I>&gt;<i> Che ne dite? Pu&#242; funzionare? Ci sono tutti i pezzi per fare qualcosa del genere?
</I>&gt;<i> GRAZIE!!!
</I>&gt;<i> 
</I>&gt;<i> Claudio
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Il giorno 16 agosto 2013 09:16, R.Canaro &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-italy">security at canaro.net</A>&gt; ha scritto:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Ciao, Claudio.
</I>&gt;&gt;<i> Avevamo un problema simile per gestire le password di accesso al DB utilizzate da un'applicazione Web scritta in PHP.
</I>&gt;&gt;<i> Lo abbiamo risolto scrivendo un piccolo programma in C che cifra le password su un file e le restituisce, in chiaro, su richiesta.
</I>&gt;&gt;<i> La password di cifratura e' annegata nel codice C del programma.
</I>&gt;&gt;<i> Il programma C risponde solo a richieste che arrivino da un determinato utente.
</I>&gt;&gt;<i> Non e' una soluzione perfetta, ma funziona.
</I>&gt;&gt;<i> Se vuoi, posso mandarti il codice sorgente C.
</I>&gt;&gt;<i> Ciao,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>    C:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On 01/08/13 16:32, Claudio Signorini wrote:
</I>&gt;&gt;&gt;<i> Ciao a tutti,
</I>&gt;&gt;&gt;<i> cercando in giro ho capito che il tema &#232; sentito, ma sinceramente non ho
</I>&gt;&gt;&gt;<i> trovato una risposta valida che sia una.
</I>&gt;&gt;<i> ...
</I>&gt;&gt;&gt;<i> Alcune risposte sono state:
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> - in un file di configurazione, ovvero in chiaro sulle macchine su cui
</I>&gt;&gt;&gt;<i> gira l'applicazione -&gt; non &#232; accettabile, perch&#233; se un attaccante prende
</I>&gt;&gt;&gt;<i> il controllo della macchina o riesce ad accedere al file pu&#242; leggere il
</I>&gt;&gt;&gt;<i> file di configurazione e leggere pertanto la password;
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> - annegate nel codice dell'applicazione -&gt; non &#232; accettabile
</I>&gt;&gt;&gt;<i> perch&#233; verrebbero scritte nei repository dei sorgenti e quindi tutti gli
</I>&gt;&gt;&gt;<i> sviluppatori potrebbero leggere tali password; inoltre essendo le nostre
</I>&gt;&gt;&gt;<i> applicazioni scritte in Java (e non potendo offuscare tutti i binari) &#232;
</I>&gt;&gt;&gt;<i> come scrivere le stesse password in chiaro su un file di configurazione;
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> - in un file di configurazione ma cifrate -&gt; non &#232; accettabile: per
</I>&gt;&gt;&gt;<i> cifrare serve una chiave e dove scrivo la chiave? il problema &#232; solo
</I>&gt;&gt;&gt;<i> stato spostato;
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> - in un archivio (database relazionale, directory service, ...)
</I>&gt;&gt;&gt;<i> accessibile solo da pochi: ma per accedere all'archivio avrei bisogno di
</I>&gt;&gt;&gt;<i> una password, e siamo di nuovo al punto di prima.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Immagino che questo problema non sia solo della nostra azienda. E, come
</I>&gt;&gt;&gt;<i> dicevo, ho trovato altri che hanno posto domande simili. Ma non ho
</I>&gt;&gt;&gt;<i> trovato risposte valide.
</I>&gt;&gt;&gt;<i> Voi cosa ne dite? Come avete risolto voi questo problema?
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> GRAZIE!
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Claudio Signorini
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Owasp-italy mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-italy">Owasp-italy at lists.owasp.org</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-italy">https://lists.owasp.org/mailman/listinfo/owasp-italy</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-italy mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-italy">Owasp-italy at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-italy">https://lists.owasp.org/mailman/listinfo/owasp-italy</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-italy/attachments/20130817/a00be0cd/attachment.html">http://lists.owasp.org/pipermail/owasp-italy/attachments/20130817/a00be0cd/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000560.html">[Owasp-italy] Come proteggere le password e le chiavi nei file	di configurazione
</A></li>
	<LI>Next message: <A HREF="000564.html">[Owasp-italy] Come proteggere le password e le chiavi nei file	di configurazione
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#563">[ date ]</a>
              <a href="thread.html#563">[ thread ]</a>
              <a href="subject.html#563">[ subject ]</a>
              <a href="author.html#563">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-italy">More information about the Owasp-italy
mailing list</a><br>
</body></html>
