<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-italy] Blind SQL Injection e falsi positivi
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-italy%40lists.owasp.org?Subject=%5BOwasp-italy%5D%20Blind%20SQL%20Injection%20e%20falsi%20positivi&In-Reply-To=5c51638d0606221025j707853edkf59b2f1dbae19bd2%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000194.html">
   <LINK REL="Next"  HREF="000201.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-italy] Blind SQL Injection e falsi positivi</H1>
    <B>antonio &quot;s4tan&quot; parata</B> 
    <A HREF="mailto:owasp-italy%40lists.owasp.org?Subject=%5BOwasp-italy%5D%20Blind%20SQL%20Injection%20e%20falsi%20positivi&In-Reply-To=5c51638d0606221025j707853edkf59b2f1dbae19bd2%40mail.gmail.com"
       TITLE="[Owasp-italy] Blind SQL Injection e falsi positivi">antoniomassimo.parata at fastwebnet.it
       </A><BR>
    <I>Thu Jun 22 14:56:02 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000194.html">[Owasp-italy] Blind SQL Injection e falsi positivi
</A></li>
        <LI>Next message: <A HREF="000201.html">[Owasp-italy] Blind SQL Injection e falsi positivi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#195">[ date ]</a>
              <a href="thread.html#195">[ thread ]</a>
              <a href="subject.html#195">[ subject ]</a>
              <a href="author.html#195">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ciao Luca,

per quanto riguarda la prima domanda, la maggior parte dei tool di 
vulnerability assessment ci&#242; che fa &#232; semplicemente verificare se 
l'applicazione &#232; vulnerabile facendo un semplice patter matching 
dell'HTML ottenuto &#232; controllano se vi &#232; la presenza di stringhe di 
errore tipo &quot;ODBC Error&quot; o roba simile. O almeno questo &#232; cio che fa 
Acunetix (ma penso anchi gli altri tool), infatti il suo test sull'SQL 
Injection si limita ad inviare i valori ' e %25 (mi sembra) e 
controllare l'output.

Nel caso di Blind SQL Injection (in cui gli errori non sono rilevati), 
al blackhat 2004 il gruppo hacker 0x90 ha presentato una ricerca proprio 
su tale argomento, se ti interessa ti posto il riferimento:
<A HREF="http://www.blackhat.com/presentations/bh-usa-04/bh-us-04-hotchkies/bh-us-04-hotchkies.pdf">http://www.blackhat.com/presentations/bh-usa-04/bh-us-04-hotchkies/bh-us-04-hotchkies.pdf</A>

Per quanto riguarda la protezione, bella domanda :)
Indubbiamente la soluzione migliore &#232; scrivere applicazioni sicure, ma 
questa &#232; un'utopia.

A occhio e croce dovresti avere un qualcosa che controlla tutte le 
richieste HTTP ed effettua un backslah dei caratteri ', ma ci&#242; non 
basta, infatti nel caso l'imput &#232; un numero, non ho bisogno di inserire 
il carattere '.
Diciamo che &#232; una questione alquanto spinosa :D
Se ti interessa per Apache puoi provare modesecurity 
(<A HREF="http://www.modsecurity.org">http://www.modsecurity.org</A>).

Spero di esserti stato d'aituo, ciao
Antonio &quot;s4tan&quot; Parata

Luca Terenziani ha scritto:
&gt;<i> Ciao a tutti,
</I>&gt;<i>
</I>&gt;<i> da un po` di tempo sto` &quot;programmando&quot; un tool per Blind SQL InjectionS.
</I>&gt;<i>
</I>&gt;<i> Ora la domanda che vi pongo e` la seguente:
</I>&gt;<i>
</I>&gt;<i> supponiamo che voglia testare la Blind SQL Inj. sulla seguente
</I>&gt;<i> URL:
</I>&gt;<i> <A HREF="http://acme?idcat=1">http://acme?idcat=1</A>
</I>&gt;<i>
</I>&gt;<i> Un primo approccio potrebbe essere:
</I>&gt;<i>
</I>&gt;<i> *) memorizzo il contenuto della pagina di partenza
</I>&gt;<i> *) memorizzare il contenuto di una pagina contenente
</I>&gt;<i>    &quot; AND 1=1&quot;
</I>&gt;<i> *) memorizzare il contenuto di una pagina contenente
</I>&gt;<i>    &quot; AND 1=9&quot;
</I>&gt;<i>
</I>&gt;<i> e dire che la Blind Injection e` andata a buon fine
</I>&gt;<i> se e soltanto se:
</I>&gt;<i> 1) l'HTML di <A HREF="http://acme?idcat=1">http://acme?idcat=1</A> != <A HREF="http://acme?idcat=1">http://acme?idcat=1</A> AND 9=9
</I>&gt;<i> 2) l'HTML di <A HREF="http://acme?idcat=1">http://acme?idcat=1</A> == <A HREF="http://acme?idcat=1">http://acme?idcat=1</A> AND 1=1
</I>&gt;<i>
</I>&gt;<i> Ora la domanda che ci si puo` porre e` la seguente:
</I>&gt;<i> &quot;Come viene effettuato il confronto tra gli HTML&quot; ?
</I>&gt;<i>
</I>&gt;<i> Un primo approccio potrebbe essere:confronto carattere per carattere.
</I>&gt;<i> Questo approccio potrebbe essere &quot;attenuato&quot; da un modulo ISAPI/mod_*
</I>&gt;<i> che inserisce all'interno del body delle HTTP RESPONSE:
</I>&gt;<i> *) caratteri random
</I>&gt;<i> *) TAG html che rendono il risultato della renderizzazione da parte
</I>&gt;<i>    del browser intatto
</I>&gt;<i>
</I>&gt;<i> oppure potrei utilizzare una delle tante techiche di steganografia su
</I>&gt;<i> HTML.. roba tipo:
</I>&gt;<i> &lt;IMG SRC=&quot;picture.jpg&quot; ALT=&quot;A picture&quot;&gt; viene riscritta in:
</I>&gt;<i> &lt;IMG ALT=&quot;A picture&quot; SRC=&quot;picture.jpg&quot;&gt;
</I>&gt;<i> utilizzando un certo set di &quot;regole di riscrittura HTML&quot; che rendono
</I>&gt;<i> intatta la renderizzazione dai browser .. potrei generare una miriade
</I>&gt;<i> di pagine HTML differenti.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Certo e` che se il mio tool di SQL Injection una volta memorizzate
</I>&gt;<i> le pagine, strippa via tutti i tag HTML riesco ad evadere il meccanismo.
</I>&gt;<i>
</I>&gt;<i> Ma a questo punto, se voglio attenuare ulteriormente Blind SQL
</I>&gt;<i> Injection, potrei steganografizzare il testo dell'HTML... al fine di
</I>&gt;<i> generare pagina diverse anche nel testo, che portano verso lo stesso
</I>&gt;<i> risultato.
</I>&gt;<i>
</I>&gt;<i> Ma anche questo tipo di hardening potrebbe essere facilmente
</I>&gt;<i> &quot;spezzato&quot; facendo si che l'algoritmo di confronto per la Blind SQL
</I>&gt;<i> Inj. strippi via pure ' ' e '\n'
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Ora, al di la` del lungo poema (aka; pippa mentale) la domanda che
</I>&gt;<i> volevo porvi e` la seguente:
</I>&gt;<i> *) Acunetix, Wikto, WebInspect,etc. etc. come effettuano il confronto
</I>&gt;<i>    sui fault injection?
</I>&gt;<i> *) Quali tecniche mi consentono di &quot;attenuare&quot; le SQL Injection lato
</I>&gt;<i>    server (e non WEBAPP!!!!)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Meditate gente, meditate
</I>&gt;<i>
</I>&gt;<i> Using Tomcat but need to do more? Need to support web services, security?
</I>&gt;<i> Get stuff done quickly with pre-integrated technology to make your job easier
</I>&gt;<i> Download IBM WebSphere Application Server v.1.0.1 based on Apache Geronimo
</I>&gt;<i> <A HREF="http://sel.as-us.falkag.net/sel?cmd=lnk&amp;kid=120709&amp;bid=263057&amp;dat=121642">http://sel.as-us.falkag.net/sel?cmd=lnk&amp;kid=120709&amp;bid=263057&amp;dat=121642</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-Italy mailing list
</I>&gt;<i> <A HREF="http://lists.owasp.org/mailman/listinfo/owasp-italy">Owasp-Italy at lists.sourceforge.net</A>
</I>&gt;<i> <A HREF="https://lists.sourceforge.net/lists/listinfo/owasp-italy">https://lists.sourceforge.net/lists/listinfo/owasp-italy</A>
</I>&gt;<i>
</I>&gt;<i>   
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000194.html">[Owasp-italy] Blind SQL Injection e falsi positivi
</A></li>
	<LI>Next message: <A HREF="000201.html">[Owasp-italy] Blind SQL Injection e falsi positivi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#195">[ date ]</a>
              <a href="thread.html#195">[ thread ]</a>
              <a href="subject.html#195">[ subject ]</a>
              <a href="author.html#195">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.owasp.org/mailman/listinfo/owasp-italy">More information about the Owasp-italy
mailing list</a><br>
</body></html>
