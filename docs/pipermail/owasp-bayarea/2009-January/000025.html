<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-bayarea] (compile) security recommendations mysql/php
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-bayarea%40lists.owasp.org?Subject=%5BOwasp-bayarea%5D%20%28compile%29%20security%20recommendations%20mysql/php&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000024.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-bayarea] (compile) security recommendations mysql/php</H1>
    <B>Flashgrrl</B> 
    <A HREF="mailto:owasp-bayarea%40lists.owasp.org?Subject=%5BOwasp-bayarea%5D%20%28compile%29%20security%20recommendations%20mysql/php&In-Reply-To="
       TITLE="[Owasp-bayarea] (compile) security recommendations mysql/php">flashgrrlnz at yahoo.co.nz
       </A><BR>
    <I>Wed Jan  7 22:54:35 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000024.html">[Owasp-bayarea] mysql/php security recommendations
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25">[ date ]</a>
              <a href="thread.html#25">[ thread ]</a>
              <a href="subject.html#25">[ subject ]</a>
              <a href="author.html#25">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you to everyone who responded to my question before the holidays regarding security for a mysql 5 database using php 5.

I found the following book to be a useful starting point with practical solutions:
*************************************************
Securing PHP Web Applications
by Tricia Ballad; William Ballad
Publisher: Addison Wesley Professional
Pub Date: December 16, 2008
Print ISBN-10: 0-321-53434-4
Print ISBN-13: 978-0-321-53434-7
Web ISBN-10: 0-321-57431-1
Web ISBN-13: 978-0-321-57431-2
Pages: 336
*************************************************
Below most of the responses I received...

Thanks everyone!

-Flashgrrl

=============================================================
Here's a link
for Red Hat Enterprise Linux's Security Guide:

<A HREF="http://www.redhat.com/docs/manuals/enterprise/RHEL-4-Manual/en-US/Security_Guide/">http://www.redhat.com/docs/manuals/enterprise/RHEL-4-Manual/en-US/Security_Guide/</A>

The MySQL Administration reference provides a section on General
Security Issues: <A HREF="http://dev.mysql.com/doc/refman/5.1/en/security.html.">http://dev.mysql.com/doc/refman/5.1/en/security.html.</A>

Finally, the PHP site has a section on security too, that you
should review: <A HREF="http://www.php.net/manual/en/security.php.">http://www.php.net/manual/en/security.php.</A>
=============================================================

Get the book
Beginning MySQL Database Design and Optimization From Novice to Professional. ISBN: 1-59059-332-4. By Jon Stephens &amp; Chad Russell. The MySQL and PHP books have very very poor mysql in it (though the php database connectors are good).

1. DO NOT PUT THE IMAGE in the db. You put a filename &amp; pointer to the image. These should be in your webroot.
2. DO NOT PUT HTML/TEXT in the db. This will dramatically slow down your database &amp; queries to the db. These again should be filename &amp; pointer to the image. You can put security into the apache webserver &amp; there are books &amp; google searches that cover that. These would also go in the webdroot.
3. DO NOT USE encryption-functions in MySQL. DO NOT USE ANY FUNCTIONS in mysql.

If you don't know how to encrypt a password in php you're in trouble. You should at the very least take a web course or finish a book such as learning PHP in 21 days. That is very very basic php. Of course the security of md5 vs sh1 is also available on a google search. The php documentation is here:
<A HREF="http://www.php.net/docs.php&#160;&#160;&#160;">http://www.php.net/docs.php&#160;&#160;&#160;</A> read it daily. go to it first. The docs are good.
<A HREF="http://www.php.net/manual/en/function.md5.php">http://www.php.net/manual/en/function.md5.php</A>
<A HREF="http://www.php.net/manual/en/function.sha1.php">http://www.php.net/manual/en/function.sha1.php</A>
These are ONE way encryptions. If the user forgets their password you need to have a tool that resets the password &amp; sends that reset pwd to the user. You should never know their passwords. That is the first way that most sites get into trouble. They store the passwords so they are human readable. NEVER do that.

You will need to know what version of mysql your host has. Each version is VERY VERY different from each other. Do not use stored procedures, triggers or functions. ever. Learn proper SQL and how to write a join.

==================================================================

&quot;Essential PHP Security&quot; by Chris Shiflett is a slim book that covers
the most important points of writing a secure PHP application. I
highly recommend it!

===================================================================

Securing a PHP/MySQL application is usually more about preventing attacks (people breaking in by injecting things into your database queries and things like that) than about securing the server. In a nutshell, you need to be really careful about how you deal with any data that you read via HTTP POST and GET.

Ideally, instead of writing your own PHP/MySQL application, you would build your application on top of Drupal, using their safe (or at least safer) database functions, user accounts, etc. But if you are set on &quot;rolling your own&quot;, you'll just have to be really careful about it.

==========================================================================

When I've been in similar situations in the past, I've found it very useful to track down the nerdiest friend I've got and ask if they'd be willing to attempt to compromise the security of my server - unless that person is a security consultant who gets paid well for such activities, you'll likely find yourself with someone who would jump at the chance to have a safe environment where they could &quot;practice their hacking skills&quot; - the benefit to you is a fresh pair of eyes and a new perspective

2 of the 3 times I've tried this approach, I've had a security hole uncovered by someone who knew nothing about the servers I had built when they started trying to get in.

========================================================================





      Get the world&amp;#39;s best email - <A HREF="http://nz.mail.yahoo.com/">http://nz.mail.yahoo.com/</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.owasp.org/pipermail/owasp-bayarea/attachments/20090107/8eeec8e5/attachment.html">https://lists.owasp.org/pipermail/owasp-bayarea/attachments/20090107/8eeec8e5/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000024.html">[Owasp-bayarea] mysql/php security recommendations
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25">[ date ]</a>
              <a href="thread.html#25">[ thread ]</a>
              <a href="subject.html#25">[ subject ]</a>
              <a href="author.html#25">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">More information about the Owasp-bayarea
mailing list</a><br>
</body></html>
