From flashgrrlnz at yahoo.co.nz  Sat Jan  3 13:31:46 2009
From: flashgrrlnz at yahoo.co.nz (Flashgrrl)
Date: Sat, 3 Jan 2009 10:31:46 -0800 (PST)
Subject: [Owasp-bayarea] mysql/php security recommendations
Message-ID: <567903.66179.qm@web54405.mail.yahoo.com>



I have built a mysql 5 database and use php 5 to
allow users to view & update data contact information on a website. I have
received very conflicting information regarding securing the database and data.
As a complete newbie to online security I would welcome suggestions on how to
practically secure this information on a Managed Dedicated Server
(http://www.att.com/gen/webhosting?pid=10375). 



General advice/books/tutorials/articles/network security specialist referrals?



Thank you in advance!



-Flashgrrl




      Get the world&#39;s best email - http://nz.mail.yahoo.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-bayarea/attachments/20090103/92e57028/attachment.html 

From arshad.noor at strongauth.com  Mon Jan  5 12:33:53 2009
From: arshad.noor at strongauth.com (Arshad Noor)
Date: Mon, 05 Jan 2009 09:33:53 -0800
Subject: [Owasp-bayarea] mysql/php security recommendations
In-Reply-To: <567903.66179.qm@web54405.mail.yahoo.com>
References: <567903.66179.qm@web54405.mail.yahoo.com>
Message-ID: <49624481.6070003@strongauth.com>

Hi Flashgrrl,

There's an awful lot of material in what you've asked: network
security, host (or operating system) security, database security
and finally, application security.

Depending on which operating system you're buying into, I would
recommend going to the Systems Administration documentation of
that OS and follow their guidelines for security.  Here's a link
for Red Hat Enterprise Linux's Security Guide:

http://www.redhat.com/docs/manuals/enterprise/RHEL-4-Manual/en-US/Security_Guide/

The MySQL Administration reference provides a section on General
Security Issues: http://dev.mysql.com/doc/refman/5.1/en/security.html.

Finally, the PHP site has a section on security too, that you
should review: http://www.php.net/manual/en/security.php.

Unfortunately, security is a lot like weight-management: when you
get to your desired weight (security status), the work isn't over -
you have to constantly manage your environment to stay secure.  But,
there are many web-sites and forums with a wealth of information
that can help once you've started your journey.

Good luck!

Arshad Noor
StrongAuth, Inc.

Flashgrrl wrote:
> I have built a mysql 5 database and use php 5 to allow users to view & 
> update data contact information on a website. I have received very 
> conflicting information regarding securing the database and data. As a 
> complete newbie to online security I would welcome suggestions on how to 
> practically secure this information on a Managed Dedicated Server 
> (http://www.att.com/gen/webhosting?pid=10375).
> 
> General advice/books/tutorials/articles/network security specialist 
> referrals?
> 
> Thank you in advance!
> 
> -Flashgrrl

From flashgrrlnz at yahoo.co.nz  Wed Jan  7 22:54:35 2009
From: flashgrrlnz at yahoo.co.nz (Flashgrrl)
Date: Wed, 7 Jan 2009 19:54:35 -0800 (PST)
Subject: [Owasp-bayarea] (compile) security recommendations mysql/php
Message-ID: <627717.82894.qm@web54406.mail.yahoo.com>

Thank you to everyone who responded to my question before the holidays regarding security for a mysql 5 database using php 5.

I found the following book to be a useful starting point with practical solutions:
*************************************************
Securing PHP Web Applications
by Tricia Ballad; William Ballad
Publisher: Addison Wesley Professional
Pub Date: December 16, 2008
Print ISBN-10: 0-321-53434-4
Print ISBN-13: 978-0-321-53434-7
Web ISBN-10: 0-321-57431-1
Web ISBN-13: 978-0-321-57431-2
Pages: 336
*************************************************
Below most of the responses I received...

Thanks everyone!

-Flashgrrl

=============================================================
Here's a link
for Red Hat Enterprise Linux's Security Guide:

http://www.redhat.com/docs/manuals/enterprise/RHEL-4-Manual/en-US/Security_Guide/

The MySQL Administration reference provides a section on General
Security Issues: http://dev.mysql.com/doc/refman/5.1/en/security.html.

Finally, the PHP site has a section on security too, that you
should review: http://www.php.net/manual/en/security.php.
=============================================================

Get the book
Beginning MySQL Database Design and Optimization From Novice to Professional. ISBN: 1-59059-332-4. By Jon Stephens & Chad Russell. The MySQL and PHP books have very very poor mysql in it (though the php database connectors are good).

1. DO NOT PUT THE IMAGE in the db. You put a filename & pointer to the image. These should be in your webroot.
2. DO NOT PUT HTML/TEXT in the db. This will dramatically slow down your database & queries to the db. These again should be filename & pointer to the image. You can put security into the apache webserver & there are books & google searches that cover that. These would also go in the webdroot.
3. DO NOT USE encryption-functions in MySQL. DO NOT USE ANY FUNCTIONS in mysql.

If you don't know how to encrypt a password in php you're in trouble. You should at the very least take a web course or finish a book such as learning PHP in 21 days. That is very very basic php. Of course the security of md5 vs sh1 is also available on a google search. The php documentation is here:
http://www.php.net/docs.php??? read it daily. go to it first. The docs are good.
http://www.php.net/manual/en/function.md5.php
http://www.php.net/manual/en/function.sha1.php
These are ONE way encryptions. If the user forgets their password you need to have a tool that resets the password & sends that reset pwd to the user. You should never know their passwords. That is the first way that most sites get into trouble. They store the passwords so they are human readable. NEVER do that.

You will need to know what version of mysql your host has. Each version is VERY VERY different from each other. Do not use stored procedures, triggers or functions. ever. Learn proper SQL and how to write a join.

==================================================================

"Essential PHP Security" by Chris Shiflett is a slim book that covers
the most important points of writing a secure PHP application. I
highly recommend it!

===================================================================

Securing a PHP/MySQL application is usually more about preventing attacks (people breaking in by injecting things into your database queries and things like that) than about securing the server. In a nutshell, you need to be really careful about how you deal with any data that you read via HTTP POST and GET.

Ideally, instead of writing your own PHP/MySQL application, you would build your application on top of Drupal, using their safe (or at least safer) database functions, user accounts, etc. But if you are set on "rolling your own", you'll just have to be really careful about it.

==========================================================================

When I've been in similar situations in the past, I've found it very useful to track down the nerdiest friend I've got and ask if they'd be willing to attempt to compromise the security of my server - unless that person is a security consultant who gets paid well for such activities, you'll likely find yourself with someone who would jump at the chance to have a safe environment where they could "practice their hacking skills" - the benefit to you is a fresh pair of eyes and a new perspective

2 of the 3 times I've tried this approach, I've had a security hole uncovered by someone who knew nothing about the servers I had built when they started trying to get in.

========================================================================





      Get the world&#39;s best email - http://nz.mail.yahoo.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-bayarea/attachments/20090107/8eeec8e5/attachment.html 

