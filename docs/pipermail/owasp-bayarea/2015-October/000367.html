<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-bayarea] How many products or web sites that you are aware of disable port 80(http) traffic completely?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-bayarea%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-bayarea%5D%20How%20many%20products%20or%20web%20sites%20that%20you%20are%0A%20aware%20of%20disable%20port%2080%28http%29%20traffic%20completely%3F&In-Reply-To=%3C561EC99D.4030001%40owasp.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000366.html">
   <LINK REL="Next"  HREF="000368.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-bayarea] How many products or web sites that you are aware of disable port 80(http) traffic completely?</H1>
    <B>Jim Manico</B> 
    <A HREF="mailto:owasp-bayarea%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-bayarea%5D%20How%20many%20products%20or%20web%20sites%20that%20you%20are%0A%20aware%20of%20disable%20port%2080%28http%29%20traffic%20completely%3F&In-Reply-To=%3C561EC99D.4030001%40owasp.org%3E"
       TITLE="[Owasp-bayarea] How many products or web sites that you are aware of disable port 80(http) traffic completely?">jim.manico at owasp.org
       </A><BR>
    <I>Wed Oct 14 21:31:09 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000366.html">[Owasp-bayarea] How many products or web sites that you are aware of disable port 80(http) traffic completely?
</A></li>
        <LI>Next message: <A HREF="000368.html">[Owasp-bayarea] How many products or web sites that you are aware of disable port 80(http) traffic completely?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#367">[ date ]</a>
              <a href="thread.html#367">[ thread ]</a>
              <a href="subject.html#367">[ subject ]</a>
              <a href="author.html#367">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> &gt; If you're building your product, why does it matter if other products 
do this?  If your threat model needs to be protected against HTTP 
downgrade, just serve on 443, but realize that if a user *doesn't* type 
the https (due to laziness, human error, etc.), a MITM will *still* own 
them.

This is not true from what I see. Most folks just typing &quot;chase&quot; into 
their browser (at least chrome, safari and firefox osx) will trigger a 
search engine hit, which mostly list https links by default if available.

So unless the user explicitly types in &quot;<A HREF="http://somesite.com">http://somesite.com</A>&quot; and that 
site is not preloaded HSTS and (and the user did not trigger HSTS 
headers in previous hits) most browsers default to HTTPS.

Fair?

- Jim


&gt;<i> On Wed, Oct 14, 2015 at 12:56 PM, Greg Christopher 
</I>&gt;<i> &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">gchristopher at vmware.com</A> &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">gchristopher at vmware.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     Thanks for the discussion folks. I wasn't really asking why, just
</I>&gt;<i>     whether.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     The truth is, today, if a web portal doesn't turn off port 80 it
</I>&gt;<i>     can't be secure from being forced to non-TLS traffic.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     Yes, people are very used to typing &quot;chase&quot; into their browser and
</I>&gt;<i>     ending up with the chase banking web site. Unfortunately If you're
</I>&gt;<i>     not using the chrome white list or a browser extension, you're not
</I>&gt;<i>     getting automatically sent to https- you get redirected first.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     Smart attackers use ettercap and sslsniff to blow through all of
</I>&gt;<i>     that redirection stuff.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     <A HREF="https://www.youtube.com/watch?v=WhKBPwzhAZ4">https://www.youtube.com/watch?v=WhKBPwzhAZ4</A>
</I>&gt;<i>
</I>&gt;<i>     <A HREF="https://www.youtube.com/watch?v=jEDgo6A_XUA">https://www.youtube.com/watch?v=jEDgo6A_XUA</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     Thank you Moxie. Here are the problems with a port 80 redirect:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     -Connect to web site using http. Because you didn't use https, the
</I>&gt;<i>     certificate was not verified and you don't really know who you're
</I>&gt;<i>     connected to.
</I>&gt;<i>
</I>&gt;<i>     -Receive 301 to redirect BACK to port 80 (kind of like spinning
</I>&gt;<i>     the player in pin the tail on the donkey), but this is attacker
</I>&gt;<i>     code. And you're redirected right back to insecurity
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> No need to 301 you if there's a MITM.
</I>&gt;<i>
</I>&gt;<i>     -SSLSNIFF proxies all the network traffic to your bank
</I>&gt;<i>     establishing a secure connection on your behalf, but
</I>&gt;<i>     serving/repurposing back all of the goodies to you on port 80.
</I>&gt;<i>
</I>&gt;<i>     -SSLSNIFF puts a little lock FAVICON on the page for good measure
</I>&gt;<i>     :):):)
</I>&gt;<i>
</I>&gt;<i>     -Surf away to your bank. You won't even notice it's not the actual
</I>&gt;<i>     bank site. Passwords, account numbers, etc are all in the clear.
</I>&gt;<i>
</I>&gt;<i>          A Browsers' visual cues that you're on a secure site are
</I>&gt;<i>     notoriously unnoticeable. To make this really stand out, we'd have
</I>&gt;<i>     to serve every <A HREF="http://">http://</A> site with flashing red all around the page.
</I>&gt;<i>     We're not going to be doing that any time soon. HSTS is the best
</I>&gt;<i>     we have, except turning off &quot;port 80&quot; completely.
</I>&gt;<i>
</I>&gt;<i> Well, in the case of chrome, that's not completely true.  Though no 
</I>&gt;<i> definitive timeline has been laid out, Chrome has stated they intend 
</I>&gt;<i> to mark HTTP as insecure: 
</I>&gt;<i> <A HREF="https://www.chromium.org/Home/chromium-security/marking-http-as-non-secure">https://www.chromium.org/Home/chromium-security/marking-http-as-non-secure</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     -----------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     So actually, I am not working on a web site. I'm working on
</I>&gt;<i>     software that should be secured as installed anywhere, and it's
</I>&gt;<i>     usually internal. So:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>        -Google https whitelist
</I>&gt;<i>
</I>&gt;<i>        -https everywhere whitelist
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     are out of the question, which leaves:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     -HSTS. Great technology... not secure the first time unless you
</I>&gt;<i>     avoid the redirect... and /ONLY WORKS WITH SIGNED CERTIFICATES. /
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     //So HSTS is imperfect and won't work in many internal deployments.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     So back to the original question: Are there any software
</I>&gt;<i>     /products/ you know of that simply disallow redirects and only
</I>&gt;<i>     listen on 443?
</I>&gt;<i>
</I>&gt;<i> If you're building your product, why does it matter if other products 
</I>&gt;<i> do this?  If your threat model needs to be protected against HTTP 
</I>&gt;<i> downgrade, just serve on 443, but realize that if a user *doesn't* 
</I>&gt;<i> type the https (due to laziness, human error, etc.), a MITM will 
</I>&gt;<i> *still* own them.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     Greg
</I>&gt;<i>
</I>&gt;<i>     ------------------------------------------------------------------------
</I>&gt;<i>     *From:* David Tomaschik &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">david at systemoverlord.com</A>
</I>&gt;<i>     &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">david at systemoverlord.com</A>&gt;&gt;
</I>&gt;<i>     *Sent:* Wednesday, October 14, 2015 9:10 AM
</I>&gt;<i>     *To:* David Tomaschik; Greg Christopher;
</I>&gt;<i>     <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">owasp-bayarea at lists.owasp.org</A> &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">owasp-bayarea at lists.owasp.org</A>&gt;
</I>&gt;<i>     *Subject:* Re: [Owasp-bayarea] How many products or web sites that
</I>&gt;<i>     you are aware of disable port 80(http) traffic completely?
</I>&gt;<i>     On Tue, Oct 13, 2015 at 10:25 PM,
</I>&gt;<i>     &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">travis+ml-owasp-bayarea at subspacefield.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">travis+ml-owasp-bayarea at subspacefield.org</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>         On Tue, Oct 13, 2015 at 01:43:33PM -0700, David Tomaschik wrote:
</I>&gt;<i>         &gt; There's really no advantage to not having a port 80
</I>&gt;<i>         listener, is there?
</I>&gt;<i>
</I>&gt;<i>         It depends on your threat model.
</I>&gt;<i>
</I>&gt;<i>         The net-net is:
</I>&gt;<i>
</I>&gt;<i>         You and your customers can't accidentally end up using HTTP
</I>&gt;<i>         instead of
</I>&gt;<i>         HTTPS.
</I>&gt;<i>
</I>&gt;<i>         The details are:
</I>&gt;<i>
</I>&gt;<i>         That means cookies which you failed to set the &quot;secure&quot; (?!?)
</I>&gt;<i>         flag on
</I>&gt;<i>         don't accidentally get sent via HTTP.
</I>&gt;<i>
</I>&gt;<i>         They don't accidentally send a password or sensitive
</I>&gt;<i>         information over
</I>&gt;<i>         HTTP via an &quot;unsecure&quot; form, possibly via a redirect or something
</I>&gt;<i>         where the form action is autogenerated.
</I>&gt;<i>
</I>&gt;<i>         You can avoid accidentally sending a login cookie or something in
</I>&gt;<i>         an unencrypted response.
</I>&gt;<i>
</I>&gt;<i>         An active MITM can spoof HTTP/TCP/80 without talking to the
</I>&gt;<i>         real site,
</I>&gt;<i>         clearly.
</I>&gt;<i>
</I>&gt;<i>         A MOTS can only race against the real site which probably
</I>&gt;<i>         sends back a
</I>&gt;<i>         TCP RST.
</I>&gt;<i>
</I>&gt;<i>         Passive attackers are SOL if you don't ever do HTTP/TCP/80.
</I>&gt;<i>
</I>&gt;<i>         You can easily splice into HTTP requests via dsniff and whatnot
</I>&gt;<i>         to insert a fake HSTS - it's harder if they never use HTTP in the
</I>&gt;<i>         first place and you never allow it.
</I>&gt;<i>
</I>&gt;<i>         There's probably a dozen other minor implications and
</I>&gt;<i>         scenarios that
</I>&gt;<i>         would need to be run through to generate a proper analysis,
</I>&gt;<i>         including
</I>&gt;<i>         interactions with user controllable content, XSS, CSRF, header
</I>&gt;<i>         splicing and header injection, but this is all you get for
</I>&gt;<i>         free from
</I>&gt;<i>         me after 2200 on a worknight. :-)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     I suppose I didn't consider &quot;accidentally&quot; using HTTP.  Given that
</I>&gt;<i>     I was considering any mechanism that does not protect against a
</I>&gt;<i>     MITM as flawed, I still see no benefit, but I do suppose there is
</I>&gt;<i>     a benefit against e.g., the passive attacker.  Not serving on port
</I>&gt;<i>     80 does come with a usability cost though.  Many users will not
</I>&gt;<i>     type in the protocol and will be surprised when it doesn't work.
</I>&gt;<i>
</I>&gt;<i>     Some of the concerns you listed could be mitigated by a
</I>&gt;<i>     well-designed framework: redirecting all requests to HTTPS won't
</I>&gt;<i>     protect against the data sent by the user, but it can prevent
</I>&gt;<i>     sending the login cookie in the response, and your framework can
</I>&gt;<i>     ensure the secure attribute is set on cookies.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         Cheers
</I>&gt;<i>         --
</I>&gt;<i>         <A HREF="http://www.subspacefield.org/~travis/">http://www.subspacefield.org/~travis/</A>
</I>&gt;<i>         &lt;<A HREF="https://urldefense.proofpoint.com/v2/url?u=http-3A__www.subspacefield.org_-7Etravis_&amp;d=BQMFaQ&amp;c=Sqcl0Ez6M0X8aeM67LKIiDJAXVeAw-YihVMNtXt-uEs&amp;r=8UB-FonM9AVnJQlZub6NeK0PnIGQ-R68-KfkL5j9Y2k&amp;m=Wg7x-Nmm93o6bFLwmNaxYRQhk4rUACJGtn96tqQTAfk&amp;s=ZWwQRqYCVatcaWsMlPSvb3GNapc9mZ3Gn87LT-WMKqA&amp;e=">https://urldefense.proofpoint.com/v2/url?u=http-3A__www.subspacefield.org_-7Etravis_&amp;d=BQMFaQ&amp;c=Sqcl0Ez6M0X8aeM67LKIiDJAXVeAw-YihVMNtXt-uEs&amp;r=8UB-FonM9AVnJQlZub6NeK0PnIGQ-R68-KfkL5j9Y2k&amp;m=Wg7x-Nmm93o6bFLwmNaxYRQhk4rUACJGtn96tqQTAfk&amp;s=ZWwQRqYCVatcaWsMlPSvb3GNapc9mZ3Gn87LT-WMKqA&amp;e=</A>&gt;
</I>&gt;<i>         | if spammer then <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">john at subspacefield.org</A>
</I>&gt;<i>         &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">john at subspacefield.org</A>&gt;
</I>&gt;<i>         &quot;Computer crime, the glamor crime of the 1970s, will become in the
</I>&gt;<i>         1980s one of the greatest sources of preventable business loss.&quot;
</I>&gt;<i>         John M. Carroll, &quot;Computer Security&quot;, first edition cover
</I>&gt;<i>         flap, 1977
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     -- 
</I>&gt;<i>     David Tomaschik
</I>&gt;<i>     OpenPGP: 0x5DEA789B
</I>&gt;<i>     <A HREF="http://systemoverlord.com">http://systemoverlord.com</A>
</I>&gt;<i>     &lt;<A HREF="https://urldefense.proofpoint.com/v2/url?u=http-3A__systemoverlord.com&amp;d=BQMFaQ&amp;c=Sqcl0Ez6M0X8aeM67LKIiDJAXVeAw-YihVMNtXt-uEs&amp;r=8UB-FonM9AVnJQlZub6NeK0PnIGQ-R68-KfkL5j9Y2k&amp;m=Wg7x-Nmm93o6bFLwmNaxYRQhk4rUACJGtn96tqQTAfk&amp;s=rRWBg2xdvU98xqX_DDfw1ZN6t4-MGARehv0wetwK_8o&amp;e=">https://urldefense.proofpoint.com/v2/url?u=http-3A__systemoverlord.com&amp;d=BQMFaQ&amp;c=Sqcl0Ez6M0X8aeM67LKIiDJAXVeAw-YihVMNtXt-uEs&amp;r=8UB-FonM9AVnJQlZub6NeK0PnIGQ-R68-KfkL5j9Y2k&amp;m=Wg7x-Nmm93o6bFLwmNaxYRQhk4rUACJGtn96tqQTAfk&amp;s=rRWBg2xdvU98xqX_DDfw1ZN6t4-MGARehv0wetwK_8o&amp;e=</A>&gt;
</I>&gt;<i>     <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">david at systemoverlord.com</A> &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">david at systemoverlord.com</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> David Tomaschik
</I>&gt;<i> OpenPGP: 0x5DEA789B
</I>&gt;<i> <A HREF="http://systemoverlord.com">http://systemoverlord.com</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">david at systemoverlord.com</A> &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">david at systemoverlord.com</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-bayarea mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">Owasp-bayarea at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">https://lists.owasp.org/mailman/listinfo/owasp-bayarea</A>
</I>
-- 
Jim Manico
Global Board Member
OWASP Foundation
<A HREF="https://www.owasp.org">https://www.owasp.org</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-bayarea/attachments/20151014/90277db4/attachment-0001.html">http://lists.owasp.org/pipermail/owasp-bayarea/attachments/20151014/90277db4/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000366.html">[Owasp-bayarea] How many products or web sites that you are aware of disable port 80(http) traffic completely?
</A></li>
	<LI>Next message: <A HREF="000368.html">[Owasp-bayarea] How many products or web sites that you are aware of disable port 80(http) traffic completely?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#367">[ date ]</a>
              <a href="thread.html#367">[ thread ]</a>
              <a href="subject.html#367">[ subject ]</a>
              <a href="author.html#367">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">More information about the Owasp-bayarea
mailing list</a><br>
</body></html>
