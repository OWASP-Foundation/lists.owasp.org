<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-bayarea] How many products or web sites that you are aware of disable port 80(http) traffic completely?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-bayarea%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-bayarea%5D%20How%20many%20products%20or%20web%20sites%20that%20you%20are%0A%20aware%20of%20disable%20port%2080%28http%29%20traffic%20completely%3F&In-Reply-To=%3CCAOy4VzcvQmqcdhONig6%3DcL%3DPiPQ_cS%2BFSDBW8z-Mk%3DsbnPS0KQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000364.html">
   <LINK REL="Next"  HREF="000366.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-bayarea] How many products or web sites that you are aware of disable port 80(http) traffic completely?</H1>
    <B>David Tomaschik</B> 
    <A HREF="mailto:owasp-bayarea%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-bayarea%5D%20How%20many%20products%20or%20web%20sites%20that%20you%20are%0A%20aware%20of%20disable%20port%2080%28http%29%20traffic%20completely%3F&In-Reply-To=%3CCAOy4VzcvQmqcdhONig6%3DcL%3DPiPQ_cS%2BFSDBW8z-Mk%3DsbnPS0KQ%40mail.gmail.com%3E"
       TITLE="[Owasp-bayarea] How many products or web sites that you are aware of disable port 80(http) traffic completely?">david at systemoverlord.com
       </A><BR>
    <I>Wed Oct 14 21:15:05 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000364.html">[Owasp-bayarea] How many products or web sites that you are aware of disable port 80(http) traffic completely?
</A></li>
        <LI>Next message: <A HREF="000366.html">[Owasp-bayarea] How many products or web sites that you are aware of disable port 80(http) traffic completely?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#365">[ date ]</a>
              <a href="thread.html#365">[ thread ]</a>
              <a href="subject.html#365">[ subject ]</a>
              <a href="author.html#365">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Oct 14, 2015 at 12:56 PM, Greg Christopher &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">gchristopher at vmware.com</A>&gt;
wrote:

&gt;<i> Thanks for the discussion folks. I wasn't really asking why, just whether.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The truth is, today, if a web portal doesn't turn off port 80 it can't
</I>&gt;<i> be secure from being forced to non-TLS traffic.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yes, people are very used to typing &quot;chase&quot; into their browser and ending
</I>&gt;<i> up with the chase banking web site. Unfortunately If you're not using the
</I>&gt;<i> chrome white list or a browser extension, you're not getting automatically
</I>&gt;<i> sent to https- you get redirected first.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Smart attackers use ettercap and sslsniff to blow through all of that
</I>&gt;<i> redirection stuff.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://www.youtube.com/watch?v=WhKBPwzhAZ4">https://www.youtube.com/watch?v=WhKBPwzhAZ4</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://www.youtube.com/watch?v=jEDgo6A_XUA">https://www.youtube.com/watch?v=jEDgo6A_XUA</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thank you Moxie. Here are the problems with a port 80 redirect:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -Connect to web site using http. Because you didn't use https, the
</I>&gt;<i> certificate was not verified and you don't really know who you're connected
</I>&gt;<i> to.
</I>&gt;<i>
</I>&gt;<i> -Receive 301 to redirect BACK to port 80 (kind of like spinning the player
</I>&gt;<i> in pin the tail on the donkey), but this is attacker code. And you're
</I>&gt;<i> redirected right back to insecurity
</I>&gt;<i>
</I>
No need to 301 you if there's a MITM.


&gt;<i> -SSLSNIFF proxies all the network traffic to your bank establishing a
</I>&gt;<i> secure connection on your behalf, but serving/repurposing back all of the
</I>&gt;<i> goodies to you on port 80.
</I>&gt;<i>
</I>&gt;<i> -SSLSNIFF puts a little lock FAVICON on the page for good measure :):):)
</I>&gt;<i>
</I>&gt;<i> -Surf away to your bank. You won't even notice it's not the actual bank
</I>&gt;<i> site. Passwords, account numbers, etc are all in the clear.
</I>&gt;<i>
</I>&gt;<i>      A Browsers' visual cues that you're on a secure site are notoriously
</I>&gt;<i> unnoticeable. To make this really stand out, we'd have to serve every
</I>&gt;<i> <A HREF="http://">http://</A> site with flashing red all around the page. We're not going to be
</I>&gt;<i> doing that any time soon. HSTS is the best we have, except turning off
</I>&gt;<i> &quot;port 80&quot; completely.
</I>&gt;<i>
</I>Well, in the case of chrome, that's not completely true.  Though no
definitive timeline has been laid out, Chrome has stated they intend to
mark HTTP as insecure:
<A HREF="https://www.chromium.org/Home/chromium-security/marking-http-as-non-secure">https://www.chromium.org/Home/chromium-security/marking-http-as-non-secure</A>


&gt;<i>
</I>&gt;<i> -----------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So actually, I am not working on a web site. I'm working on software that
</I>&gt;<i> should be secured as installed anywhere, and it's usually internal. So:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    -Google https whitelist
</I>&gt;<i>
</I>&gt;<i>    -https everywhere whitelist
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> are out of the question, which leaves:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -HSTS. Great technology... not secure the first time unless you avoid the
</I>&gt;<i> redirect... and *ONLY WORKS WITH SIGNED CERTIFICATES.  *
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So HSTS is imperfect and won't work in many internal deployments.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So back to the original question: Are there any software *products* you
</I>&gt;<i> know of that simply disallow redirects and only listen on 443?
</I>&gt;<i>
</I>If you're building your product, why does it matter if other products do
this?  If your threat model needs to be protected against HTTP downgrade,
just serve on 443, but realize that if a user *doesn't* type the https (due
to laziness, human error, etc.), a MITM will *still* own them.


&gt;<i>
</I>&gt;<i> Greg
</I>&gt;<i> ------------------------------
</I>&gt;<i> *From:* David Tomaschik &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">david at systemoverlord.com</A>&gt;
</I>&gt;<i> *Sent:* Wednesday, October 14, 2015 9:10 AM
</I>&gt;<i> *To:* David Tomaschik; Greg Christopher; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">owasp-bayarea at lists.owasp.org</A>
</I>&gt;<i> *Subject:* Re: [Owasp-bayarea] How many products or web sites that you
</I>&gt;<i> are aware of disable port 80(http) traffic completely?
</I>&gt;<i>
</I>&gt;<i> On Tue, Oct 13, 2015 at 10:25 PM, &lt;
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">travis+ml-owasp-bayarea at subspacefield.org</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On Tue, Oct 13, 2015 at 01:43:33PM -0700, David Tomaschik wrote:
</I>&gt;&gt;<i> &gt; There's really no advantage to not having a port 80 listener, is there?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It depends on your threat model.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The net-net is:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You and your customers can't accidentally end up using HTTP instead of
</I>&gt;&gt;<i> HTTPS.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The details are:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That means cookies which you failed to set the &quot;secure&quot; (?!?) flag on
</I>&gt;&gt;<i> don't accidentally get sent via HTTP.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> They don't accidentally send a password or sensitive information over
</I>&gt;&gt;<i> HTTP via an &quot;unsecure&quot; form, possibly via a redirect or something
</I>&gt;&gt;<i> where the form action is autogenerated.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You can avoid accidentally sending a login cookie or something in
</I>&gt;&gt;<i> an unencrypted response.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> An active MITM can spoof HTTP/TCP/80 without talking to the real site,
</I>&gt;&gt;<i> clearly.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> A MOTS can only race against the real site which probably sends back a
</I>&gt;&gt;<i> TCP RST.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Passive attackers are SOL if you don't ever do HTTP/TCP/80.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You can easily splice into HTTP requests via dsniff and whatnot
</I>&gt;&gt;<i> to insert a fake HSTS - it's harder if they never use HTTP in the
</I>&gt;&gt;<i> first place and you never allow it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There's probably a dozen other minor implications and scenarios that
</I>&gt;&gt;<i> would need to be run through to generate a proper analysis, including
</I>&gt;&gt;<i> interactions with user controllable content, XSS, CSRF, header
</I>&gt;&gt;<i> splicing and header injection, but this is all you get for free from
</I>&gt;&gt;<i> me after 2200 on a worknight. :-)
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I suppose I didn't consider &quot;accidentally&quot; using HTTP.  Given that I was
</I>&gt;<i> considering any mechanism that does not protect against a MITM as flawed, I
</I>&gt;<i> still see no benefit, but I do suppose there is a benefit against e.g., the
</I>&gt;<i> passive attacker.  Not serving on port 80 does come with a usability cost
</I>&gt;<i> though.  Many users will not type in the protocol and will be surprised
</I>&gt;<i> when it doesn't work.
</I>&gt;<i>
</I>&gt;<i> Some of the concerns you listed could be mitigated by a well-designed
</I>&gt;<i> framework: redirecting all requests to HTTPS won't protect against the data
</I>&gt;<i> sent by the user, but it can prevent sending the login cookie in the
</I>&gt;<i> response, and your framework can ensure the secure attribute is set on
</I>&gt;<i> cookies.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> <A HREF="http://www.subspacefield.org/~travis/">http://www.subspacefield.org/~travis/</A>
</I>&gt;&gt;<i> &lt;<A HREF="https://urldefense.proofpoint.com/v2/url?u=http-3A__www.subspacefield.org_-7Etravis_&amp;d=BQMFaQ&amp;c=Sqcl0Ez6M0X8aeM67LKIiDJAXVeAw-YihVMNtXt-uEs&amp;r=8UB-FonM9AVnJQlZub6NeK0PnIGQ-R68-KfkL5j9Y2k&amp;m=Wg7x-Nmm93o6bFLwmNaxYRQhk4rUACJGtn96tqQTAfk&amp;s=ZWwQRqYCVatcaWsMlPSvb3GNapc9mZ3Gn87LT-WMKqA&amp;e=">https://urldefense.proofpoint.com/v2/url?u=http-3A__www.subspacefield.org_-7Etravis_&amp;d=BQMFaQ&amp;c=Sqcl0Ez6M0X8aeM67LKIiDJAXVeAw-YihVMNtXt-uEs&amp;r=8UB-FonM9AVnJQlZub6NeK0PnIGQ-R68-KfkL5j9Y2k&amp;m=Wg7x-Nmm93o6bFLwmNaxYRQhk4rUACJGtn96tqQTAfk&amp;s=ZWwQRqYCVatcaWsMlPSvb3GNapc9mZ3Gn87LT-WMKqA&amp;e=</A>&gt;
</I>&gt;&gt;<i> | if spammer then <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">john at subspacefield.org</A>
</I>&gt;&gt;<i> &quot;Computer crime, the glamor crime of the 1970s, will become in the
</I>&gt;&gt;<i> 1980s one of the greatest sources of preventable business loss.&quot;
</I>&gt;&gt;<i> John M. Carroll, &quot;Computer Security&quot;, first edition cover flap, 1977
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> David Tomaschik
</I>&gt;<i> OpenPGP: 0x5DEA789B
</I>&gt;<i> <A HREF="http://systemoverlord.com">http://systemoverlord.com</A>
</I>&gt;<i> &lt;<A HREF="https://urldefense.proofpoint.com/v2/url?u=http-3A__systemoverlord.com&amp;d=BQMFaQ&amp;c=Sqcl0Ez6M0X8aeM67LKIiDJAXVeAw-YihVMNtXt-uEs&amp;r=8UB-FonM9AVnJQlZub6NeK0PnIGQ-R68-KfkL5j9Y2k&amp;m=Wg7x-Nmm93o6bFLwmNaxYRQhk4rUACJGtn96tqQTAfk&amp;s=rRWBg2xdvU98xqX_DDfw1ZN6t4-MGARehv0wetwK_8o&amp;e=">https://urldefense.proofpoint.com/v2/url?u=http-3A__systemoverlord.com&amp;d=BQMFaQ&amp;c=Sqcl0Ez6M0X8aeM67LKIiDJAXVeAw-YihVMNtXt-uEs&amp;r=8UB-FonM9AVnJQlZub6NeK0PnIGQ-R68-KfkL5j9Y2k&amp;m=Wg7x-Nmm93o6bFLwmNaxYRQhk4rUACJGtn96tqQTAfk&amp;s=rRWBg2xdvU98xqX_DDfw1ZN6t4-MGARehv0wetwK_8o&amp;e=</A>&gt;
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">david at systemoverlord.com</A>
</I>&gt;<i>
</I>


-- 
David Tomaschik
OpenPGP: 0x5DEA789B
<A HREF="http://systemoverlord.com">http://systemoverlord.com</A>
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">david at systemoverlord.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-bayarea/attachments/20151014/4eb1e973/attachment.html">http://lists.owasp.org/pipermail/owasp-bayarea/attachments/20151014/4eb1e973/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000364.html">[Owasp-bayarea] How many products or web sites that you are aware of disable port 80(http) traffic completely?
</A></li>
	<LI>Next message: <A HREF="000366.html">[Owasp-bayarea] How many products or web sites that you are aware of disable port 80(http) traffic completely?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#365">[ date ]</a>
              <a href="thread.html#365">[ thread ]</a>
              <a href="subject.html#365">[ subject ]</a>
              <a href="author.html#365">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-bayarea">More information about the Owasp-bayarea
mailing list</a><br>
</body></html>
