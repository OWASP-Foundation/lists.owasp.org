<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-csrfguard] Owasp-csrfguard Digest, Vol 39, Issue 1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-csrfguard%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfguard%5D%20Owasp-csrfguard%20Digest%2C%20Vol%2039%2C%20Issue%201&In-Reply-To=%3CCAFQ4Oy3jwYoaJ7_QGxpxQ%3DGXHKTauxE1CHmRaWOU2ftWQjtOOg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000263.html">
   <LINK REL="Next"  HREF="000265.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-csrfguard] Owasp-csrfguard Digest, Vol 39, Issue 1</H1>
    <B>Manish Java</B> 
    <A HREF="mailto:owasp-csrfguard%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfguard%5D%20Owasp-csrfguard%20Digest%2C%20Vol%2039%2C%20Issue%201&In-Reply-To=%3CCAFQ4Oy3jwYoaJ7_QGxpxQ%3DGXHKTauxE1CHmRaWOU2ftWQjtOOg%40mail.gmail.com%3E"
       TITLE="[Owasp-csrfguard] Owasp-csrfguard Digest, Vol 39, Issue 1">manish.in.java at gmail.com
       </A><BR>
    <I>Tue Nov  5 12:06:21 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000263.html">[Owasp-csrfguard] OWASP-CSRF Guard - Probleme with the	JavaScriptServlet
</A></li>
        <LI>Next message: <A HREF="000265.html">[Owasp-csrfguard] Owasp-csrfguard Digest, Vol 39, Issue 1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#264">[ date ]</a>
              <a href="thread.html#264">[ thread ]</a>
              <a href="subject.html#264">[ subject ]</a>
              <a href="author.html#264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Younes

I have been using CSRFGuard for a while now and haven't faced this problem.
 From your first post I believe you are using Apache Tomcat, which is what
we use for our application as well so our usage seems to be the same as
yours.

I have looked through the code for the JavaScript servlet and do not see
any obvious reason why you should be getting the reported error.  Could you
help out by providing the following details:



   1. Java version you are using.
   2. Tomcat version you are using.
   3. Complete stack trace for the error, including all logged causes.
   4. Whether you get the error all the time or only in some instances.  If
   only occasionally, any steps to reproduce the error would be good.


Cheers
~ Manish


On Sat, Nov 2, 2013 at 5:30 PM, &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard-request at lists.owasp.org</A>&gt;wrote:

&gt;<i> Send Owasp-csrfguard mailing list submissions to
</I>&gt;<i>         <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard at lists.owasp.org</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>         <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">https://lists.owasp.org/mailman/listinfo/owasp-csrfguard</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i>         <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard-request at lists.owasp.org</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i>         <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard-owner at lists.owasp.org</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of Owasp-csrfguard digest...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>    1. OWASP-CSRF Guard - Probleme with the      JavaScriptServlet
</I>&gt;<i>       (younes quoulali)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Fri, 1 Nov 2013 17:58:30 +0000
</I>&gt;<i> From: younes quoulali &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">yquoulali at gmail.com</A>&gt;
</I>&gt;<i> To: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard at lists.owasp.org</A>
</I>&gt;<i> Subject: [Owasp-csrfguard] OWASP-CSRF Guard - Probleme with the
</I>&gt;<i>         JavaScriptServlet
</I>&gt;<i> Message-ID:
</I>&gt;<i>         &lt;CAPEPW-GC=
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">p3dvADi-c9uspdoqArwaNn6u_Kux8k1GBu-2EYykQ at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;iso-8859-1&quot;
</I>&gt;<i>
</I>&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I have implemented the OWASP CSRF guard solution, all work properly like i
</I>&gt;<i> expect, but on other side, i got an exception in the logs:
</I>&gt;<i>
</I>&gt;<i> INFO   | jvm 1    | main    | 2013/11/01 16:44:02.760 | nov. 01, 2013
</I>&gt;<i> 4:44:02 PM org.apache.catalina.core.StandardWrapperValve invoke
</I>&gt;<i> INFO   | jvm 1    | main    | 2013/11/01 16:44:02.803 | SEVERE:
</I>&gt;<i> &quot;Servlet.service()&quot; pour la servlet JavaScriptServlet a g?n?r? une
</I>&gt;<i> exception
</I>&gt;<i> INFO   | jvm 1    | main    | 2013/11/01 16:44:02.857 |
</I>&gt;<i> java.lang.IllegalStateException
</I>&gt;<i>
</I>&gt;<i> After debugging, i found that the root exception happen in the method
</I>&gt;<i> writeJavaScript() when it try to close the outputStream
</I>&gt;<i> (Streams.close(output);): java.io.IOException: This output stream has
</I>&gt;<i> already been closed
</I>&gt;<i>
</I>&gt;<i> i would override this servlet to catch this exception, but it is a final
</I>&gt;<i> class.
</I>&gt;<i>
</I>&gt;<i> Anyone had an idea how to fix this ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Best regards.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Quoulali Younes
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL: &lt;
</I>&gt;<i> <A HREF="http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131101/2f8eea94/attachment-0001.html">http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131101/2f8eea94/attachment-0001.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-csrfguard mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">Owasp-csrfguard at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">https://lists.owasp.org/mailman/listinfo/owasp-csrfguard</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> End of Owasp-csrfguard Digest, Vol 39, Issue 1
</I>&gt;<i> **********************************************
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131105/2b87c2c9/attachment.html">http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131105/2b87c2c9/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000263.html">[Owasp-csrfguard] OWASP-CSRF Guard - Probleme with the	JavaScriptServlet
</A></li>
	<LI>Next message: <A HREF="000265.html">[Owasp-csrfguard] Owasp-csrfguard Digest, Vol 39, Issue 1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#264">[ date ]</a>
              <a href="thread.html#264">[ thread ]</a>
              <a href="subject.html#264">[ subject ]</a>
              <a href="author.html#264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">More information about the Owasp-csrfguard
mailing list</a><br>
</body></html>
