<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-csrfguard] Owasp-csrfguard Digest, Vol 39, Issue 1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-csrfguard%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfguard%5D%20Owasp-csrfguard%20Digest%2C%20Vol%2039%2C%20Issue%201&In-Reply-To=%3C52793ddd.b3bbb40a.511f.54fd%40mx.google.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000264.html">
   <LINK REL="Next"  HREF="000266.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-csrfguard] Owasp-csrfguard Digest, Vol 39, Issue 1</H1>
    <B>OWASP</B> 
    <A HREF="mailto:owasp-csrfguard%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfguard%5D%20Owasp-csrfguard%20Digest%2C%20Vol%2039%2C%20Issue%201&In-Reply-To=%3C52793ddd.b3bbb40a.511f.54fd%40mx.google.com%3E"
       TITLE="[Owasp-csrfguard] Owasp-csrfguard Digest, Vol 39, Issue 1">azzeddine.ramrami at owasp.org
       </A><BR>
    <I>Tue Nov  5 18:50:03 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000264.html">[Owasp-csrfguard] Owasp-csrfguard Digest, Vol 39, Issue 1
</A></li>
        <LI>Next message: <A HREF="000266.html">[Owasp-csrfguard] Owasp-csrfguard Digest, Vol 39, Issue 1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#265">[ date ]</a>
              <a href="thread.html#265">[ thread ]</a>
              <a href="subject.html#265">[ subject ]</a>
              <a href="author.html#265">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Younes,
I am Azzeddine RAMRAMI the CSRFGuard project leader.
I mentioned by Manish please provide all informations and I will investigate to solve your issue:

:<i>
</I>


1. Java version
2.Tomcat version you are using.
3.Complete stack trace for the error or a copy of the log files.
Thanks.
Azzeddine

-----Original Message-----
From: Manish Java
Sent: 05/11/2013 13:07
To: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard at lists.owasp.org</A>; <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">yquoulali at gmail.com</A>
Subject: Re: [Owasp-csrfguard] Owasp-csrfguard Digest, Vol 39, Issue 1

Hi Younes



I have been using CSRFGuard for a while now and haven't faced this problem.  From your first post I believe you are using Apache Tomcat, which is what we use for our application as well so our usage seems to be the same as yours.
 



I have looked through the code for the JavaScript servlet and do not see any obvious reason why you should be getting the reported error.  Could you help out by providing the following details:

 





Java version you are using.
Tomcat version you are using.
Complete stack trace for the error, including all logged causes.
Whether you get the error all the time or only in some instances.  If only occasionally, any steps to reproduce the error would be good.
 



Cheers

~ Manish




On Sat, Nov 2, 2013 at 5:30 PM, &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard-request at lists.owasp.org</A>&gt; wrote:
 
Send Owasp-csrfguard mailing list submissions to
         <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard at lists.owasp.org</A>
 
To subscribe or unsubscribe via the World Wide Web, visit
         <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">https://lists.owasp.org/mailman/listinfo/owasp-csrfguard</A>
 or, via email, send a message with subject or body 'help' to
         <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard-request at lists.owasp.org</A>
 
You can reach the person managing the list at
         <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard-owner at lists.owasp.org</A>
 
When replying, please edit your Subject line so it is more specific
 than &quot;Re: Contents of Owasp-csrfguard digest...&quot;
 

Today's Topics:
 
   1. OWASP-CSRF Guard - Probleme with the      JavaScriptServlet
       (younes quoulali)
 

----------------------------------------------------------------------
 
Message: 1
 Date: Fri, 1 Nov 2013 17:58:30 +0000
 From: younes quoulali &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">yquoulali at gmail.com</A>&gt;
 To: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard at lists.owasp.org</A>
 Subject: [Owasp-csrfguard] OWASP-CSRF Guard - Probleme with the
         JavaScriptServlet
 Message-ID:
         &lt;CAPEPW-GC=<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">p3dvADi-c9uspdoqArwaNn6u_Kux8k1GBu-2EYykQ at mail.gmail.com</A>&gt;
 Content-Type: text/plain; charset=&quot;iso-8859-1&quot;
 
Hello,
 
I have implemented the OWASP CSRF guard solution, all work properly like i
 expect, but on other side, i got an exception in the logs:
 
INFO   | jvm 1    | main    | 2013/11/01 16:44:02.760 | nov. 01, 2013
 4:44:02 PM org.apache.catalina.core.StandardWrapperValve invoke
 INFO   | jvm 1    | main    | 2013/11/01 16:44:02.803 | SEVERE:
 &quot;Servlet.service()&quot; pour la servlet JavaScriptServlet a g?n?r? une exception
 INFO   | jvm 1    | main    | 2013/11/01 16:44:02.857 |
 java.lang.IllegalStateException
 
After debugging, i found that the root exception happen in the method
 writeJavaScript() when it try to close the outputStream
 (Streams.close(output);): java.io.IOException: This output stream has
 already been closed
 
i would override this servlet to catch this exception, but it is a final
 class.
 
Anyone had an idea how to fix this ?
 

Best regards.
 

--
 Quoulali Younes
 -------------- next part --------------
 An HTML attachment was scrubbed...
 URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131101/2f8eea94/attachment-0001.html">http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131101/2f8eea94/attachment-0001.html</A>&gt;

 ------------------------------
 
_______________________________________________
 Owasp-csrfguard mailing list
 <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">Owasp-csrfguard at lists.owasp.org</A>
 <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">https://lists.owasp.org/mailman/listinfo/owasp-csrfguard</A>
 

End of Owasp-csrfguard Digest, Vol 39, Issue 1
 **********************************************
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131105/68a24aef/attachment.html">http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131105/68a24aef/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000264.html">[Owasp-csrfguard] Owasp-csrfguard Digest, Vol 39, Issue 1
</A></li>
	<LI>Next message: <A HREF="000266.html">[Owasp-csrfguard] Owasp-csrfguard Digest, Vol 39, Issue 1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#265">[ date ]</a>
              <a href="thread.html#265">[ thread ]</a>
              <a href="subject.html#265">[ subject ]</a>
              <a href="author.html#265">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">More information about the Owasp-csrfguard
mailing list</a><br>
</body></html>
