<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-csrfguard] CSRFGuard and protecting links of pages sent	out
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-csrfguard%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfguard%5D%20CSRFGuard%20and%20protecting%20links%20of%20pages%20sent%0A%09out&In-Reply-To=%3C25DCD69978FA134B98904EA9A2D2055CDD4059%40vm-ws2003.nextit.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000166.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-csrfguard] CSRFGuard and protecting links of pages sent	out</H1>
    <B>Fernando Mayoral</B> 
    <A HREF="mailto:owasp-csrfguard%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfguard%5D%20CSRFGuard%20and%20protecting%20links%20of%20pages%20sent%0A%09out&In-Reply-To=%3C25DCD69978FA134B98904EA9A2D2055CDD4059%40vm-ws2003.nextit.local%3E"
       TITLE="[Owasp-csrfguard] CSRFGuard and protecting links of pages sent	out">fernandomayoral at uxorit.com
       </A><BR>
    <I>Thu Nov 29 14:23:07 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000166.html">[Owasp-csrfguard] CSRFGuard and protecting links of pages sent out	in emails
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#167">[ date ]</a>
              <a href="thread.html#167">[ thread ]</a>
              <a href="subject.html#167">[ subject ]</a>
              <a href="author.html#167">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, 

I believe that what you need is a custom unprotected page which injects
the token and redirect to the protected page, but then any user could

get access, so you also need to generate an unique key per mail, store
it (maybe with an expiration date and an access count?), and append the

key as a parameter in the link to your unprotected landing page, so
when you get the http request you can recover the key and validate it in


order to verify that the user is someone who received the email, and
redirect him to the protected page.

 

Or, if that page isn't supposed to be protected, you can just exclude it
in Owasp.CsrfGuard.properties as 
org.owasp.csrfguard.unprotected.mypage=/myUnprotectedPage.jsp

 

Hope it helps!

 

 

 Fernando Mayoral

 Desarrollador de Software

 <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">fernandomayoral at uxorit.com</A> &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">fernandomayoral at uxorit.com</A>&gt; 
 Skype: fernandomayoral.uxorit

 

 Sinclair 3139 Piso 2
 C1425DGU, Buenos Aires, Argentina
 54 11 4782.9659

 La Rioja 2071 Piso 8
 B7600GTL, Mar del Plata, Argentina
 54 22 3491.9250

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20121129/6bc9d33f/attachment.html">http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20121129/6bc9d33f/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.gif
Type: image/gif
Size: 1587 bytes
Desc: image001.gif
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20121129/6bc9d33f/attachment.gif">http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20121129/6bc9d33f/attachment.gif</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.jpg
Type: image/jpeg
Size: 2577 bytes
Desc: image002.jpg
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20121129/6bc9d33f/attachment.jpg">http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20121129/6bc9d33f/attachment.jpg</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.gif
Type: image/gif
Size: 515 bytes
Desc: image003.gif
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20121129/6bc9d33f/attachment-0001.gif">http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20121129/6bc9d33f/attachment-0001.gif</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000166.html">[Owasp-csrfguard] CSRFGuard and protecting links of pages sent out	in emails
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#167">[ date ]</a>
              <a href="thread.html#167">[ thread ]</a>
              <a href="subject.html#167">[ subject ]</a>
              <a href="author.html#167">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">More information about the Owasp-csrfguard
mailing list</a><br>
</body></html>
