<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-csrfguard] are there clustering requirements to	csrfguard?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-csrfguard%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfguard%5D%20are%20there%20clustering%20requirements%20to%0A%09csrfguard%3F&In-Reply-To=%3C5245CF6F.3020500%40stanford.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000249.html">
   <LINK REL="Next"  HREF="000248.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-csrfguard] are there clustering requirements to	csrfguard?</H1>
    <B>Patrick Radtke</B> 
    <A HREF="mailto:owasp-csrfguard%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfguard%5D%20are%20there%20clustering%20requirements%20to%0A%09csrfguard%3F&In-Reply-To=%3C5245CF6F.3020500%40stanford.edu%3E"
       TITLE="[Owasp-csrfguard] are there clustering requirements to	csrfguard?">pradtke at stanford.edu
       </A><BR>
    <I>Fri Sep 27 18:33:19 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000249.html">[Owasp-csrfguard] are there clustering requirements to csrfguard?
</A></li>
        <LI>Next message: <A HREF="000248.html">[Owasp-csrfguard] dynamic dom manipulation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#250">[ date ]</a>
              <a href="thread.html#250">[ thread ]</a>
              <a href="subject.html#250">[ subject ]</a>
              <a href="author.html#250">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/27/13 10:45 AM, Chris Hyzer wrote:
&gt;<i> My app doesn&#8217;t store anything in session, though generally we have
</I>&gt;<i> stateful session load balancing.  If the cluster of servers removes a
</I>&gt;<i> node, and a user is moved to another node, will CSRFGuard be able to
</I>&gt;<i> deal with that, or does it assume that sessions are clustered in the app
</I>&gt;<i> server?
</I>
I think it will depend on what URL the user is accessing when they are 
switched to another server. CSRFGaurd will create a new set of tokens 
for the user when the user access the new server (as part of the servlet 
session getting created). If the URL is protected with a CSRF token, 
then there will be a CSRF token mismatch error since the token provided 
by the user would have been from the old server. If the URL is not 
protected then everything is fine. Clicking back and accessing cached 
pages would have invalid tokens as well.

We use a filter to try to spot those conditions and send them to more 
informative error page (rather then telling them access denied).


-Patrick

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000249.html">[Owasp-csrfguard] are there clustering requirements to csrfguard?
</A></li>
	<LI>Next message: <A HREF="000248.html">[Owasp-csrfguard] dynamic dom manipulation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#250">[ date ]</a>
              <a href="thread.html#250">[ thread ]</a>
              <a href="subject.html#250">[ subject ]</a>
              <a href="author.html#250">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">More information about the Owasp-csrfguard
mailing list</a><br>
</body></html>
