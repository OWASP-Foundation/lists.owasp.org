<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-csrfguard] Query on CSRFGuard and usage in IBM	Websphere	6.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-csrfguard%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfguard%5D%20Query%20on%20CSRFGuard%20and%20usage%20in%20IBM%0A%09Websphere%096.1&In-Reply-To=%3CC4057EF485FE7646AF33A054C9660C25041156%40XCH-BLV-405.nw.nos.boeing.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000272.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-csrfguard] Query on CSRFGuard and usage in IBM	Websphere	6.1</H1>
    <B>Erwin, Christy L</B> 
    <A HREF="mailto:owasp-csrfguard%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfguard%5D%20Query%20on%20CSRFGuard%20and%20usage%20in%20IBM%0A%09Websphere%096.1&In-Reply-To=%3CC4057EF485FE7646AF33A054C9660C25041156%40XCH-BLV-405.nw.nos.boeing.com%3E"
       TITLE="[Owasp-csrfguard] Query on CSRFGuard and usage in IBM	Websphere	6.1">Christy.L.Erwin at boeing.com
       </A><BR>
    <I>Tue Jan  7 20:10:17 UTC 2014</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000272.html">[Owasp-csrfguard] Query on CSRFGuard and usage in IBM Websphere	6.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#271">[ date ]</a>
              <a href="thread.html#271">[ thread ]</a>
              <a href="subject.html#271">[ subject ]</a>
              <a href="author.html#271">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Ragha,

I recently implemented CSRFGuard in an application using IBM WebSphere 8.0. There are some changes that need to be made to the code in order to get it to work with the WebSphere server. I found that the Installation Guide and other documentation on the OWASP site does not address this.

In particular, in the csrfguard.properties file, I had to change the org.owasp.csrfguard.PRNG property
From: org.owasp.csrfguard.PRNG =SHA1PRNG
To: org.owasp.csrfguard.PRNG=IBMSecureRandom 

And in the CsrfGuard.java file, defaults are hard-coded for the following two values, which have to be changed for WebSphere servers
From: org.owasp.csrfguard.PRNG=SHA1PRNG
To: org.owasp.csrfguard.PRNG=IBMSecureRandom
---
From: org.owasp.csrfguard.PRNG.Provider=SUN 
To: org.owasp.csrfguard.PRNG.Provider=IBMJCE
---

Because of the change to the .java file, the code had to be recompiled. The OWASP CSRFGuard Install Guide shows how to list the CSRFGuardListener class in its example web.xml file. And the CSRFGuard.jar file on my company's application security web site contains this class file. But I was not able to find this java code anywhere. So instead, I used the CsrfGuardServletContextListener and CsrfGuardHttpSessionListener classes, and put them in my web.xml as follows:
    &lt;listener&gt;
       &lt;listener-class&gt;org.owasp.csrfguard.CsrfGuardServletContextListener&lt;/listener-class&gt;
    &lt;/listener&gt;
    &lt;listener&gt;
       &lt;listener-class&gt;org.owasp.csrfguard.CsrfGuardHttpSessionListener&lt;/listener-class&gt;
    &lt;/listener&gt;

I would think that it would be possible to put both properties in csrfguard.properties and forgo the recompile of the Java code, but I didn't try this myself. It would look like this:
org.owasp.csrfguard.PRNG=IBMSecureRandom
org.owasp.csrfguard.PRNG.Provider=IBMJCE

This is where info is on these properties for WebSphere:
<A HREF="http://files.jscape.com/secureftpserver/docs/index.html?running_under_ibm_jvm.htm">http://files.jscape.com/secureftpserver/docs/index.html?running_under_ibm_jvm.htm</A>

Since I only needed to protect a couple pages in the application I worked on, I found it much simpler to use the provided JSP Tag Library, csrfguard.tld, and insert tokens into specific links. For me, this was preferable to using the default JavaScript token injection, which for my application, which has many links and older and faulty JavaScript code, surfaced a lot of previously unseen JS errors.

Feel free to contact me if you have additional questions about CSRFGuard in WebSphere.

Christa Erwin 
Programmer/Analyst, Boeing Enterprise Supplier Tools (BEST) 
Mon-Thurs, 8:00 - 4:30 pm
Work: 425-234-5942
Cell: 206-427-1787 

-----Original Message-----
From: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard-bounces at lists.owasp.org</A> [mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard-bounces at lists.owasp.org</A>] On Behalf Of <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard-request at lists.owasp.org</A>
Sent: Thursday, December 26, 2013 4:00 AM
To: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard at lists.owasp.org</A>
Subject: Owasp-csrfguard Digest, Vol 40, Issue 1

Send Owasp-csrfguard mailing list submissions to
	<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard at lists.owasp.org</A>

To subscribe or unsubscribe via the World Wide Web, visit
	<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">https://lists.owasp.org/mailman/listinfo/owasp-csrfguard</A>
or, via email, send a message with subject or body 'help' to
	<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard-request at lists.owasp.org</A>

You can reach the person managing the list at
	<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard-owner at lists.owasp.org</A>

When replying, please edit your Subject line so it is more specific than &quot;Re: Contents of Owasp-csrfguard digest...&quot;


Today's Topics:

   1. Query on CSRFGuard and usage in IBM Websphere 6.1 (Raghu Vedu)
   2. Re: Query on CSRFGuard and usage in IBM Websphere	6.1
      (Azzeddine Ramrami)


----------------------------------------------------------------------

Message: 1
Date: 26 Dec 2013 04:58:27 -0000
From: &quot;Raghu Vedu&quot; &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">vedeshwar777 at rediffmail.com</A>&gt;
To: &quot;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard at lists.owasp.org</A>&quot;
	&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard at lists.owasp.org</A>&gt;
Subject: [Owasp-csrfguard] Query on CSRFGuard and usage in IBM
	Websphere 6.1
Message-ID: &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">20131226045827.26979.qmail at f4mail-235-197.rediffmail.com</A>&gt;
Content-Type: text/plain; charset=&quot;utf-8&quot;



Hi,
&nbsp;
I am trying to use the source from <A HREF="https://github.com/esheri3/OWASP-CSRFGuard">https://github.com/esheri3/OWASP-CSRFGuard</A> and my need is to use the library in web application using IBM Websphere 6.1 server.
&nbsp;
I am seeing it is written for Maven, so please let me know if IBM websphere based project is also available.
&nbsp;
I am bit new to this, so please let me know the feasibility of using the CSRFguard in IBM server.
&nbsp;
Thanks
Ragha
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131226/9a1ded72/attachment-0001.html">http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131226/9a1ded72/attachment-0001.html</A>&gt;

------------------------------

Message: 2
Date: Thu, 26 Dec 2013 09:08:24 +0100
From: Azzeddine Ramrami &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">azzeddine.ramrami at owasp.org</A>&gt;
To: Raghu Vedu &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">vedeshwar777 at rediffmail.com</A>&gt;
Cc: &quot;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard at lists.owasp.org</A>&quot;
	&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">owasp-csrfguard at lists.owasp.org</A>&gt;
Subject: Re: [Owasp-csrfguard] Query on CSRFGuard and usage in IBM
	Websphere	6.1
Message-ID:
	&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">CAL4seLGp93CD61jEh8HTYxmBZiN3yqG871Jwf+xz9qO8G2Sz9A at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=&quot;iso-8859-1&quot;

Dear Sir,
I ma the Leader of this project.
You can use the CSRFGuard library with IBM WS as JavaEE filter.

OWASP CSRFGuard utilizes request tokens to address Cross-Site Request Forgery.  CSRF is an attack where the victim is tricked into interacting with a website where they are already authenticated.
CSRFGuard Provides code to generate unique request tokens to mitigate CSRF risks.

You can integrate the source code using you own method (if you don't use Maven).

The following link show how to integrate CSRFGuard with you application :

<A HREF="https://www.owasp.org/index.php/CSRFGuard_3_Installation">https://www.owasp.org/index.php/CSRFGuard_3_Installation</A>

If you have any question contact me.
Regards,
Azzeddine RAMRAMI



On Thu, Dec 26, 2013 at 5:58 AM, Raghu Vedu &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">vedeshwar777 at rediffmail.com</A>&gt;wrote:

&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Hi,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I am trying to use the source from
</I>&gt;<i> <A HREF="https://github.com/esheri3/OWASP-CSRFGuard&lt;https://mail.cognizant.com/">https://github.com/esheri3/OWASP-CSRFGuard&lt;https://mail.cognizant.com/</A>
</I>&gt;<i> owa/redir.aspx?C=gctwdUlqRE6Dy9yipRCHDBaTrkSO1dAITOgP44EdTmawQQ3YMLYMT
</I>&gt;<i> Ok3pVLoRqRK1yF4wY8ha-4.&amp;URL=https%3a%2f%2fgithub.com%2fesheri3%2fOWASP
</I>&gt;<i> -CSRFGuard&gt;and my need is to use the library in web application using 
</I>&gt;<i> IBM Websphere
</I>&gt;<i> 6.1 server.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I am seeing it is written for Maven, so please let me know if IBM 
</I>&gt;<i> websphere based project is also available.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I am bit new to this, so please let me know the feasibility of using 
</I>&gt;<i> the CSRFguard in IBM server.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i> Ragha
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;<A HREF="http://sigads.rediff.com/RealMedia/ads/click_nx.ads/www.rediffmail.co">http://sigads.rediff.com/RealMedia/ads/click_nx.ads/www.rediffmail.co</A>
</I>&gt;<i> m/<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">signatureline.htm at Middle</A>?&gt; Get your own *FREE* website, *FREE* 
</I>&gt;<i> domain &amp; *FREE* mobile app with Company email.
</I>&gt;<i> *Know More 
</I>&gt;<i> &gt;*&lt;<A HREF="http://track.rediff.com/click?url=___http://businessemail.rediff.co">http://track.rediff.com/click?url=___http://businessemail.rediff.co</A>
</I>&gt;<i> m/company-email-hosting-services?sc_cid=sign-1-10-13___&amp;cmp=host&amp;lnk=s
</I>&gt;<i> ign-1-10-13&amp;nsrv1=host&gt; 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-csrfguard mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">Owasp-csrfguard at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">https://lists.owasp.org/mailman/listinfo/owasp-csrfguard</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

--
Azzeddine RAMRAMI
+33 6 65 48 90 04.
Enterprise Security Architect
OWASP Leader (Morocco Chapter)
Mozilla Security Projects Mentor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131226/a1922fc9/attachment-0001.html">http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131226/a1922fc9/attachment-0001.html</A>&gt;

------------------------------

_______________________________________________
Owasp-csrfguard mailing list
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">Owasp-csrfguard at lists.owasp.org</A>
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">https://lists.owasp.org/mailman/listinfo/owasp-csrfguard</A>


End of Owasp-csrfguard Digest, Vol 40, Issue 1
**********************************************
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000272.html">[Owasp-csrfguard] Query on CSRFGuard and usage in IBM Websphere	6.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#271">[ date ]</a>
              <a href="thread.html#271">[ thread ]</a>
              <a href="subject.html#271">[ subject ]</a>
              <a href="author.html#271">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">More information about the Owasp-csrfguard
mailing list</a><br>
</body></html>
