<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Here&nbsp;is&nbsp;what&nbsp;I&nbsp;test&nbsp;in&nbsp;IBM&nbsp;WAS&nbsp;8.0:&lt;br&gt;&lt;br&gt;&lt;br&gt;In&nbsp;particular,&nbsp;in&nbsp;the&nbsp;csrfguard.properties&nbsp;file,&nbsp;I&nbsp;had&nbsp;to&nbsp;change&nbsp;the&nbsp;org.owasp.csrfguard.PRNG&nbsp;property&lt;br&gt;&lt;br&gt;From:&nbsp;org.owasp.csrfguard.PRNG&nbsp;=SHA1PRNG&lt;br&gt;To:&nbsp;org.owasp.csrfguard.PRNG=IBMSecureRandom&lt;br&gt;<br>
&lt;br&gt;And&nbsp;in&nbsp;the&nbsp;CsrfGuard.java&nbsp;file,&nbsp;defaults&nbsp;are&nbsp;hard-coded&nbsp;for&nbsp;the&nbsp;following&nbsp;two&nbsp;values,&nbsp;which&nbsp;have&nbsp;to&nbsp;be&nbsp;changed&nbsp;for&nbsp;WebSphere&nbsp;servers&lt;br&gt;&lt;br&gt;From:&nbsp;org.owasp.csrfguard.PRNG=SHA1PRNG&lt;br&gt;To:&nbsp;org.owasp.csrfguard.PRNG=IBMSecureRandom&lt;br&gt;<br>
---&lt;br&gt;From:&nbsp;org.owasp.csrfguard.PRNG.Provider=SUN&lt;br&gt;To:&nbsp;org.owasp.csrfguard.PRNG.Provider=IBMJCE&lt;br&gt;---&lt;br&gt;&lt;br&gt;Because&nbsp;of&nbsp;the&nbsp;change&nbsp;to&nbsp;the&nbsp;.java&nbsp;file,&nbsp;the&nbsp;code&nbsp;had&nbsp;to&nbsp;be&nbsp;recompiled.&nbsp;The&nbsp;OWASP&nbsp;CSRFGuard&nbsp;Install&nbsp;Guide&nbsp;shows&nbsp;how&nbsp;to&nbsp;list&nbsp;the&nbsp;CSRFGuardListener&nbsp;class&nbsp;in&nbsp;its&nbsp;example&nbsp;web.xml&nbsp;file.&nbsp;And&nbsp;the&nbsp;CSRFGuard.jar&nbsp;file&nbsp;on&nbsp;my&nbsp;company&#39;s&nbsp;application&nbsp;security&nbsp;web&nbsp;site&nbsp;contains&nbsp;this&nbsp;class&nbsp;file.&nbsp;But&nbsp;I&nbsp;was&nbsp;not&nbsp;able&nbsp;to&nbsp;find&nbsp;this&nbsp;java&nbsp;code&nbsp;anywhere.&nbsp;So&nbsp;instead,&nbsp;I&nbsp;used&nbsp;the&nbsp;CsrfGuardServletContextListener&nbsp;and&nbsp;CsrfGuardHttpSessionListener&nbsp;classes,&nbsp;and&nbsp;put&nbsp;them&nbsp;in&nbsp;my&nbsp;web.xml&nbsp;as&nbsp;follows:&lt;br&gt;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;listener&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;listener-class&gt;org.owasp.csrfguard.CsrfGuardServletContextListener&lt;/listener-class&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/listener&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;listener&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;listener-class&gt;org.owasp.csrfguard.CsrfGuardHttpSessionListener&lt;/listener-class&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/listener&gt;&lt;br&gt;&lt;br&gt;It&nbsp;would&nbsp;be&nbsp;possible&nbsp;to&nbsp;put&nbsp;both&nbsp;properties&nbsp;in&nbsp;csrfguard.properties&nbsp;and&nbsp;forgo&nbsp;the&nbsp;recompile&nbsp;of&nbsp;the&nbsp;Java&nbsp;code,&nbsp;like&nbsp;this:&lt;br&gt;org.owasp.csrfguard.PRNG=IBMSecureRandom&lt;br&gt;org.owasp.csrfguard.PRNG.Provider=IBMJCE&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Apr&nbsp;8,&nbsp;2014&nbsp;at&nbsp;7:46&nbsp;PM,&nbsp;&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:john.m.allen@thomsonreuters.com&quot;&nbsp;target=&quot;_blank&quot;&gt;john.m.allen@thomsonreuters.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&nbsp;link=&quot;blue&quot;&nbsp;vlink=&quot;purple&quot;&nbsp;lang=&quot;EN-US&quot;&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Bookman&nbsp;Old&nbsp;Style&quot;,&quot;serif&quot;;color:#1f497d&quot;&gt;I&rsquo;m&nbsp;not&nbsp;sure&nbsp;if&nbsp;this&nbsp;answers&nbsp;your&nbsp;question,&nbsp;Chris,&nbsp;but&nbsp;if&nbsp;you&rsquo;ve&nbsp;downloaded&nbsp;the&nbsp;source,&nbsp;take&nbsp;a&nbsp;look&nbsp;at&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Bookman&nbsp;Old&nbsp;Style&quot;,&quot;serif&quot;;color:#1f497d&quot;&gt;&hellip;\csrfguard\src\main\resources\csrfguard.js&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Bookman&nbsp;Old&nbsp;Style&quot;,&quot;serif&quot;;color:#1f497d&quot;&gt;about&nbsp;line&nbsp;392.&nbsp;&nbsp;That&nbsp;was&nbsp;the&nbsp;only&nbsp;place&nbsp;I&nbsp;found&nbsp;that&nbsp;it&nbsp;fetches&nbsp;and&nbsp;injects&nbsp;the&nbsp;token.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Bookman&nbsp;Old&nbsp;Style&quot;,&quot;serif&quot;;color:#1f497d&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Bookman&nbsp;Old&nbsp;Style&quot;,&quot;serif&quot;;color:#1f497d&quot;&gt;(Caution:&nbsp;&nbsp;I&nbsp;think&nbsp;the&nbsp;&ldquo;if(%INJECT_XHR%&nbsp;==&nbsp;true)&rdquo;&nbsp;closing&nbsp;brace&nbsp;is&nbsp;misplaced,&nbsp;too&nbsp;far&nbsp;down.&nbsp;&nbsp;It&nbsp;makes&nbsp;it&nbsp;work&nbsp;only&nbsp;if&nbsp;Ajax&nbsp;is&nbsp;enabled.)&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Bookman&nbsp;Old&nbsp;Style&quot;,&quot;serif&quot;;color:#1f497d&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Bookman&nbsp;Old&nbsp;Style&quot;,&quot;serif&quot;;color:#1f497d&quot;&gt;John&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Bookman&nbsp;Old&nbsp;Style&quot;,&quot;serif&quot;;color:#1f497d&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Bookman&nbsp;Old&nbsp;Style&quot;,&quot;serif&quot;;color:#1f497d&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;div&nbsp;style=&quot;border:none;border-top:solid&nbsp;#b5c4df&nbsp;1.0pt;padding:3.0pt&nbsp;0in&nbsp;0in&nbsp;0in&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;&quot;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:owasp-csrfguard-bounces@lists.owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;owasp-csrfguard-bounces@lists.owasp.org&lt;/a&gt;&nbsp;[mailto:&lt;a&nbsp;href=&quot;mailto:owasp-csrfguard-bounces@lists.owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;owasp-csrfguard-bounces@lists.owasp.org&lt;/a&gt;]<br>
&lt;b&gt;On&nbsp;Behalf&nbsp;Of&nbsp;&lt;/b&gt;Chris&nbsp;Hyzer&lt;br&gt;<br>
&lt;b&gt;Sent:&lt;/b&gt;&nbsp;Tuesday,&nbsp;April&nbsp;08,&nbsp;2014&nbsp;2:21&nbsp;PM&lt;br&gt;<br>
&lt;b&gt;To:&lt;/b&gt;&nbsp;Sarah&nbsp;Baso;&nbsp;Azzeddine&nbsp;Ramrami;&nbsp;&lt;a&nbsp;href=&quot;mailto:ranjith.sundarajchandras@its.ny.gov&quot;&nbsp;target=&quot;_blank&quot;&gt;ranjith.sundarajchandras@its.ny.gov&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;b&gt;Cc:&lt;/b&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:owasp-csrfguard@lists.owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;owasp-csrfguard@lists.owasp.org&lt;/a&gt;&lt;br&gt;<br>
&lt;b&gt;Subject:&lt;/b&gt;&nbsp;Re:&nbsp;[Owasp-csrfguard]&nbsp;Community&nbsp;Question&nbsp;regarding&nbsp;OWASP-CSRF&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;Just&nbsp;curious&hellip;&nbsp;CSRF&nbsp;guard&nbsp;will&nbsp;parse&nbsp;a&nbsp;page&nbsp;and&nbsp;add/edit&nbsp;some&nbsp;DOM&nbsp;elements&nbsp;so&nbsp;that&nbsp;the&nbsp;token&nbsp;is&nbsp;passed&nbsp;back&nbsp;and&nbsp;forth.&nbsp;&nbsp;But&nbsp;after&nbsp;an&nbsp;Ajax&nbsp;request,&nbsp;when&nbsp;new<br>
&nbsp;page&nbsp;elements&nbsp;(links,&nbsp;forms)&nbsp;are&nbsp;potentially&nbsp;added,&nbsp;will&nbsp;CSRF&nbsp;guard&nbsp;decorate&nbsp;these&nbsp;so&nbsp;that&nbsp;the&nbsp;token&nbsp;is&nbsp;passed?&nbsp;&nbsp;Or&nbsp;does&nbsp;a&nbsp;Javascript&nbsp;function&nbsp;need&nbsp;to&nbsp;be&nbsp;called&nbsp;after&nbsp;ajax&nbsp;changed&nbsp;the&nbsp;page&nbsp;so&nbsp;that&nbsp;new&nbsp;elements&nbsp;are&nbsp;decorated?&nbsp;&nbsp;When&nbsp;you&nbsp;get&nbsp;the&nbsp;error,&nbsp;can&nbsp;you<br>
&nbsp;see&nbsp;the&nbsp;network&nbsp;tab&nbsp;in&nbsp;a&nbsp;browser&nbsp;developer&nbsp;tools&nbsp;plugin&nbsp;to&nbsp;see&nbsp;if&nbsp;a&nbsp;token&nbsp;is&nbsp;even&nbsp;being&nbsp;passed&nbsp;at&nbsp;all?&nbsp;&nbsp;Does&nbsp;it&nbsp;work&nbsp;if&nbsp;you&nbsp;don&rsquo;t&nbsp;have&nbsp;token&nbsp;per&nbsp;page?&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;Thanks,&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;Chris&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;div&nbsp;style=&quot;border:none;border-top:solid&nbsp;#b5c4df&nbsp;1.0pt;padding:3.0pt&nbsp;0in&nbsp;0in&nbsp;0in&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;&quot;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:owasp-csrfguard-bounces@lists.owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;owasp-csrfguard-bounces@lists.owasp.org&lt;/a&gt;&nbsp;[mailto:&lt;a&nbsp;href=&quot;mailto:owasp-csrfguard-bounces@lists.owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;owasp-csrfguard-bounces@lists.owasp.org&lt;/a&gt;]<br>
&lt;b&gt;On&nbsp;Behalf&nbsp;Of&nbsp;&lt;/b&gt;Sarah&nbsp;Baso&lt;br&gt;<br>
&lt;b&gt;Sent:&lt;/b&gt;&nbsp;Tuesday,&nbsp;April&nbsp;08,&nbsp;2014&nbsp;3:16&nbsp;PM&lt;br&gt;<br>
&lt;b&gt;To:&lt;/b&gt;&nbsp;Azzeddine&nbsp;Ramrami;&nbsp;&lt;a&nbsp;href=&quot;mailto:ranjith.sundarajchandras@its.ny.gov&quot;&nbsp;target=&quot;_blank&quot;&gt;ranjith.sundarajchandras@its.ny.gov&lt;/a&gt;&lt;br&gt;<br>
&lt;b&gt;Cc:&lt;/b&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:owasp-csrfguard@lists.owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;owasp-csrfguard@lists.owasp.org&lt;/a&gt;&lt;br&gt;<br>
&lt;b&gt;Subject:&lt;/b&gt;&nbsp;Re:&nbsp;[Owasp-csrfguard]&nbsp;Community&nbsp;Question&nbsp;regarding&nbsp;OWASP-CSRF&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Thanks!&nbsp;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Ranjith&nbsp;-&nbsp;can&nbsp;you&nbsp;provide&nbsp;a&nbsp;bit&nbsp;more&nbsp;information&nbsp;as&nbsp;Azzeddine&nbsp;has&nbsp;requested?&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Sarah&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-bottom:12.0pt&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;On&nbsp;Tue,&nbsp;Apr&nbsp;8,&nbsp;2014&nbsp;at&nbsp;12:14&nbsp;PM,&nbsp;Azzeddine&nbsp;Ramrami&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:azzeddine.ramrami@owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;azzeddine.ramrami@owasp.org&lt;/a&gt;&gt;&nbsp;wrote:&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Thanks&nbsp;Sarah.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-bottom:12.0pt&quot;&gt;&lt;br&gt;<br>
I&nbsp;will&nbsp;take&nbsp;this&nbsp;request&nbsp;for&nbsp;further&nbsp;analysis.&nbsp;Help&nbsp;form&nbsp;other&nbsp;leaders&nbsp;or&nbsp;users&nbsp;of&nbsp;CSRF-Guard&nbsp;is&nbsp;welcome.&lt;br&gt;<br>
Just&nbsp;to&nbsp;be&nbsp;clear&nbsp;I&nbsp;will&nbsp;work&nbsp;on&nbsp;this&nbsp;issue&nbsp;as&nbsp;volunteer,&nbsp;this&nbsp;mean&nbsp;I&nbsp;will&nbsp;do&nbsp;my&nbsp;best&nbsp;to&nbsp;solve&nbsp;this&nbsp;issue&nbsp;if&nbsp;I&nbsp;can&nbsp;reproduce&nbsp;it.&lt;br&gt;<br>
Some&nbsp;questions:&lt;br&gt;<br>
-&nbsp;Witch&nbsp;version&nbsp;of&nbsp;CSRF-Guard&nbsp;is&nbsp;used.&lt;br&gt;<br>
-&nbsp;Witch&nbsp;Application&nbsp;Server&nbsp;is&nbsp;used.&lt;br&gt;<br>
-&nbsp;Browser&nbsp;name&nbsp;and&nbsp;version.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Regards,&lt;br&gt;<br>
Azzeddine&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-bottom:12.0pt&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;On&nbsp;Tue,&nbsp;Apr&nbsp;8,&nbsp;2014&nbsp;at&nbsp;5:23&nbsp;PM,&nbsp;Sarah&nbsp;Baso&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:sarah.baso@owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;sarah.baso@owasp.org&lt;/a&gt;&gt;&nbsp;wrote:&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;Azzeddine&nbsp;and&nbsp;others&nbsp;-&lt;/span&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;We&nbsp;received&nbsp;this&nbsp;question&nbsp;through&nbsp;our&nbsp;community&nbsp;&quot;contact&nbsp;us&quot;&nbsp;form&nbsp;-&nbsp;can&nbsp;you&nbsp;help&nbsp;with&nbsp;responding?&nbsp;&nbsp;The&nbsp;submitter&nbsp;is&nbsp;cc&#39;ed.&lt;/span&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-bottom:12.0pt&quot;&gt;&lt;i&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;We&nbsp;have&nbsp;secured&nbsp;our&nbsp;public&nbsp;website&nbsp;using&nbsp;OWASP&nbsp;-&nbsp;CSRF&nbsp;guard&nbsp;and&nbsp;configured&nbsp;TokenPerPage=true.&nbsp;We&nbsp;use&nbsp;JSF&nbsp;2.0&nbsp;(myfaces)&nbsp;for&nbsp;our&nbsp;front-end&nbsp;development.&nbsp;&lt;br&gt;<br>
<br>
Every&nbsp;thing&nbsp;works&nbsp;good&nbsp;as&nbsp;expected&nbsp;except&nbsp;when&nbsp;we&nbsp;use&nbsp;JSF&nbsp;&lt;f:ajax&gt;.&nbsp;When&nbsp;we&nbsp;submit&nbsp;an&nbsp;ajax&nbsp;request&nbsp;from&nbsp;a&nbsp;page,&nbsp;the&nbsp;ajax&nbsp;request&nbsp;is&nbsp;successful&nbsp;but&nbsp;the&nbsp;subsequent&nbsp;Http&nbsp;Request&nbsp;fails&nbsp;with&nbsp;a&nbsp;message&nbsp;(&quot;potential&nbsp;cross-site&nbsp;request&nbsp;forgery&nbsp;(CSRF)&nbsp;attack&nbsp;thwarted<br>
&nbsp;(user:&lt;anonymous&gt;%,&nbsp;ip:x.x.x.x,&nbsp;uri:/ppr/secured/xxxx.faces,&nbsp;error:request&nbsp;token&nbsp;does&nbsp;not&nbsp;match&nbsp;page&nbsp;token)&quot;).&nbsp;&lt;/span&gt;&lt;/i&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;i&gt;&lt;span&nbsp;style=&quot;font-size:9.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;Below&nbsp;is&nbsp;our&nbsp;speculation&nbsp;:&lt;br&gt;<br>
-&nbsp;In&nbsp;JSF&nbsp;the&nbsp;URL&nbsp;displayed&nbsp;in&nbsp;the&nbsp;browser&nbsp;address&nbsp;bar&nbsp;is&nbsp;always&nbsp;the&nbsp;previous&nbsp;page&#39;s&nbsp;url&nbsp;(&nbsp;as&nbsp;JSF&nbsp;&#39;POST&#39;&nbsp;forwards&nbsp;the&nbsp;request).&nbsp;And&nbsp;ajax&nbsp;request&nbsp;uses&nbsp;the&nbsp;current&nbsp;page&#39;s&nbsp;url.&nbsp;May&nbsp;be&nbsp;the&nbsp;ajax&nbsp;request&nbsp;overrides&nbsp;the&nbsp;token.&nbsp;&lt;br&gt;<br>
<br>
We&nbsp;are&nbsp;not&nbsp;sure&nbsp;if&nbsp;this&nbsp;could&nbsp;cause&nbsp;any&nbsp;issues&nbsp;with&nbsp;token&nbsp;tracking&nbsp;-&nbsp;but&nbsp;we&nbsp;just&nbsp;want&nbsp;to&nbsp;hint&nbsp;you&nbsp;our&nbsp;speculation&nbsp;and&nbsp;get&nbsp;your&nbsp;suggestion/guidance&nbsp;to&nbsp;fix&nbsp;this&nbsp;issue.&lt;/span&gt;&lt;/i&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Thanks&nbsp;in&nbsp;advance,&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Sarah&nbsp;Baso&lt;span&nbsp;style=&quot;color:#888888&quot;&gt;&lt;br&gt;<br>
--&nbsp;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;color:#888888&quot;&gt;Executive&nbsp;Director&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;color:#888888&quot;&gt;OWASP&nbsp;Foundation&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;color:#888888&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-bottom:12.0pt&quot;&gt;&lt;span&nbsp;style=&quot;color:#888888&quot;&gt;&lt;a&nbsp;href=&quot;mailto:sarah.baso@owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;sarah.baso@owasp.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;tel:%2B1.312.869.2779&quot;&nbsp;target=&quot;_blank&quot;&gt;+1.312.869.2779&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;br&gt;<br>
&lt;br&nbsp;clear=&quot;all&quot;&gt;<br>
&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&gt;&lt;span&nbsp;style=&quot;color:#888888&quot;&gt;--&nbsp;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;color:#888888&quot;&gt;Azzeddine&nbsp;RAMRAMI&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;tel:%2B33%206%2065%2048%2090%2004&quot;&nbsp;target=&quot;_blank&quot;&gt;+33&nbsp;6&nbsp;65&nbsp;48&nbsp;90&nbsp;04&lt;/a&gt;.&lt;br&gt;<br>
Enterprise&nbsp;Security&nbsp;Architect&lt;br&gt;<br>
OWASP&nbsp;Leader&nbsp;(Morocco&nbsp;Chapter)&lt;/span&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;color:#888888&quot;&gt;Mozilla&nbsp;Security&nbsp;Projects&nbsp;Mentor&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;br&gt;<br>
&lt;br&nbsp;clear=&quot;all&quot;&gt;<br>
&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;--&nbsp;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Executive&nbsp;Director&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;OWASP&nbsp;Foundation&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&nbsp;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-bottom:12.0pt&quot;&gt;&lt;a&nbsp;href=&quot;mailto:sarah.baso@owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;sarah.baso@owasp.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;tel:%2B1.312.869.2779&quot;&nbsp;value=&quot;+13128692779&quot;&nbsp;target=&quot;_blank&quot;&gt;+1.312.869.2779&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>
<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Azzeddine&nbsp;RAMRAMI&lt;br&gt;&nbsp;+33&nbsp;6&nbsp;65&nbsp;48&nbsp;90&nbsp;04.&lt;br&gt;Enterprise&nbsp;Security&nbsp;Architect&lt;br&gt;OWASP&nbsp;Leader&nbsp;(Morocco&nbsp;Chapter)&lt;br&gt;&lt;/div&gt;Mozilla&nbsp;Security&nbsp;Projects&nbsp;Mentor&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
