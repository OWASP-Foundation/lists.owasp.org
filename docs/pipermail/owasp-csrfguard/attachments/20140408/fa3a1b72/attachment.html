<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif;font-size:12px;background-color:rgb(255,255,255)&quot;&gt;Azzeddine&nbsp;and&nbsp;others&nbsp;-&lt;/span&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif;font-size:12px;background-color:rgb(255,255,255)&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif;font-size:12px;background-color:rgb(255,255,255)&quot;&gt;We&nbsp;received&nbsp;this&nbsp;question&nbsp;through&nbsp;our&nbsp;community&nbsp;&quot;contact&nbsp;us&quot;&nbsp;form&nbsp;-&nbsp;can&nbsp;you&nbsp;help&nbsp;with&nbsp;responding?&nbsp; The&nbsp;submitter&nbsp;is&nbsp;cc&#39;ed.&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif;font-size:12px;background-color:rgb(255,255,255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;background-color:rgb(255,255,255)&quot;&gt;&lt;i&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif;font-size:12px&quot;&gt;We&nbsp;have&nbsp;secured&nbsp;our&nbsp;public&nbsp;website&nbsp;using&nbsp;OWASP&nbsp;-&nbsp;CSRF&nbsp;guard&nbsp;and&nbsp;configured&nbsp;TokenPerPage=true.&nbsp;We&nbsp;use&nbsp;JSF&nbsp;2.0&nbsp;(myfaces)&nbsp;for&nbsp;our&nbsp;front-end&nbsp;development. &lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif;font-size:12px&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif;font-size:12px&quot;&gt;Every&nbsp;thing&nbsp;works&nbsp;good&nbsp;as&nbsp;expected&nbsp;except&nbsp;when&nbsp;we&nbsp;use&nbsp;JSF&nbsp;&lt;f:ajax&gt;.&nbsp;When&nbsp;we&nbsp;submit&nbsp;an&nbsp;ajax&nbsp;request&nbsp;from&nbsp;a&nbsp;page,&nbsp;the&nbsp;ajax&nbsp;request&nbsp;is&nbsp;successful&nbsp;but&nbsp;the&nbsp;subsequent&nbsp;Http&nbsp;Request&nbsp;fails&nbsp;with&nbsp;a&nbsp;message&nbsp;(&quot;potential&nbsp;cross-site&nbsp;request&nbsp;forgery&nbsp;(CSRF)&nbsp;attack&nbsp;thwarted&nbsp;(user:&lt;anonymous&gt;%,&nbsp;ip:x.x.x.x,&nbsp;uri:/ppr/secured/xxxx.faces,&nbsp;error:request&nbsp;token&nbsp;does&nbsp;not&nbsp;match&nbsp;page&nbsp;token)&quot;). &lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif;font-size:12px&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif;font-size:12px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/i&gt;&lt;/span&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;background-color:rgb(255,255,255)&quot;&gt;&lt;i&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif;font-size:12px&quot;&gt;Below&nbsp;is&nbsp;our&nbsp;speculation&nbsp;:&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif;font-size:12px&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif;font-size:12px&quot;&gt;-&nbsp;In&nbsp;JSF&nbsp;the&nbsp;URL&nbsp;displayed&nbsp;in&nbsp;the&nbsp;browser&nbsp;address&nbsp;bar&nbsp;is&nbsp;always&nbsp;the&nbsp;previous&nbsp;page&#39;s&nbsp;url&nbsp;(&nbsp;as&nbsp;JSF&nbsp;&#39;POST&#39;&nbsp;forwards&nbsp;the&nbsp;request).&nbsp;And&nbsp;ajax&nbsp;request&nbsp;uses&nbsp;the&nbsp;current&nbsp;page&#39;s&nbsp;url.&nbsp;May&nbsp;be&nbsp;the&nbsp;ajax&nbsp;request&nbsp;overrides&nbsp;the&nbsp;token. &lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif;font-size:12px&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:Arial,Helvetica,sans-serif;font-size:12px&quot;&gt;We&nbsp;are&nbsp;not&nbsp;sure&nbsp;if&nbsp;this&nbsp;could&nbsp;cause&nbsp;any&nbsp;issues&nbsp;with&nbsp;token&nbsp;tracking&nbsp;-&nbsp;but&nbsp;we&nbsp;just&nbsp;want&nbsp;to&nbsp;hint&nbsp;you&nbsp;our&nbsp;speculation&nbsp;and&nbsp;get&nbsp;your&nbsp;suggestion/guidance&nbsp;to&nbsp;fix&nbsp;this&nbsp;issue.&lt;/span&gt;&lt;/i&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;in&nbsp;advance,&lt;/div&gt;&lt;div&gt;Sarah&nbsp;Baso&lt;br&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Executive&nbsp;Director&lt;/div&gt;&lt;div&gt;OWASP&nbsp;Foundation&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;mailto:sarah.baso@owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;sarah.baso@owasp.org&lt;/a&gt;&lt;br&gt;<br>
+1.312.869.2779&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
