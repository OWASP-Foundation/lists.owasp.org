<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello&nbsp;Chris,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;attached&nbsp;the&nbsp;web.xml&nbsp;and&nbsp;csrfguard&nbsp;properties.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you&lt;/div&gt;&lt;div&gt;Best&nbsp;Regards.&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
2013/11/1&nbsp;Chris&nbsp;Hyzer&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:mchyzer@isc.upenn.edu&quot;&nbsp;target=&quot;_blank&quot;&gt;mchyzer@isc.upenn.edu&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&nbsp;lang=&quot;EN-US&quot;&nbsp;link=&quot;blue&quot;&nbsp;vlink=&quot;purple&quot;&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;Might&nbsp;want&nbsp;to&nbsp;post&nbsp;a&nbsp;sanitized&nbsp;version&nbsp;of&nbsp;your&nbsp;web.xml&nbsp;and&nbsp;csrfguard&nbsp;properties&nbsp;config…&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;Thanks,&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;Chris&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1f497d&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;div&nbsp;style=&quot;border:none;border-top:solid&nbsp;#b5c4df&nbsp;1.0pt;padding:3.0pt&nbsp;0in&nbsp;0in&nbsp;0in&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;&quot;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:owasp-csrfguard-bounces@lists.owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;owasp-csrfguard-bounces@lists.owasp.org&lt;/a&gt;&nbsp;[mailto:&lt;a&nbsp;href=&quot;mailto:owasp-csrfguard-bounces@lists.owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;owasp-csrfguard-bounces@lists.owasp.org&lt;/a&gt;]<br>
&lt;b&gt;On&nbsp;Behalf&nbsp;Of&nbsp;&lt;/b&gt;younes&nbsp;quoulali&lt;br&gt;<br>
&lt;b&gt;Sent:&lt;/b&gt;&nbsp;Friday,&nbsp;November&nbsp;01,&nbsp;2013&nbsp;1:59&nbsp;PM&lt;br&gt;<br>
&lt;b&gt;To:&lt;/b&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:owasp-csrfguard@lists.owasp.org&quot;&nbsp;target=&quot;_blank&quot;&gt;owasp-csrfguard@lists.owasp.org&lt;/a&gt;&lt;br&gt;<br>
&lt;b&gt;Subject:&lt;/b&gt;&nbsp;[Owasp-csrfguard]&nbsp;OWASP-CSRF&nbsp;Guard&nbsp;-&nbsp;Probleme&nbsp;with&nbsp;the&nbsp;JavaScriptServlet&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;Hello,&lt;/span&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;I&nbsp;have&nbsp;implemented&nbsp;the&nbsp;OWASP&nbsp;CSRF&nbsp;guard&nbsp;solution,&nbsp;all&nbsp;work&nbsp;properly&nbsp;like&nbsp;i&nbsp;expect,&nbsp;but&nbsp;on&nbsp;other&nbsp;side,&nbsp;i&nbsp;got&nbsp;an&nbsp;exception&nbsp;in&nbsp;the&nbsp;logs: &lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;INFO&nbsp; &nbsp;|&nbsp;jvm&nbsp;1&nbsp; &nbsp; |&nbsp;main&nbsp; &nbsp; |&nbsp;2013/11/01&nbsp;16:44:02.760&nbsp;|&nbsp;nov.&nbsp;01,&nbsp;2013&nbsp;4:44:02&nbsp;PM&nbsp;org.apache.catalina.core.StandardWrapperValve&nbsp;invoke&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;INFO&nbsp; &nbsp;|&nbsp;jvm&nbsp;1&nbsp; &nbsp; |&nbsp;main&nbsp; &nbsp; |&nbsp;2013/11/01&nbsp;16:44:02.803&nbsp;|&nbsp;SEVERE:&nbsp;&quot;Servlet.service()&quot;&nbsp;pour&nbsp;la&nbsp;servlet&nbsp;JavaScriptServlet&nbsp;a&nbsp;généré&nbsp;une&nbsp;exception&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;INFO&nbsp; &nbsp;|&nbsp;jvm&nbsp;1&nbsp; &nbsp; |&nbsp;main&nbsp; &nbsp; |&nbsp;2013/11/01&nbsp;16:44:02.857&nbsp;|&nbsp;java.lang.IllegalStateException&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;After&nbsp;debugging,&nbsp;i&nbsp;found&nbsp;that&nbsp;the&nbsp;root&nbsp;exception&nbsp;happen&nbsp;in&nbsp;the&nbsp;method&nbsp;writeJavaScript()&nbsp;when&nbsp;it&nbsp;try&nbsp;to&nbsp;close&nbsp;the&nbsp;outputStream&nbsp;(Streams.close(output);):&nbsp;java.io.IOException:<br>
&nbsp;This&nbsp;output&nbsp;stream&nbsp;has&nbsp;already&nbsp;been&nbsp;closed&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;i&nbsp;would&nbsp;override&nbsp;this&nbsp;servlet&nbsp;to&nbsp;catch&nbsp;this&nbsp;exception,&nbsp;but&nbsp;it&nbsp;is&nbsp;a&nbsp;final&nbsp;class.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;Anyone&nbsp;had&nbsp;an&nbsp;idea&nbsp;how&nbsp;to&nbsp;fix&nbsp;this&nbsp;?&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;Best&nbsp;regards.&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;--&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&quot;&gt;Quoulali&nbsp;Younes&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>
<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
