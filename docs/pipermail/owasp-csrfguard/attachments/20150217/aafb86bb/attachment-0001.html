<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;am&nbsp;implementing&nbsp;CSRFGuard&nbsp;in&nbsp;our&nbsp;project&nbsp;and&nbsp;ran&nbsp;into&nbsp;a&nbsp;problem&nbsp;with&nbsp;Ajax&nbsp;requests.When&nbsp;I&nbsp;submit&nbsp;a&nbsp;request&nbsp;from&nbsp;a&nbsp;jsp&nbsp;page&nbsp;to&nbsp;another&nbsp;jsp&nbsp;which&nbsp;makes&nbsp;an&nbsp;Ajax&nbsp;call&nbsp;on&nbsp;loading,&nbsp;the&nbsp;recursion&nbsp;occurs&nbsp;(It&nbsp;works&nbsp;fine&nbsp;in&nbsp;IE).&nbsp;The&nbsp;recursion&nbsp;seems&nbsp;to&nbsp;be&nbsp;happening&nbsp;at&nbsp;the&nbsp;XMLHttpRequest&nbsp;open&nbsp;function,&lt;div&gt;&lt;div&gt;XMLHttpRequest.prototype._open&nbsp;=&nbsp;XMLHttpRequest.prototype.open;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;XMLHttpRequest.prototype.open&nbsp;=&nbsp;function(method,&nbsp;url,&nbsp;async,&nbsp;user,&nbsp;pass)&nbsp;{&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;this.url&nbsp;=&nbsp;url;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;open:&nbsp;&nbsp;&quot;+url+&quot;&nbsp;&nbsp;this:&nbsp;&quot;+this);&nbsp;&nbsp;//&nbsp;Comment&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;this._open.apply(this,&nbsp;arguments);&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;};&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;recursion&nbsp;reaches&nbsp;to&nbsp;max&nbsp;stack&nbsp;size&nbsp;and&nbsp;fails&nbsp;eventually.&nbsp;I&nbsp;attached&nbsp;the&nbsp;web.xml&nbsp;and&nbsp;xsrfguard.properties&nbsp;files&nbsp;for&nbsp;your&nbsp;reference&nbsp;and&nbsp;kindly&nbsp;let&nbsp;me&nbsp;know&nbsp;if&nbsp;any&nbsp;other&nbsp;details&nbsp;required.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;comment&nbsp;displays&nbsp;the&nbsp;following&nbsp;message&nbsp;continuously&lt;/div&gt;&lt;div&gt; open:&nbsp; /axamps/JavaScriptServlet&nbsp; this:&nbsp;[object&nbsp;XMLHttpRequest] &lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;in&nbsp;advance&lt;/div&gt;&lt;div&gt;Karthi&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
