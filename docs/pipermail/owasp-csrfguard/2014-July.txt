From azzeddine.ramrami at owasp.org  Mon Jul 28 13:13:28 2014
From: azzeddine.ramrami at owasp.org (Azzeddine Ramrami)
Date: Mon, 28 Jul 2014 15:13:28 +0200
Subject: [Owasp-csrfguard] New for CSRFGuard
Message-ID: <CAL4seLFKSwwCJb_xRYJouGMZUGm3Wn_+NvZumrKEdFNeQ6JgGg@mail.gmail.com>

Hi CSFRGuard users,

I want to inform you that the new repository for CSRFGuard project has been
moved to:

https://github.com/aramrami/OWASP-CSRFGuard-3

In this repository I setup an issue trackers to answer all request and
issues. Please use this and only this repository for all CSRFGuard request;
change, pull, features, etc.

I will move all issue from the old repositroy and from Eric repository.

The old repository will be deleted at the end of August.

Regards,

-- 
Azzeddine RAMRAMI
+33 6 65 48 90 04.
Enterprise Security Architect
OWASP Leader (Morocco Chapter)
Mozilla Security Projects Mentor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140728/e7e7124b/attachment.html>

From johannes.schmidt at saludhds.com.mx  Mon Jul 28 18:21:03 2014
From: johannes.schmidt at saludhds.com.mx (Johannes Schmidt)
Date: Mon, 28 Jul 2014 13:21:03 -0500
Subject: [Owasp-csrfguard] Fwd: Known Issues
In-Reply-To: <CAHuzxHKwf0YkWEaGrymsfBN4pzjVKAY7zBFrCFu=bNA-ku-Psw@mail.gmail.com>
References: <CAHuzxHKwf0YkWEaGrymsfBN4pzjVKAY7zBFrCFu=bNA-ku-Psw@mail.gmail.com>
Message-ID: <CAHuzxH+71zM-P9-j6LRPT4UPznKbSRaQ3PapLbcNZQ4NA5Q0jQ@mail.gmail.com>

Hi,

I read about your known issues.

I am using 'watch' to manipulate location-calls in js:

function urlWatcher(id, oldURL, newURL) {
    return addToken(newURL); //use function of js to add token
 }

location.watch('href', urlWatcher);

This works with firefox!

Hope this helps

-- 




--

-- 
Health Digital Systems S.A.P.I. de C.V., con domicilio en Insurgentes Sur 
No. 617 Int 3, Col. Napoles, Delegaci?n Benito Juarez, C.P. 03810, Mexico, 
D.F., Tel. (55) 3690 0430, es responsable de recabar los datos personales 
con la finalidad de informar, contratar, prospectar y promocionar los 
productos y/o servicios, con base al cumplimiento de la LFPDPPP. Para mayor 
informacion puede consultar el Aviso de Privacidad completo en 
http://avisodeprivacidad.saludhds.com.mx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140728/aad7f9bc/attachment.html>

From johannes.schmidt at saludhds.com.mx  Tue Jul 29 18:08:22 2014
From: johannes.schmidt at saludhds.com.mx (Johannes Schmidt)
Date: Tue, 29 Jul 2014 13:08:22 -0500
Subject: [Owasp-csrfguard] first access behind a proxy
Message-ID: <CAHuzxHLvhu=S5XACVTe8a5X-sa7cB2umOxFaVcSGweFz0AyAwA@mail.gmail.com>

Hi,

as I understand CSRF Guard you have to define the pages you use as
entry-points, like the login page. So Guard is excluding its validation
regarding this pages.

The aplication of my company has a diferent arquitecture which makes it
dificult to use CSRF-Guard. Hopefully somebody can help:

We are using a php app as a main frame which includes JSF as iFrames. The
requests to the JSF are handled by rewrite-rules in the Apache which points
to a proxy. The proxy finally generates the requests pointing to a JBoss.
The ProxyPassReverse-Module in the apache handles the responses from the
JBoss.

The problem here is: for PHP we use a diferent mecanism to secure the
requests. The Login-Sequence as well is handled by PHP. At the point the
users opens the modules which are written in JSF pointing to the JBoss the
authentication already has happened.

CSRF Guard in our case is sensing attacks of each access the JSF-modules,
because for CSRF Guard it is the first access.

Of course I dont want to exclude all the modules from the Guard!

So my question is: is there any easy way to 'tell' CSRF Gaurd that
proxy-request are allowed? Because in this case we already have an
authenticated user...

At the moment we are working on WebService-based solution: we implement a
WS in JBoss which returns an CSRF-ID. This service we call from the proxy
module in PHP and we add teh CSRF-ID to the request-header. CSRF Guard
hopefully will let us pass.

The 'but' is that I dont want to deploy a WS which is returing tokens, this
is an open door for hackers, too.

Hope you can help

PD: this is related?
http://stackoverflow.com/questions/22483397/csrfguard-behind-a-reverse-proxy

Best,
Johannes
--

-- 
Health Digital Systems S.A.P.I. de C.V., con domicilio en Insurgentes Sur 
No. 617 Int 3, Col. Napoles, Delegaci?n Benito Juarez, C.P. 03810, Mexico, 
D.F., Tel. (55) 3690 0430, es responsable de recabar los datos personales 
con la finalidad de informar, contratar, prospectar y promocionar los 
productos y/o servicios, con base al cumplimiento de la LFPDPPP. Para mayor 
informacion puede consultar el Aviso de Privacidad completo en 
http://avisodeprivacidad.saludhds.com.mx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140729/014dcc32/attachment.html>

From johannes.schmidt at saludhds.com.mx  Thu Jul 31 21:31:48 2014
From: johannes.schmidt at saludhds.com.mx (Johannes Schmidt)
Date: Thu, 31 Jul 2014 16:31:48 -0500
Subject: [Owasp-csrfguard] generate token
Message-ID: <CAHuzxH+9TbPW=4QSwLN-6c=_vM=2b3YrduM4ALLdYmiFteqc4g@mail.gmail.com>

Hi,

is it possible to generate a csrf-guard token from outside ? Like a
service? Does the API support a service like that?

Any help is appreciated

Best,
Johannes

--

-- 
Health Digital Systems S.A.P.I. de C.V., con domicilio en Insurgentes Sur 
No. 617 Int 3, Col. Napoles, Delegaci?n Benito Juarez, C.P. 03810, Mexico, 
D.F., Tel. (55) 3690 0430, es responsable de recabar los datos personales 
con la finalidad de informar, contratar, prospectar y promocionar los 
productos y/o servicios, con base al cumplimiento de la LFPDPPP. Para mayor 
informacion puede consultar el Aviso de Privacidad completo en 
http://avisodeprivacidad.saludhds.com.mx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140731/47745c00/attachment.html>

From azzeddine.ramrami at owasp.org  Thu Jul 31 22:59:49 2014
From: azzeddine.ramrami at owasp.org (Azzeddine Ramrami)
Date: Fri, 1 Aug 2014 00:59:49 +0200
Subject: [Owasp-csrfguard] generate token
In-Reply-To: <CAHuzxH+9TbPW=4QSwLN-6c=_vM=2b3YrduM4ALLdYmiFteqc4g@mail.gmail.com>
References: <CAHuzxH+9TbPW=4QSwLN-6c=_vM=2b3YrduM4ALLdYmiFteqc4g@mail.gmail.com>
Message-ID: <CAL4seLEyaUtaL-MKRSjPoCAN5VbyGaC6HuvmdTh2dskSap6e2Q@mail.gmail.com>

Hi,
At this moment no support for this is implemented.
This features in the roadmap but I have no release date.
Azzeddube


2014-07-31 23:31 GMT+02:00 Johannes Schmidt <
johannes.schmidt at saludhds.com.mx>:

> Hi,
>
> is it possible to generate a csrf-guard token from outside ? Like a
> service? Does the API support a service like that?
>
> Any help is appreciated
>
> Best,
> Johannes
>
> --
>
>
> Health Digital Systems S.A.P.I. de C.V., con domicilio en Insurgentes Sur
> No. 617 Int 3, Col. Napoles, Delegaci?n Benito Juarez, C.P. 03810, Mexico,
> D.F., Tel. (55) 3690 0430, es responsable de recabar los datos personales
> con la finalidad de informar, contratar, prospectar y promocionar los
> productos y/o servicios, con base al cumplimiento de la LFPDPPP. Para mayor
> informacion puede consultar el Aviso de Privacidad completo en
> http://avisodeprivacidad.saludhds.com.mx
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>
>


-- 
Azzeddine RAMRAMI
+33 6 65 48 90 04.
Enterprise Security Architect
OWASP Leader (Morocco Chapter)
Mozilla Security Projects Mentor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140801/63cf194b/attachment.html>

From johannes.schmidt at saludhds.com.mx  Thu Jul 31 23:03:43 2014
From: johannes.schmidt at saludhds.com.mx (Johannes Schmidt)
Date: Thu, 31 Jul 2014 18:03:43 -0500
Subject: [Owasp-csrfguard] generate token
In-Reply-To: <CAL4seLEyaUtaL-MKRSjPoCAN5VbyGaC6HuvmdTh2dskSap6e2Q@mail.gmail.com>
References: <CAHuzxH+9TbPW=4QSwLN-6c=_vM=2b3YrduM4ALLdYmiFteqc4g@mail.gmail.com>
	<CAL4seLEyaUtaL-MKRSjPoCAN5VbyGaC6HuvmdTh2dskSap6e2Q@mail.gmail.com>
Message-ID: <CAHuzxHJA0xxskRLfKrX-UQBv57QKUVsWMHUujXrh7uXhHu3o_w@mail.gmail.com>

Isnt it possible to call the singleton which it is used in the servlet to
generate the token?


2014-07-31 17:59 GMT-05:00 Azzeddine Ramrami <azzeddine.ramrami at owasp.org>:

> Hi,
> At this moment no support for this is implemented.
> This features in the roadmap but I have no release date.
> Azzeddube
>
>
> 2014-07-31 23:31 GMT+02:00 Johannes Schmidt <
> johannes.schmidt at saludhds.com.mx>:
>
>> Hi,
>>
>> is it possible to generate a csrf-guard token from outside ? Like a
>> service? Does the API support a service like that?
>>
>> Any help is appreciated
>>
>> Best,
>> Johannes
>>
>> --
>>
>>
>> Health Digital Systems S.A.P.I. de C.V., con domicilio en Insurgentes Sur
>> No. 617 Int 3, Col. Napoles, Delegaci?n Benito Juarez, C.P. 03810, Mexico,
>> D.F., Tel. (55) 3690 0430, es responsable de recabar los datos personales
>> con la finalidad de informar, contratar, prospectar y promocionar los
>> productos y/o servicios, con base al cumplimiento de la LFPDPPP. Para mayor
>> informacion puede consultar el Aviso de Privacidad completo en
>> http://avisodeprivacidad.saludhds.com.mx
>> _______________________________________________
>> Owasp-csrfguard mailing list
>> Owasp-csrfguard at lists.owasp.org
>> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>>
>>
>
>
> --
> Azzeddine RAMRAMI
> +33 6 65 48 90 04.
> Enterprise Security Architect
> OWASP Leader (Morocco Chapter)
> Mozilla Security Projects Mentor
>



--

-- 
Health Digital Systems S.A.P.I. de C.V., con domicilio en Insurgentes Sur 
No. 617 Int 3, Col. Napoles, Delegaci?n Benito Juarez, C.P. 03810, Mexico, 
D.F., Tel. (55) 3690 0430, es responsable de recabar los datos personales 
con la finalidad de informar, contratar, prospectar y promocionar los 
productos y/o servicios, con base al cumplimiento de la LFPDPPP. Para mayor 
informacion puede consultar el Aviso de Privacidad completo en 
http://avisodeprivacidad.saludhds.com.mx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140731/3454205a/attachment.html>

