<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-csrfguard] Community Question regarding OWASP-CSRF
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-csrfguard%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfguard%5D%20Community%20Question%20regarding%20OWASP-CSRF&In-Reply-To=%3CCAL4seLH%2B_5XLkVQXGTnij%3DOFQ6ThYDxDVKM24ku2mX_bpbTGPw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000294.html">
   <LINK REL="Next"  HREF="000296.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-csrfguard] Community Question regarding OWASP-CSRF</H1>
    <B>Azzeddine Ramrami</B> 
    <A HREF="mailto:owasp-csrfguard%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfguard%5D%20Community%20Question%20regarding%20OWASP-CSRF&In-Reply-To=%3CCAL4seLH%2B_5XLkVQXGTnij%3DOFQ6ThYDxDVKM24ku2mX_bpbTGPw%40mail.gmail.com%3E"
       TITLE="[Owasp-csrfguard] Community Question regarding OWASP-CSRF">azzeddine.ramrami at owasp.org
       </A><BR>
    <I>Tue Apr  8 19:14:38 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000294.html">[Owasp-csrfguard] Community Question regarding OWASP-CSRF
</A></li>
        <LI>Next message: <A HREF="000296.html">[Owasp-csrfguard] Community Question regarding OWASP-CSRF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#295">[ date ]</a>
              <a href="thread.html#295">[ thread ]</a>
              <a href="subject.html#295">[ subject ]</a>
              <a href="author.html#295">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Sarah.

I will take this request for further analysis. Help form other leaders or
users of CSRF-Guard is welcome.
Just to be clear I will work on this issue as volunteer, this mean I will
do my best to solve this issue if I can reproduce it.
Some questions:
- Witch version of CSRF-Guard is used.
- Witch Application Server is used.
- Browser name and version.

Regards,
Azzeddine




On Tue, Apr 8, 2014 at 5:23 PM, Sarah Baso &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">sarah.baso at owasp.org</A>&gt; wrote:

&gt;<i> Azzeddine and others -
</I>&gt;<i>
</I>&gt;<i> We received this question through our community &quot;contact us&quot; form - can
</I>&gt;<i> you help with responding?  The submitter is cc'ed.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *We have secured our public website using OWASP - CSRF guard and
</I>&gt;<i> configured TokenPerPage=true. We use JSF 2.0 (myfaces) for our front-end
</I>&gt;<i> development.  Every thing works good as expected except when we use JSF
</I>&gt;<i> &lt;f:ajax&gt;. When we submit an ajax request from a page, the ajax request is
</I>&gt;<i> successful but the subsequent Http Request fails with a message (&quot;potential
</I>&gt;<i> cross-site request forgery (CSRF) attack thwarted (user:&lt;anonymous&gt;%,
</I>&gt;<i> ip:x.x.x.x, uri:/ppr/secured/xxxx.faces, error:request token does not match
</I>&gt;<i> page token)&quot;).  *
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *Below is our speculation : - In JSF the URL displayed in the browser
</I>&gt;<i> address bar is always the previous page's url ( as JSF 'POST' forwards the
</I>&gt;<i> request). And ajax request uses the current page's url. May be the ajax
</I>&gt;<i> request overrides the token.  We are not sure if this could cause any
</I>&gt;<i> issues with token tracking - but we just want to hint you our speculation
</I>&gt;<i> and get your suggestion/guidance to fix this issue.*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks in advance,
</I>&gt;<i> Sarah Baso
</I>&gt;<i> --
</I>&gt;<i> Executive Director
</I>&gt;<i> OWASP Foundation
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">sarah.baso at owasp.org</A>
</I>&gt;<i> +1.312.869.2779
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Azzeddine RAMRAMI
+33 6 65 48 90 04.
Enterprise Security Architect
OWASP Leader (Morocco Chapter)
Mozilla Security Projects Mentor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140408/00629843/attachment.html">http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140408/00629843/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000294.html">[Owasp-csrfguard] Community Question regarding OWASP-CSRF
</A></li>
	<LI>Next message: <A HREF="000296.html">[Owasp-csrfguard] Community Question regarding OWASP-CSRF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#295">[ date ]</a>
              <a href="thread.html#295">[ thread ]</a>
              <a href="subject.html#295">[ subject ]</a>
              <a href="author.html#295">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">More information about the Owasp-csrfguard
mailing list</a><br>
</body></html>
