From jesus.calderon.marin at gmail.com  Thu Feb  2 12:31:52 2012
From: jesus.calderon.marin at gmail.com (=?ISO-8859-1?Q?Jes=FAs_Miguel_Calder=F3n?=)
Date: Thu, 02 Feb 2012 13:31:52 +0100
Subject: [Owasp-csrfguard] Problems
Message-ID: <4F2A8238.1070309@gmail.com>

An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20120202/4a3e4365/attachment.html>

From jesus.calderon.marin at gmail.com  Thu Feb  2 12:49:34 2012
From: jesus.calderon.marin at gmail.com (=?ISO-8859-1?Q?Jes=FAs_Miguel_Calder=F3n?=)
Date: Thu, 02 Feb 2012 13:49:34 +0100
Subject: [Owasp-csrfguard] Problems when I set
	org.owasp.csrfguard.TokenPerPage=false
In-Reply-To: <4F2A8238.1070309@gmail.com>
References: <4F2A8238.1070309@gmail.com>
Message-ID: <4F2A865E.2030203@gmail.com>

An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20120202/650e02b4/attachment.html>

From jesus.calderon.marin at gmail.com  Thu Feb  2 12:54:11 2012
From: jesus.calderon.marin at gmail.com (=?ISO-8859-1?Q?Jes=FAs_Miguel_Calder=F3n?=)
Date: Thu, 02 Feb 2012 13:54:11 +0100
Subject: [Owasp-csrfguard] Problems when I set
	org.owasp.csrfguard.TokenPerPage=false
In-Reply-To: <4F2A865E.2030203@gmail.com>
References: <4F2A8238.1070309@gmail.com> <4F2A865E.2030203@gmail.com>
Message-ID: <4F2A8773.6020202@gmail.com>

An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20120202/6f202c79/attachment.html>

From rohitht at suntecgroup.com  Fri Feb  3 05:08:06 2012
From: rohitht at suntecgroup.com (Rohith Thulasidas)
Date: Fri, 3 Feb 2012 10:38:06 +0530
Subject: [Owasp-csrfguard] Problems when I
	setorg.owasp.csrfguard.TokenPerPage=false
References: <4F2A8238.1070309@gmail.com> <4F2A865E.2030203@gmail.com>
	<4F2A8773.6020202@gmail.com>
Message-ID: <DF3D307645E7C8479A02AD016BAAAD0E018B057E@sbssvex20.suntecsbs.com>

Hi Jes?s,
 
When the parameter org.owasp.csrfguard.TokenPerPage is set to true, then the CSRF guard will validates the token
request against the  token for the URI(If generated).
 
I think this token is not getting setted in the request.
 
Regards,
 
Rohith

________________________________

From: owasp-csrfguard-bounces at lists.owasp.org on behalf of Jes?s Miguel Calder?n
Sent: Thu 2/2/2012 6:24 PM
To: owasp-csrfguard at lists.owasp.org
Subject: Re: [Owasp-csrfguard] Problems when I setorg.owasp.csrfguard.TokenPerPage=false



I forgot to post the exact code of the form.

<csrf:form id="formulario_eliminar_noticia_${noticia.getId()}"
                        action="eliminarNoticia_exec.html" method="POST">
                        <input type="hidden" name="idNoticia" value="${noticia.getId()}" />
                        <button type="button" name="delNoticia"
                            onclick="confirmForm('formulario_eliminar_noticia_${noticia.getId()}')">Eliminar</button>
 </csrf:form>


El 02/02/2012 13:49, Jes?s Miguel Calder?n escribi?: 

	Hi guys. My name is Jes?s and I'm from Seville(Spain), so sorry for my English ;)
	
	I'm using OWASP-CSRF (lastest version) with Spring-MVC and I decided to use JSP Tag Library strategy.
	It works fine when I set org.owasp.csrfguard.TokenPerPage=false, but not when is set to true.
	
	Specifically...
	
	The first time that the navigator goes to localhost:8080/Spring3Hibernate/protected.html  the token posted and the sessionKey values are the same, and protected.html appears correctly.
	But the second time that the navigator goes to localhost:8080/Spring3Hibernate/protected.html does not appears correctly ( OWASP-CSRF detec CSRF atack) and I checked that the actual sessionkey and token that is posted to protected.html are the same!! (no problems with refresh) I dont understand that it's happening.
	
	This is my csrfproperties:
	org.owasp.csrfguard.TokenPerPage=true
	org.owasp.csrfguard.Rotate=false
	org.owasp.csrfguard.Ajax=false
	org.owasp.csrfguard.action.Log=org.owasp.csrfguard.action.Log
	org.owasp.csrfguard.action.Log.Message=potential cross-site request forgery (CSRF) attack thwarted (user:%user%, ip:%remote_ip%, uri:%request_uri%, error:%exception_message%)
	org.owasp.csrfguard.action.Redirect=org.owasp.csrfguard.action.Redirect
	org.owasp.csrfguard.action.Redirect.Page=/Spring3Hibernate/operacionNoPermitida.html
	org.owasp.csrfguard.SessionKey=OWASP_CSRFTOKEN
	org.owasp.csrfguard.TokenLength=32
	org.owasp.csrfguard.PRNG=SHA1PRNG
	
	And I the forms look like this:
	<form id="formulario_eliminar_noticia_107" method="POST" action="protected.html"> 
	<input type="hidden" value="BZAC-LS7F-2Q3Z-93GG-GYP0-6N8C-FO76-NMO2" name="OWASP_CSRFTOKEN">
	<input type="hidden" value="107" name="idNoticia">
	<button onclick="confirmPost('formulario_eliminar_noticia_107')" name="delNoticia" type="button">Eliminar</button>
	</form>
	
	confirmPost does post.submit();
	
	
	
	
	I hope someone can help me
	Thanks..
	




	El 02/02/2012 13:31, Jes?s Miguel Calder?n escribi?: 

		Hi guys. My name is Jes?s and I'm from Seville(Spain), so sorry for my English ;)
		
		I'm using OWASP-CSRF (lastest version) with Spring-MVC and I decided to use JSP Tag Library strategy.
		It works fine when I set org.owasp.csrfguard.TokenPerPage=false, but not when is set to true.
		
		I can 
		



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20120203/c864fe6b/attachment-0001.html>

From justin.searle at owasp.org  Mon Feb  6 18:00:44 2012
From: justin.searle at owasp.org (Justin Searle)
Date: Mon, 6 Feb 2012 11:00:44 -0700
Subject: [Owasp-csrfguard] [GPC-Mailbox] CsrfguardListener null pointer
	exception
In-Reply-To: <CAJ4mdiWbvgv+krY3bs=Y-xps7iYpztW5y2P7gc=Mm2SxjGJwuA@mail.gmail.com>
References: <CAJ4mdiWbvgv+krY3bs=Y-xps7iYpztW5y2P7gc=Mm2SxjGJwuA@mail.gmail.com>
Message-ID: <CAOL9KSKksY+v-TrLjbRooadmgftgrBA4a1MY+nMF=jwNkKc2zQ@mail.gmail.com>

Hi Aditya,

The CSRF Guard project has its own mailing list.  I've CC'd them on this email.

Eric and team, could you help Aditya out?

-- GPC



On Mon, Feb 6, 2012 at 8:18 AM, Aditya Avadhoot
<aditya.avadhoot at gmail.com> wrote:
> Hi,
> I was trying to use the CSRF project for web application and I downloaded it
> from https://www.owasp.org/index.php/CSRFGuard_3_User_Manual
> I have performed all the steps as mentioned there.
> The latest JAR file which i used is OWASP CSRFGuard 3.0.0.503 (ALPHA) and I
> have put the jar file in the WEB-INF/lib folder.
> I have put the Owasp.CsrfGuard.properties file in WEB-INF folder and i have
> not made any changes to the properties file yet.It is same as the downloaded
> one.
> Attached is the web.xml? file code snippet.
> ?As soon as I open my site page I am getting the error message null pointer
> exception Strack trace attached.
> I tried both the ways i.e changing the context param by removing the slash
> and adding the slash in web.xml and both the ways its giving me same
> exception.I verified the properties file located in the webapps/WEB-INF/
> folder it is present there.I am using weblogic 10.3 server.
>
> Please let me know how to resolve this problem. Your help is highly
> appreciated.
> Let me know in case you have any questions.
>
> Thanks and Regards
> Aditya
>



-- 
Justin Searle
Managing Partner - UtiliSec
801-784-2052

From eric.sheridan at owasp.org  Fri Feb 10 14:47:16 2012
From: eric.sheridan at owasp.org (eric sheridan)
Date: Fri, 10 Feb 2012 09:47:16 -0500
Subject: [Owasp-csrfguard] issue deploying csrf guard
In-Reply-To: <99533E0D572DE14F80D2AF55583A8E04B6A1BF@W3PVAP188.1DC.COM>
References: <Acx9bk1N+G03GQ50TZGakwm8OI0PzA==>
	<99533E0D572DE14F80D2AF55583A8E04B6A1BF@W3PVAP188.1DC.COM>
Message-ID: <CAOaxbh+bJ=RuOCkZfRPrN+dL6mtRUULZ81bRMP+0c==kQtr4BA@mail.gmail.com>

Sorry for the late reply - any luck with this issue? We've made
several updates in the 'master' branch since then. Might be worth
building from source and giving it another shot.

-Eric

On Tue, Sep 27, 2011 at 7:36 PM, DeGrande, Rick
<Rick.DeGrande at firstdata.com> wrote:
> That error was actually?
>
> java.lang.IllegalStateException
>
> ??????? at
> com.ibm.ws.session.http.HttpSessionImpl.setAttribute(HttpSessionImpl.java:248)
>
> ??????? at
> com.ibm.ws.session.SessionData.putSessionValue(SessionData.java:292)
>
> ??????? at com.ibm.ws.session.SessionData.setAttribute(SessionData.java:216)
>
> ??????? at
> com.ibm.ws.session.HttpSessionFacade.setAttribute(HttpSessionFacade.java:169)
>
> ??????? at org.owasp.csrfguard.CsrfGuard.isValidRequest(CsrfGuard.java:316)
>
> ???? ???at
> org.owasp.csrfguard.CsrfGuardFilter.doFilter(CsrfGuardFilter.java:57)
>
> ________________________________
>
> The information in this message may be proprietary and/or confidential, and
> protected from disclosure. If the reader of this message is not the intended
> recipient, or an employee or agent responsible for delivering this message
> to the intended recipient, you are hereby notified that any dissemination,
> distribution or copying of this communication is strictly prohibited. If you
> have received this communication in error, please notify First Data
> immediately by replying to this message and deleting it from your computer.
>
>
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>

From eric.sheridan at owasp.org  Fri Feb 10 14:52:45 2012
From: eric.sheridan at owasp.org (eric sheridan)
Date: Fri, 10 Feb 2012 09:52:45 -0500
Subject: [Owasp-csrfguard] csfrguard doesn't seem to work with my frames
In-Reply-To: <4EAADD4F.60703@stanford.edu>
References: <BLU148-W134791EB6E802CD2408BC6E9EC0@phx.gbl>
	<BLU148-W3115D0F76A2D9E8B5E060AE9D30@phx.gbl>
	<4EAADD4F.60703@stanford.edu>
Message-ID: <CAOaxbhLYNqkyMig=dr+rSvypzx2kNCTwEHcgSGifepOf5yhKtA@mail.gmail.com>

Support for injecting into frames via JavaScript is now properly
supported in the master branch. EIther build from source and give it
another shot or wait for BETA which will hopefully be out by the end
of the month.

Thanks for the feedback!

-Eric

On Fri, Oct 28, 2011 at 12:50 PM, Patrick Radtke <pradtke at stanford.edu> wrote:
> You can add the urls that you don't want protected to a list of
> unprotected_pages.
>
> https://www.owasp.org/index.php/CSRFGuard_3_Configuration#Unprotected_Pages
>
> On 10/28/11 9:23 AM, Sam Theman wrote:
>> Hello,
>>
>> PLEASE HELP!
>>
>> I have CSRFGuard working for my application, EXCEPT if I use frames.
>>
>> See the below sequence. I have an iframe in the frames.jsp, but is says
>> it is missing the token... see below code also... can anyone help????
>>
>> [Fri Oct 28 12:20:35 EDT 2011] [Info] CsrfGuard analyzing request
>> /crs/frames.jsp
>> [Fri Oct 28 12:20:38 EDT 2011] [Info] CsrfGuard analyzing request
>> /crs/JavaScriptServlet
>> [Fri Oct 28 12:20:38 EDT 2011] [Info] CsrfGuard analyzing request
>> /crs/HelloServlet (in my iframe)
>> [Fri Oct 28 12:20:38 EDT 2011] [Error] potential cross-site request
>> forgery (CSRF) attack thwarted (user:<anonymous>, ip:129.6.84.222,
>> uri:/crs/HelloServlet, error:required token is missing from the request)
>> [Fri Oct 28 12:20:38 EDT 2011] [Info] CsrfGuard analyzing request
>> /crs/error.html
>> [Fri Oct 28 12:20:38 EDT 2011] [Info] CsrfGuard analyzing request
>> /crs/HelloServlet
>> [Fri Oct 28 12:20:38 EDT 2011] [Error] potential cross-site request
>> forgery (CSRF) attack thwarted (user:<anonymous>, ip:129.6.84.222,
>> uri:/crs/HelloServlet, error:request token does not match session token)
>> [Fri Oct 28 12:20:38 EDT 2011] [Info] CsrfGuard analyzing request
>> /crs/error.html
>>
>>
>>
>> frames.jsp ::::
>>
>> <html>
>> <head>
>> <title>Main screen</title>
>> </head>
>> <script src="/crs/JavaScriptServlet"></script>
>>
>> <iframe src="/crs/HelloServlet"></iframe>
>> </html>
>>
>>
>>
>> _______________________________________________
>> Owasp-csrfguard mailing list
>> Owasp-csrfguard at lists.owasp.org
>> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard

From eric.sheridan at owasp.org  Fri Feb 10 15:00:42 2012
From: eric.sheridan at owasp.org (eric sheridan)
Date: Fri, 10 Feb 2012 10:00:42 -0500
Subject: [Owasp-csrfguard] Which code is most stable?
In-Reply-To: <CAGzcv2aCHAXy8NZ3=TcOXrYCMDzi=-bwha2DpdiV1G7MtBhUig@mail.gmail.com>
References: <CAGzcv2aCHAXy8NZ3=TcOXrYCMDzi=-bwha2DpdiV1G7MtBhUig@mail.gmail.com>
Message-ID: <CAOaxbhKs1n2bMZvEE-V11u7r+49L=F4eNbewK9q+yuryEQ3xHw@mail.gmail.com>

Go for 'master' in Git - definitely!

On Fri, Dec 2, 2011 at 11:59 AM, Anton Fomin <afomin at jaspersoft.com> wrote:
> Hello CSRF Guard Community!
>
> I'm wondering whether the latest CSRF code from?github?is enough stable and
> intended to be used out of the box, or would you suggest to use?OWASP
> CSRFGuard 3.0.0.503 (ALPHA) Bug fix release, dated?February 17, 2011?
>
> Thanks,
> Anton.
>
>
>
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>

From eric.sheridan at owasp.org  Fri Feb 10 15:01:32 2012
From: eric.sheridan at owasp.org (eric sheridan)
Date: Fri, 10 Feb 2012 10:01:32 -0500
Subject: [Owasp-csrfguard] Why the CsrfGuard class is final?
In-Reply-To: <CAGzcv2YVXBGVEOKNGCT_FaF6neGodP-BB22+9-O40ke3bw2EJg@mail.gmail.com>
References: <CAGzcv2YVXBGVEOKNGCT_FaF6neGodP-BB22+9-O40ke3bw2EJg@mail.gmail.com>
Message-ID: <CAOaxbh+i=vwosfL=p_TPKX3Y847hQbss3WxpG5F4z4SYaOhNJg@mail.gmail.com>

No strong reason. If you're doing active development, feel free to
remove the 'final' attribute and commit.

-Eric

On Fri, Dec 2, 2011 at 12:36 PM, Anton Fomin <afomin at jaspersoft.com> wrote:
> Hi,
>
> I have need for change some behavior inside CsrfGuard?class, I wanted to
> extend it, but I noticed that class is declared final.
>
> I have no other way than change the source code of the CSRFGuard jar (I'm
> using Owasp-CsrfGuard-3.0.0.503.tar.gz) and thus I'm wondering whether there
> was some certain reason for making that class final, may be some convention
> or something else?
>
> Best regards,
> Anton.
>
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>

From eric.sheridan at owasp.org  Fri Feb 10 15:03:07 2012
From: eric.sheridan at owasp.org (eric sheridan)
Date: Fri, 10 Feb 2012 10:03:07 -0500
Subject: [Owasp-csrfguard] error:required token is missing from the
	request
In-Reply-To: <CACtUEV=68vc_DE-fM6rmAoaijthcoDvD+XpwpXWoo8NvZG3H9Q@mail.gmail.com>
References: <CACtUEV=68vc_DE-fM6rmAoaijthcoDvD+XpwpXWoo8NvZG3H9Q@mail.gmail.com>
Message-ID: <CAOaxbhKLbsTWE5mBWteR+DsBVq4koe49Jvbho4CEoaTNP_xiuw@mail.gmail.com>

The only problem I could imagine here is that the token is not
actually being injected into the HTML that is sending a request to
this servlet. Intercept the HTTP request to the servlet to see if it
contains the token.

-Eric

On Thu, Dec 15, 2011 at 4:12 AM, ashish kumar Gautam
<gautamashishkumar at gmail.com> wrote:
> Dear All,
>
> I am using OWASP CSRF Guard to mitigate the risk of CSRF.
> I have installed, config and deployment CSRF Guard Project But when i run my
> project, I am receiving following error message and application is
> redirecting error.html page
>
> Error Message:
> 15 Dec, 2011 2:28:54 PM org.apache.catalina.core.AprLifecycleListener init
> INFO: The APR based Apache Tomcat Native library which allows optimal
> performance in production environments was not found on the
> java.library.path: C:\Program Files
> (x86)\Java\jre6\bin;.;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program
> Files (x86)\Java\jre6\bin\client;C:\Program Files
> (x86)\Java\jre6\bin;C:\Program Files\Common Files\Microsoft Shared\Windows
> Live;C:\Program Files (x86)\Common Files\Microsoft Shared\Windows
> Live;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program
> Files (x86)\ATI Technologies\ATI.ACE\Core-Static;C:\Program Files
> (x86)\Windows Live\Shared;C:\Program Files
> (x86)\QuickTime\QTSystem\;C:\Program Files (x86)\Microsoft SQL
> Server\90\Tools\binn\;C:\Program Files (x86)\Microsoft SQL
> Server\80\Tools\Binn\;.;C:\Program Files (x86)\Java\jdk1.6.0_20\bin;
> 15 Dec, 2011 2:28:54 PM org.apache.tomcat.util.digester.SetPropertiesRule
> begin
> WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting
> property 'source' to 'org.eclipse.jst.j2ee.server:csrf-gurd' did not find a
> matching property.
> 15 Dec, 2011 2:28:54 PM org.apache.coyote.http11.Http11Protocol init
> INFO: Initializing Coyote HTTP/1.1 on http-8080
> 15 Dec, 2011 2:28:54 PM org.apache.catalina.startup.Catalina load
> INFO: Initialization processed in 335 ms
> 15 Dec, 2011 2:28:54 PM org.apache.catalina.core.StandardService start
> INFO: Starting service Catalina
> 15 Dec, 2011 2:28:54 PM org.apache.catalina.core.StandardEngine start
> INFO: Starting Servlet Engine: Apache Tomcat/6.0.32
> 15 Dec, 2011 2:28:54 PM org.apache.coyote.http11.Http11Protocol start
> INFO: Starting Coyote HTTP/1.1 on http-8080
> 15 Dec, 2011 2:28:54 PM org.apache.jk.common.ChannelSocket init
> INFO: JK: ajp13 listening on /0.0.0.0:8009
> 15 Dec, 2011 2:28:54 PM org.apache.jk.server.JkMain start
> INFO: Jk running ID=0 time=0/13 ?config=null
> 15 Dec, 2011 2:28:54 PM org.apache.catalina.startup.Catalina start
> INFO: Server startup in 256 ms
> 15 Dec, 2011 2:28:56 PM org.apache.catalina.core.ApplicationContext log
> INFO:
> *****************************************************
> * Owasp.CsrfGuard Properties
> *
> * Logger: org.owasp.csrfguard.log.ConsoleLogger
> * NewTokenLandingPage: null
> * PRNG: SHA1PRNG
> * SessionKey: OWASP_CSRFTOKEN
> * TokenLength: 32
> * TokenName: OWASP_CSRFTOKEN
> * Ajax: true
> * Rotate: false
> * TokenPerPage: true
> * Action: org.owasp.csrfguard.action.Log
> * Parameter: Message = potential cross-site request forgery (CSRF) attack
> thwarted (user:%user%, ip:%remote_ip%, uri:%request_uri%,
> error:%exception_message%)
> * Action: org.owasp.csrfguard.action.Redirect
> * Parameter: Page = /Owasp.CsrfGuard.Test/error.html
> * Action: org.owasp.csrfguard.action.Rotate
> *****************************************************
>
> [Thu Dec 15 14:28:56 IST 2011] [Info] CsrfGuard analyzing request
> /csrf-gurd/
> [Thu Dec 15 14:28:56 IST 2011] [Info] CsrfGuard analyzing request
> /csrf-gurd/index.jsp
> [Thu Dec 15 14:29:05 IST 2011] [Info] CsrfGuard analyzing request
> /csrf-gurd/servlet/DataBaseConnection
> [Thu Dec 15 14:29:05 IST 2011] [Error] potential cross-site request forgery
> (CSRF) attack thwarted (user:<anonymous>%, ip:0:0:0:0:0:0:0:1,
> uri:/csrf-gurd/servlet/DataBaseConnection, error:required token is missing
> from the request)
>
>
> I am attaching?Owasp.CsrfGuard.properties and web.xml file also
>
> Pl' Find the attachments
>
>
>
> --
> Best regards,
> Ashish K. Gautam
> Senior Programmer
> NIC, Delhi
>
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>

From eric.sheridan at owasp.org  Fri Feb 10 15:11:28 2012
From: eric.sheridan at owasp.org (eric sheridan)
Date: Fri, 10 Feb 2012 10:11:28 -0500
Subject: [Owasp-csrfguard] JavascriptServlet & owasp.csrfguard.js file.
 Browser specific issues
In-Reply-To: <SNT145-W33016348B92404E2CAB7D883800@phx.gbl>
References: <SNT145-W33016348B92404E2CAB7D883800@phx.gbl>
Message-ID: <CAOaxbhKicQbC5_+8inH9EKR0vzBv3E_hN_sKFanh1wdNZOaWXA@mail.gmail.com>

Daniel,

Thank you very much for your feedback. Looks like you may have come
across some IE specific issues.

List,

I do not use IE on a regular basis. All of my dev work is on OSX/Linux
and thus my reviewing/pushing/testing updates for IE is usually not on
par with what a windows based developer would achieve. Is there anyone
on this list who can help review Dan's issues?

Thanks!

-Eric

On Tue, Jan 17, 2012 at 12:05 PM, Daniel Fiore <d_fiore at hotmail.com> wrote:
>
> Hello, I was having problems with the the dynamic DOM manipulation solution
> within certain browsers and I modified the javascript file to fix certain
> issues.
>
> I propose that these changes are investigated if they are indeed useless:
>
> In Firefox:
>
> Issue: DOM flickering problem where all the text in the page is displayed
> for a very brief moment without any formatting.
>
> Solution: I hide the body of the document before the token is injected into
> each tag and then redisplay it once all the tags are modified with the
> setTImeOut javascript function:
>
> Code:
> function injectTokens(tokenName, tokenValue) {
>
> ??? ??? document.body.style.display ='none';
> ...
>
> addEvent(window,'load', function() {
> ??? ??? ??? injectTokens("%TOKEN_NAME%", "%TOKEN_VALUE%");
> ??????????????? });
> addEvent(window,'load', function() {
> ??? ??? ??? setTimeout("document.body.style.display ='block'", 200);
> ??? ??? });
> ...
>
> In IE:
>
> Issue: When accessing a page that contained the JavascriptServlet <script>
> tag, the form within the page was being resubmitted to the server after the
> page was already displayed. I am not certain but I believe that if you
> dynamically modify the action attribute of a <form> tag (or the src
> attribute of an <img> tag) the page is resubmitted only in IE. This was
> causing the token to be updated to a new value (if
> org.owasp.csrfguard.Rotate=true) different from the token contained in the
> links of the page that is already displayed. If you selected a link to a
> protected page from the displayed page that contained the JavascriptServlet
> <script> tag, this would lead to an CSRF attack detection.
>
> Solution: I ignored certain tags in the token injection function and also
> removed injecting a token attribute in the action attribute of a <form> tag.
> This will only work if images, scripts and css links are unprotected:
>
> Code:
> function injectTokens(tokenName, tokenValue) {
> ...
>
> if(????? element.tagName.toLowerCase() != "script"
> ?? && element.tagName.toLowerCase() != "img"
> ?? && element.tagName.toLowerCase() != "image"
> ?? && element.tagName.toLowerCase() != "link")
> {
> ??? ? /** inject into form **/
> ??? ? if(element.tagName.toLowerCase() == "form") {
> ??? ?? if(%INJECT_FORMS% == true) {
> ??? ??? ??? ??? ??? ??? injectTokenForm(element, tokenName, tokenValue,
> pageTokens); // this should be enough for a form
> ??? ??? ??? ??? ??? ??? // injectTokenAttribute(element, "action",
> tokenName, tokenValue, pageTokens);
> ?...
> }
>
> I hope this can help certain users that have come across the same issues.
>
> Daniel Fiore.
>
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>

From eric.sheridan at owasp.org  Fri Feb 10 15:13:58 2012
From: eric.sheridan at owasp.org (eric sheridan)
Date: Fri, 10 Feb 2012 10:13:58 -0500
Subject: [Owasp-csrfguard] Bug/new feature request
In-Reply-To: <SNT135-W260DD0540EAF7493E3BE75DA8D0@phx.gbl>
References: <SNT135-W260DD0540EAF7493E3BE75DA8D0@phx.gbl>
Message-ID: <CAOaxbh+wbzEu_7X86oKPf6B6wDDMcBrcBQsij+j0KC-EDGkXuQ@mail.gmail.com>

The actions should be executed in the order they are declared in the
properties file. Are you seeing something different?

-Eric

On Mon, Jan 30, 2012 at 6:26 AM, Amon Amon <argenstijn at hotmail.com> wrote:
> Hi all,
>
> Just a little feature request for the next version of CsrfGuard.
>
> Currently all the actions which are executed when a CRSF exception occurs
> cannot be prioritized. I will like to have some influence on the execution
> plan of the actions which i define for the CSRF.
>
> The problem which i had is that the forward action was executed before the
> requestAttribute action (bug!). There is no 'good' solution to fix this
> problem in the current version.
> Currently i am just building a new action which sets the request attribute
> and forwards the request.
>
> Cheers,
> Mark
>
>
>
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>

From eric.sheridan at owasp.org  Fri Feb 10 15:15:35 2012
From: eric.sheridan at owasp.org (eric sheridan)
Date: Fri, 10 Feb 2012 10:15:35 -0500
Subject: [Owasp-csrfguard] Please Suggest;
 Is disabling the Rotate feature correct? How to pass wild cards in
 unprotected page list?
In-Reply-To: <CA+MvjsLEKkv_OD_8YX_APy0tcWvQXZhwe+efXeRK_vqAtpn6ww@mail.gmail.com>
References: <CA+MvjsLEKkv_OD_8YX_APy0tcWvQXZhwe+efXeRK_vqAtpn6ww@mail.gmail.com>
Message-ID: <CAOaxbhJh_hZCx8jGgQiuNip6szu5asYpXMVte9fgXCNTRvtFHg@mail.gmail.com>

I'm actually not crazy about the token rotation feature. I wrote the
first iteration but it, coupled with the 'per page token' feature,
seems to add more bandwidth to requests.

Does anybody make use of either of these features and find them
valuable? Do you notice a spike in traffic?

-Eric

On Tue, Jan 31, 2012 at 4:44 PM, Manish Sharma <manish2aug at gmail.com> wrote:
> Hi,
>
> I implemented OWASP CSRF Gurad with my application, I have some queries, can
> you please answer the following.
>
> 1) I am disabling the Rotate feature so that the tokens wont be refreshed in
> session. Is it correct and will it not add any vulnerability ?
> 2) As per the application we need to use the wild cards in our unprotected
> pages list, so I made some changes to isUriMatched() method.
> ??? I added the following piece of code in this method. Please verify and if
> it is correct then can this piece of code can be added to the CSRF Api in
> the
> ??? coming version.
>
> ?e.g.
> /mobile-server/xhtml/user/*/slogin.xhtml
>
> The page slogin.xhtml can be called in either way, but behind the scene same
> jsp is called.
> Following two different calls will invoke the same jsp.
>
> /s1mobile-server/xhtml/user/EP/slogin.xhtml
> /s1mobile-server/xhtml/user/CID/slogin.xhtml
>
> Where EP and CID are branding group code which will be decided by the
> client.
> To handle this I added the following code.
> /*
> ????? Case 0: Generic match using wild cards
> ????? */
> ????? if(testPath.contains("/*/"))
> ????? {
> ???????? // Use of wild card to define a directory of any name
> ???????? int index = testPath.indexOf("/*/");
> ???????? String exactInitialTestPath = testPath.substring(0,index+1);
> ???????? String newTestPath = testPath.substring(index+2);
> ???????? if(index+1>requestPath.length())
> ???????? {
> ??????????? return false;
> ???????? }
> ???????? String exactInitialRequestPath = requestPath.substring(0,index+1);
> ???????? /*
> ????????? * Condition: In case if directory name is valid.
> ????????? * Check of initial part matching.
> ????????? */
> ???????? if(!exactInitialTestPath.equals(exactInitialRequestPath))
> ???????? {
> ??????????? return false;
> ???????? }
>
> ???????? String remainingRequestPath = requestPath.substring(index+1);
>
> ???????? /*
> ????????? * Allowing the case /*
> ????????? */
> ???????? if(remainingRequestPath.length()==1 &&
> remainingRequestPath.equals("*"))
> ???????? {
> ??????????? return true;
> ???????? }
>
> ???????? int dirIindex = remainingRequestPath.indexOf("/");
> ???????? /*
> ????????? * If no valid directory
> ????????? */
> ???????? if(dirIindex==-1)
> ???????? {
> ??????????? return false;
> ???????? }
> ???????? String dirName = remainingRequestPath.substring(0,dirIindex);
> ???????? if(dirIindex>remainingRequestPath.length())
> ???????? {
> ??????????? return false;
> ???????? }
> ???????? String newRequestPath = remainingRequestPath.substring(dirIindex);
>
> ???????? /*
> ????????? * Condition: Check for valid characters for a directory name
> ????????? */
> ???????? if(dirName.contains("/")
> ?????????????? ||dirName.contains(":")||dirName.contains("*")
> ?????????????? ||dirName.contains("?")||dirName.contains("\"")
> ?????????????? ||dirName.contains("<")||dirName.contains(">")
> ?????????????? ||dirName.contains("|")||dirName.contains("&")
> ?????????????? ||dirName.contains("\\"))
> ???????? {
> ??????????? return false;
> ???????? }
>
>
>
> ???????? /*
> ????????? * Call this method again for checking the remaining part of the
> request path.
> ????????? */
> ???????? return isUriMatch(newTestPath, newRequestPath);
> ????? }
>
>
>
> -------------------------
> Thanks & Regards
> Manish Kumar
> | Mob: +27-742650187 |
> manish2aug at gmail.com
>
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>

From eric.sheridan at owasp.org  Fri Feb 10 15:16:08 2012
From: eric.sheridan at owasp.org (eric sheridan)
Date: Fri, 10 Feb 2012 10:16:08 -0500
Subject: [Owasp-csrfguard] Problems
In-Reply-To: <4F2A8238.1070309@gmail.com>
References: <4F2A8238.1070309@gmail.com>
Message-ID: <CAOaxbhL0ZJ5F+L0SBkZRYE-cbzdw=+dKNuLWQNFjVCxOZ8iUWA@mail.gmail.com>

You're email cut off... see below

-Eric

2012/2/2 Jes?s Miguel Calder?n <jesus.calderon.marin at gmail.com>:
> Hi guys. My name is Jes?s and I'm from Seville(Spain), so sorry for my
> English ;)
>
> I'm using OWASP-CSRF (lastest version) with Spring-MVC and I decided to use
> JSP Tag Library strategy.
> It works fine when I set org.owasp.csrfguard.TokenPerPage=false, but not
> when is set to true.
>
> I can
>
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>

From eric.sheridan at owasp.org  Fri Feb 10 15:18:22 2012
From: eric.sheridan at owasp.org (eric sheridan)
Date: Fri, 10 Feb 2012 10:18:22 -0500
Subject: [Owasp-csrfguard] [GPC-Mailbox] CsrfguardListener null pointer
	exception
In-Reply-To: <CAOL9KSKksY+v-TrLjbRooadmgftgrBA4a1MY+nMF=jwNkKc2zQ@mail.gmail.com>
References: <CAJ4mdiWbvgv+krY3bs=Y-xps7iYpztW5y2P7gc=Mm2SxjGJwuA@mail.gmail.com>
	<CAOL9KSKksY+v-TrLjbRooadmgftgrBA4a1MY+nMF=jwNkKc2zQ@mail.gmail.com>
Message-ID: <CAOaxbhKLuKj=x5bidP+pCA4zfjVhSj84qGQD+af55m_QkpkesA@mail.gmail.com>

This has been fixed in 'master' branch but not distributed via
release. Sync up from git, rebuild source via 'ant dist' and give it
another shot. It should go away.

-Eric

On Mon, Feb 6, 2012 at 1:00 PM, Justin Searle <justin.searle at owasp.org> wrote:
> Hi Aditya,
>
> The CSRF Guard project has its own mailing list. ?I've CC'd them on this email.
>
> Eric and team, could you help Aditya out?
>
> -- GPC
>
>
>
> On Mon, Feb 6, 2012 at 8:18 AM, Aditya Avadhoot
> <aditya.avadhoot at gmail.com> wrote:
>> Hi,
>> I was trying to use the CSRF project for web application and I downloaded it
>> from https://www.owasp.org/index.php/CSRFGuard_3_User_Manual
>> I have performed all the steps as mentioned there.
>> The latest JAR file which i used is OWASP CSRFGuard 3.0.0.503 (ALPHA) and I
>> have put the jar file in the WEB-INF/lib folder.
>> I have put the Owasp.CsrfGuard.properties file in WEB-INF folder and i have
>> not made any changes to the properties file yet.It is same as the downloaded
>> one.
>> Attached is the web.xml? file code snippet.
>> ?As soon as I open my site page I am getting the error message null pointer
>> exception Strack trace attached.
>> I tried both the ways i.e changing the context param by removing the slash
>> and adding the slash in web.xml and both the ways its giving me same
>> exception.I verified the properties file located in the webapps/WEB-INF/
>> folder it is present there.I am using weblogic 10.3 server.
>>
>> Please let me know how to resolve this problem. Your help is highly
>> appreciated.
>> Let me know in case you have any questions.
>>
>> Thanks and Regards
>> Aditya
>>
>
>
>
> --
> Justin Searle
> Managing Partner - UtiliSec
> 801-784-2052
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard

From eric.sheridan at owasp.org  Fri Feb 10 15:25:11 2012
From: eric.sheridan at owasp.org (eric sheridan)
Date: Fri, 10 Feb 2012 10:25:11 -0500
Subject: [Owasp-csrfguard] Shoot for BETA!
Message-ID: <CAOaxbhKPL2E2ZqGusSjPYgiwLtJCr-WTKX50_EMgwD3o-PJx1Q@mail.gmail.com>

List,

There has been a lot of amazing activity going on with OWASP CSRFGuard
Project as of late. I think it is time for us all to start pushing for
BETA status. Lets target doing so by the end of the month.

If you are a developer of CSRFGuard, now is the time to review and
commit your latest feature updates!

If you are a user of CSRFGuard, please consider giving us permission
to publicize your company's use of the project on the main project
page!

There are a couple of key issues that I am aware of that will require
team support to address:

- we do not yet have the ability to inject tokens into multipart form requests
- we have not yet fully resolved a token disclosure vuln
(https://github.com/esheri3/OWASP-CSRFGuard/issues/13)
   -> note that we can mitigate it via 'domain-strict' and 'referrer checking'
   -> would be nice to have a non-configurable fix in place that works
regardless of domain-strict and referrer checking
- we need more testing and bug commits for Internet Explorer
   -> it is difficult for me to give this the 'college effort' and am
reaching out to you for support!

If there are other key issues preventing us from going BETA, please
add them to the 'Issues' list at GitHub
https://github.com/esheri3/OWASP-CSRFGuard/issues

Thank you for everyone's continued support!!!!

-Eric

From afomin at jaspersoft.com  Fri Feb 10 15:41:41 2012
From: afomin at jaspersoft.com (Anton Fomin)
Date: Fri, 10 Feb 2012 17:41:41 +0200
Subject: [Owasp-csrfguard] Please Suggest;
 Is disabling the Rotate feature correct? How to pass wild cards in
 unprotected page list?
In-Reply-To: <CAOaxbhJh_hZCx8jGgQiuNip6szu5asYpXMVte9fgXCNTRvtFHg@mail.gmail.com>
References: <CA+MvjsLEKkv_OD_8YX_APy0tcWvQXZhwe+efXeRK_vqAtpn6ww@mail.gmail.com>
	<CAOaxbhJh_hZCx8jGgQiuNip6szu5asYpXMVte9fgXCNTRvtFHg@mail.gmail.com>
Message-ID: <CAGzcv2Yvyy+h0w6jN20Vvto4+5son9CKGNeNfc2ahAHCAB_-rw@mail.gmail.com>

Hi Eric, Manish,

Even more. In our application we have need to protect mostly ajax requests,
but rotate tokens (in 'master' git code) doesn't make sense for ajax
requests, because there is no support for different tokens for unique ajax
requests (all ajax requests use the session token actually).

So I extended logic to support tokenPerRequest (different tokens for each
unique ajax request). This extension is still under development, but
postponed as yet, because of the other tasks, I plan to finish changes and
merge with trunk of our application this Spring. We plan to use most
restrictive settings: token rotation, and tokenPerRequest. This allows to
minimize attack window.

Support unique tokens for ajax requests is very important in the light of
Web 2.0 applications, where everything is ajax and javascript generation of
the page rules.

Also important feature is to protect only certain ajax requests, which is
done now. Feature allows to define set of the parameter names and values of
protected requests, so application definitely knows which requests to
protect and which not (we have some read-only requests, which share
resources and shouldn't be protected, so there is no need for attaching
token for them, increasing possibility for steal token).

Anton.

2012/2/10 eric sheridan <eric.sheridan at owasp.org>

> I'm actually not crazy about the token rotation feature. I wrote the
> first iteration but it, coupled with the 'per page token' feature,
> seems to add more bandwidth to requests.
>
> Does anybody make use of either of these features and find them
> valuable? Do you notice a spike in traffic?
>
> -Eric
>
> On Tue, Jan 31, 2012 at 4:44 PM, Manish Sharma <manish2aug at gmail.com>
> wrote:
> > Hi,
> >
> > I implemented OWASP CSRF Gurad with my application, I have some queries,
> can
> > you please answer the following.
> >
> > 1) I am disabling the Rotate feature so that the tokens wont be
> refreshed in
> > session. Is it correct and will it not add any vulnerability ?
> > 2) As per the application we need to use the wild cards in our
> unprotected
> > pages list, so I made some changes to isUriMatched() method.
> >     I added the following piece of code in this method. Please verify
> and if
> > it is correct then can this piece of code can be added to the CSRF Api in
> > the
> >     coming version.
> >
> >  e.g.
> > /mobile-server/xhtml/user/*/slogin.xhtml
> >
> > The page slogin.xhtml can be called in either way, but behind the scene
> same
> > jsp is called.
> > Following two different calls will invoke the same jsp.
> >
> > /s1mobile-server/xhtml/user/EP/slogin.xhtml
> > /s1mobile-server/xhtml/user/CID/slogin.xhtml
> >
> > Where EP and CID are branding group code which will be decided by the
> > client.
> > To handle this I added the following code.
> > /*
> >       Case 0: Generic match using wild cards
> >       */
> >       if(testPath.contains("/*/"))
> >       {
> >          // Use of wild card to define a directory of any name
> >          int index = testPath.indexOf("/*/");
> >          String exactInitialTestPath = testPath.substring(0,index+1);
> >          String newTestPath = testPath.substring(index+2);
> >          if(index+1>requestPath.length())
> >          {
> >             return false;
> >          }
> >          String exactInitialRequestPath =
> requestPath.substring(0,index+1);
> >          /*
> >           * Condition: In case if directory name is valid.
> >           * Check of initial part matching.
> >           */
> >          if(!exactInitialTestPath.equals(exactInitialRequestPath))
> >          {
> >             return false;
> >          }
> >
> >          String remainingRequestPath = requestPath.substring(index+1);
> >
> >          /*
> >           * Allowing the case /*
> >           */
> >          if(remainingRequestPath.length()==1 &&
> > remainingRequestPath.equals("*"))
> >          {
> >             return true;
> >          }
> >
> >          int dirIindex = remainingRequestPath.indexOf("/");
> >          /*
> >           * If no valid directory
> >           */
> >          if(dirIindex==-1)
> >          {
> >             return false;
> >          }
> >          String dirName = remainingRequestPath.substring(0,dirIindex);
> >          if(dirIindex>remainingRequestPath.length())
> >          {
> >             return false;
> >          }
> >          String newRequestPath =
> remainingRequestPath.substring(dirIindex);
> >
> >          /*
> >           * Condition: Check for valid characters for a directory name
> >           */
> >          if(dirName.contains("/")
> >                ||dirName.contains(":")||dirName.contains("*")
> >                ||dirName.contains("?")||dirName.contains("\"")
> >                ||dirName.contains("<")||dirName.contains(">")
> >                ||dirName.contains("|")||dirName.contains("&")
> >                ||dirName.contains("\\"))
> >          {
> >             return false;
> >          }
> >
> >
> >
> >          /*
> >           * Call this method again for checking the remaining part of the
> > request path.
> >           */
> >          return isUriMatch(newTestPath, newRequestPath);
> >       }
> >
> >
> >
> > -------------------------
> > Thanks & Regards
> > Manish Kumar
> > | Mob: +27-742650187 |
> > manish2aug at gmail.com
> >
> > _______________________________________________
> > Owasp-csrfguard mailing list
> > Owasp-csrfguard at lists.owasp.org
> > https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
> >
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20120210/595aa2c7/attachment.html>

From afomin at jaspersoft.com  Fri Feb 10 15:44:21 2012
From: afomin at jaspersoft.com (Anton Fomin)
Date: Fri, 10 Feb 2012 17:44:21 +0200
Subject: [Owasp-csrfguard] Which code is most stable?
In-Reply-To: <CAOaxbhKs1n2bMZvEE-V11u7r+49L=F4eNbewK9q+yuryEQ3xHw@mail.gmail.com>
References: <CAGzcv2aCHAXy8NZ3=TcOXrYCMDzi=-bwha2DpdiV1G7MtBhUig@mail.gmail.com>
	<CAOaxbhKs1n2bMZvEE-V11u7r+49L=F4eNbewK9q+yuryEQ3xHw@mail.gmail.com>
Message-ID: <CAGzcv2YEgwnqnajxsW8+p-NKwcNART45MtoOVOAF2wN3qHWqkQ@mail.gmail.com>

Hi Eric,

I understood then that I should go for latest changes :)

Anton.

2012/2/10 eric sheridan <eric.sheridan at owasp.org>

> Go for 'master' in Git - definitely!
>
> On Fri, Dec 2, 2011 at 11:59 AM, Anton Fomin <afomin at jaspersoft.com>
> wrote:
> > Hello CSRF Guard Community!
> >
> > I'm wondering whether the latest CSRF code from github is enough stable
> and
> > intended to be used out of the box, or would you suggest to use OWASP
> > CSRFGuard 3.0.0.503 (ALPHA) Bug fix release, dated February 17, 2011?
> >
> > Thanks,
> > Anton.
> >
> >
> >
> > _______________________________________________
> > Owasp-csrfguard mailing list
> > Owasp-csrfguard at lists.owasp.org
> > https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20120210/997e90f9/attachment-0001.html>

From pradtke at stanford.edu  Fri Feb 10 17:59:46 2012
From: pradtke at stanford.edu (Patrick Radtke)
Date: Fri, 10 Feb 2012 09:59:46 -0800
Subject: [Owasp-csrfguard] Please Suggest;
 Is disabling the Rotate feature correct? How to pass wild cards in
 unprotected page list?
In-Reply-To: <CAOaxbhJh_hZCx8jGgQiuNip6szu5asYpXMVte9fgXCNTRvtFHg@mail.gmail.com>
References: <CA+MvjsLEKkv_OD_8YX_APy0tcWvQXZhwe+efXeRK_vqAtpn6ww@mail.gmail.com>
	<CAOaxbhJh_hZCx8jGgQiuNip6szu5asYpXMVte9fgXCNTRvtFHg@mail.gmail.com>
Message-ID: <4F355B12.8020000@stanford.edu>

On 2/10/12 7:15 AM, eric sheridan wrote:
> I'm actually not crazy about the token rotation feature. I wrote the
> first iteration but it, coupled with the 'per page token' feature,
> seems to add more bandwidth to requests.
>
> Does anybody make use of either of these features and find them
> valuable? Do you notice a spike in traffic?
>
> -Eric

We use 'per page token' and calculate the token in advance (rather then 
after the first access). We don't use token rotation - too many of our 
users click the back button.

-Patrick

From Radhika.Krishnan at uth.tmc.edu  Mon Feb 13 16:18:06 2012
From: Radhika.Krishnan at uth.tmc.edu (Krishnan, Radhika)
Date: Mon, 13 Feb 2012 10:18:06 -0600
Subject: [Owasp-csrfguard] How to use csrfguard 3 in jsf 2.0 within facelets
	pages
Message-ID: <9CBD05955C5C2346AED18D7B5237BF0F5A675C303B@UTHCMS3.uthouston.edu>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20120213/4da78ce5/attachment.html>

From argenstijn at hotmail.com  Tue Feb 14 15:12:24 2012
From: argenstijn at hotmail.com (Amon Amon)
Date: Tue, 14 Feb 2012 15:12:24 +0000
Subject: [Owasp-csrfguard] Bug/new feature request
In-Reply-To: <CAOaxbh+wbzEu_7X86oKPf6B6wDDMcBrcBQsij+j0KC-EDGkXuQ@mail.gmail.com>
References: <SNT135-W260DD0540EAF7493E3BE75DA8D0@phx.gbl>,
	<CAOaxbh+wbzEu_7X86oKPf6B6wDDMcBrcBQsij+j0KC-EDGkXuQ@mail.gmail.com>
Message-ID: <SNT135-W2E445F024F97908A2A32CDA7C0@phx.gbl>


Hi Eric,

I don't think this is the case. You are using "java.util.Properties" to read the configuration properties. The Properties class is based on the Hashtable. But Hashtable does not maintain the order in which you add the objects. So you create your own ordered Properties class based on another Collection. This will fix the problem. And allows users to order the executions.

Cheers,
Mark



> Date: Fri, 10 Feb 2012 10:13:58 -0500
> Subject: Re: [Owasp-csrfguard] Bug/new feature request
> From: eric.sheridan at owasp.org
> To: argenstijn at hotmail.com
> CC: owasp-csrfguard at lists.owasp.org
> 
> The actions should be executed in the order they are declared in the
> properties file. Are you seeing something different?
> 
> -Eric
> 
> On Mon, Jan 30, 2012 at 6:26 AM, Amon Amon <argenstijn at hotmail.com> wrote:
> > Hi all,
> >
> > Just a little feature request for the next version of CsrfGuard.
> >
> > Currently all the actions which are executed when a CRSF exception occurs
> > cannot be prioritized. I will like to have some influence on the execution
> > plan of the actions which i define for the CSRF.
> >
> > The problem which i had is that the forward action was executed before the
> > requestAttribute action (bug!). There is no 'good' solution to fix this
> > problem in the current version.
> > Currently i am just building a new action which sets the request attribute
> > and forwards the request.
> >
> > Cheers,
> > Mark
> >
> >
> >
> > _______________________________________________
> > Owasp-csrfguard mailing list
> > Owasp-csrfguard at lists.owasp.org
> > https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
> >
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20120214/34aaa8b1/attachment.html>

From eric.sheridan at owasp.org  Fri Feb 17 16:26:04 2012
From: eric.sheridan at owasp.org (eric sheridan)
Date: Fri, 17 Feb 2012 11:26:04 -0500
Subject: [Owasp-csrfguard] Bug/new feature request
In-Reply-To: <SNT135-W2E445F024F97908A2A32CDA7C0@phx.gbl>
References: <SNT135-W260DD0540EAF7493E3BE75DA8D0@phx.gbl>
	<CAOaxbh+wbzEu_7X86oKPf6B6wDDMcBrcBQsij+j0KC-EDGkXuQ@mail.gmail.com>
	<SNT135-W2E445F024F97908A2A32CDA7C0@phx.gbl>
Message-ID: <CAOaxbhJqWFG5MtP7zCz-wirC8JgjVRfDY8-gQ81FBWCiyPBz0Q@mail.gmail.com>

Mark,

Makes perfect sense - I didn't realize the Properties class uses hash
lookups internally. I'll add a feature request to GitHub. Thanks!

-Eric

On Tue, Feb 14, 2012 at 10:12 AM, Amon Amon <argenstijn at hotmail.com> wrote:
> Hi Eric,
>
> I don't think this is the case. You are using "java.util.Properties" to read
> the configuration properties. The Properties class is based on the
> Hashtable. But Hashtable does not maintain the order in which you add the
> objects. So you create your own ordered Properties class based on another
> Collection. This will fix the problem. And allows users to order the
> executions.
>
> Cheers,
> Mark
>
>
>
>> Date: Fri, 10 Feb 2012 10:13:58 -0500
>> Subject: Re: [Owasp-csrfguard] Bug/new feature request
>> From: eric.sheridan at owasp.org
>> To: argenstijn at hotmail.com
>> CC: owasp-csrfguard at lists.owasp.org
>
>>
>> The actions should be executed in the order they are declared in the
>> properties file. Are you seeing something different?
>>
>> -Eric
>>
>> On Mon, Jan 30, 2012 at 6:26 AM, Amon Amon <argenstijn at hotmail.com> wrote:
>> > Hi all,
>> >
>> > Just a little feature request for the next version of CsrfGuard.
>> >
>> > Currently all the actions which are executed when a CRSF exception
>> > occurs
>> > cannot be prioritized. I will like to have some influence on the
>> > execution
>> > plan of the actions which i define for the CSRF.
>> >
>> > The problem which i had is that the forward action was executed before
>> > the
>> > requestAttribute action (bug!). There is no 'good' solution to fix this
>> > problem in the current version.
>> > Currently i am just building a new action which sets the request
>> > attribute
>> > and forwards the request.
>> >
>> > Cheers,
>> > Mark
>> >
>> >
>> >
>> > _______________________________________________
>> > Owasp-csrfguard mailing list
>> > Owasp-csrfguard at lists.owasp.org
>> > https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>> >

From parasharsh at gmail.com  Wed Feb 29 13:44:11 2012
From: parasharsh at gmail.com (Shrinivas Parashar)
Date: Wed, 29 Feb 2012 19:14:11 +0530
Subject: [Owasp-csrfguard] Why the latest release of CSRF guard is marked as
	ALPHA
Message-ID: <CAMvnUtPzQiTyMb56X=CvPetpFZg6Fnf69mqkB5ZFHMPPF9mn-g@mail.gmail.com>

Hi,
We are planning to use CSRF guard in out project. But our legal approval
team has few concerns as the jar which we are using is marked as APLHA.
Do we have any non alpha release. Is there any plan to release a newer
version which would be non ALPHA?

Regards,
Shrinivas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20120229/0f9decef/attachment.html>

From afomin at jaspersoft.com  Wed Feb 29 15:19:37 2012
From: afomin at jaspersoft.com (Anton Fomin)
Date: Wed, 29 Feb 2012 17:19:37 +0200
Subject: [Owasp-csrfguard] Why the latest release of CSRF guard is
 marked as ALPHA
In-Reply-To: <CAMvnUtPzQiTyMb56X=CvPetpFZg6Fnf69mqkB5ZFHMPPF9mn-g@mail.gmail.com>
References: <CAMvnUtPzQiTyMb56X=CvPetpFZg6Fnf69mqkB5ZFHMPPF9mn-g@mail.gmail.com>
Message-ID: <CAGzcv2YDo8vTv4F+nwckhHu3j3KD8wogi6TcRUyN+St35xY6PA@mail.gmail.com>

Hi Shrinivas,

The most current code is in master code line in github, so you better build
jar from latest sources. However, new release of the CSRF Guard was
announced recently, I think Eric may know exact dates.

Anton.

2012/2/29 Shrinivas Parashar <parasharsh at gmail.com>

> Hi,
> We are planning to use CSRF guard in out project. But our legal approval
> team has few concerns as the jar which we are using is marked as APLHA.
> Do we have any non alpha release. Is there any plan to release a newer
> version which would be non ALPHA?
>
> Regards,
> Shrinivas
>
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20120229/345295fd/attachment.html>

