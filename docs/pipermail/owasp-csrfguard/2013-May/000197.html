<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-csrfguard] Newbie question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-csrfguard%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfguard%5D%20Newbie%20question&In-Reply-To=%3CCABhJRgONUr7e4xns4uuvGCsqev_AbWTr2e3q%2BUex9jaqpNA2hA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000198.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-csrfguard] Newbie question</H1>
    <B>Amol Kulkarni</B> 
    <A HREF="mailto:owasp-csrfguard%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-csrfguard%5D%20Newbie%20question&In-Reply-To=%3CCABhJRgONUr7e4xns4uuvGCsqev_AbWTr2e3q%2BUex9jaqpNA2hA%40mail.gmail.com%3E"
       TITLE="[Owasp-csrfguard] Newbie question">amolk112k at gmail.com
       </A><BR>
    <I>Thu May  2 11:44:32 UTC 2013</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000198.html">[Owasp-csrfguard] Newbie question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#197">[ date ]</a>
              <a href="thread.html#197">[ thread ]</a>
              <a href="subject.html#197">[ subject ]</a>
              <a href="author.html#197">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've a simple Email application in servlets. I want to secure email sending
using the csrfguard. The Compose and Send servlets are differerent. The
compose servlet just displays the compose page and the send page is invoked
to send the mail.


I've installed and configured it according to the document.

For protecting the send page, I've added it in filter like :
    &lt;filter-mapping&gt;
                &lt;filter-name&gt;CSRFGuard&lt;/filter-name&gt;
                &lt;url-pattern&gt;/servlet/Send&lt;/url-pattern&gt;
        &lt;/filter-mapping&gt;


When any user logs in and sends mail, he gets error from csrf. In log it
shows :

[Thu May 02 17:02:27 IST 2013] [Info] CsrfGuard analyzing request
/baya/servlet/Send
[Thu May 02 17:02:27 IST 2013] [Error] potential cross-site request forgery
(CSRF) attack thwarted (user:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">abuse at test.int</A>, ip:192.168.0.17,
uri:/baya/servlet/Send, error:required token is missing from the request
org.owasp.csrfguard.CsrfGuardException: required token is missing from the
request)


I think I'm missing something here.
Can anyone help me out ?

Thanks,
Amol.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20130502/a8b728c6/attachment.html">http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20130502/a8b728c6/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000198.html">[Owasp-csrfguard] Newbie question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#197">[ date ]</a>
              <a href="thread.html#197">[ thread ]</a>
              <a href="subject.html#197">[ subject ]</a>
              <a href="author.html#197">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-csrfguard">More information about the Owasp-csrfguard
mailing list</a><br>
</body></html>
