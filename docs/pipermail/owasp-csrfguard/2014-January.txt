From Christy.L.Erwin at boeing.com  Tue Jan  7 20:10:17 2014
From: Christy.L.Erwin at boeing.com (Erwin, Christy L)
Date: Tue, 7 Jan 2014 20:10:17 +0000
Subject: [Owasp-csrfguard] Query on CSRFGuard and usage in IBM
	Websphere	6.1
In-Reply-To: <mailman.7.1388059203.9345.owasp-csrfguard@lists.owasp.org>
References: <mailman.7.1388059203.9345.owasp-csrfguard@lists.owasp.org>
Message-ID: <C4057EF485FE7646AF33A054C9660C25041156@XCH-BLV-405.nw.nos.boeing.com>

Hello Ragha,

I recently implemented CSRFGuard in an application using IBM WebSphere 8.0. There are some changes that need to be made to the code in order to get it to work with the WebSphere server. I found that the Installation Guide and other documentation on the OWASP site does not address this.

In particular, in the csrfguard.properties file, I had to change the org.owasp.csrfguard.PRNG property
From: org.owasp.csrfguard.PRNG =SHA1PRNG
To: org.owasp.csrfguard.PRNG=IBMSecureRandom 

And in the CsrfGuard.java file, defaults are hard-coded for the following two values, which have to be changed for WebSphere servers
From: org.owasp.csrfguard.PRNG=SHA1PRNG
To: org.owasp.csrfguard.PRNG=IBMSecureRandom
---
From: org.owasp.csrfguard.PRNG.Provider=SUN 
To: org.owasp.csrfguard.PRNG.Provider=IBMJCE
---

Because of the change to the .java file, the code had to be recompiled. The OWASP CSRFGuard Install Guide shows how to list the CSRFGuardListener class in its example web.xml file. And the CSRFGuard.jar file on my company's application security web site contains this class file. But I was not able to find this java code anywhere. So instead, I used the CsrfGuardServletContextListener and CsrfGuardHttpSessionListener classes, and put them in my web.xml as follows:
    <listener>
       <listener-class>org.owasp.csrfguard.CsrfGuardServletContextListener</listener-class>
    </listener>
    <listener>
       <listener-class>org.owasp.csrfguard.CsrfGuardHttpSessionListener</listener-class>
    </listener>

I would think that it would be possible to put both properties in csrfguard.properties and forgo the recompile of the Java code, but I didn't try this myself. It would look like this:
org.owasp.csrfguard.PRNG=IBMSecureRandom
org.owasp.csrfguard.PRNG.Provider=IBMJCE

This is where info is on these properties for WebSphere:
http://files.jscape.com/secureftpserver/docs/index.html?running_under_ibm_jvm.htm

Since I only needed to protect a couple pages in the application I worked on, I found it much simpler to use the provided JSP Tag Library, csrfguard.tld, and insert tokens into specific links. For me, this was preferable to using the default JavaScript token injection, which for my application, which has many links and older and faulty JavaScript code, surfaced a lot of previously unseen JS errors.

Feel free to contact me if you have additional questions about CSRFGuard in WebSphere.

Christa Erwin 
Programmer/Analyst, Boeing Enterprise Supplier Tools (BEST) 
Mon-Thurs, 8:00 - 4:30 pm
Work: 425-234-5942
Cell: 206-427-1787 

-----Original Message-----
From: owasp-csrfguard-bounces at lists.owasp.org [mailto:owasp-csrfguard-bounces at lists.owasp.org] On Behalf Of owasp-csrfguard-request at lists.owasp.org
Sent: Thursday, December 26, 2013 4:00 AM
To: owasp-csrfguard at lists.owasp.org
Subject: Owasp-csrfguard Digest, Vol 40, Issue 1

Send Owasp-csrfguard mailing list submissions to
	owasp-csrfguard at lists.owasp.org

To subscribe or unsubscribe via the World Wide Web, visit
	https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
or, via email, send a message with subject or body 'help' to
	owasp-csrfguard-request at lists.owasp.org

You can reach the person managing the list at
	owasp-csrfguard-owner at lists.owasp.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of Owasp-csrfguard digest..."


Today's Topics:

   1. Query on CSRFGuard and usage in IBM Websphere 6.1 (Raghu Vedu)
   2. Re: Query on CSRFGuard and usage in IBM Websphere	6.1
      (Azzeddine Ramrami)


----------------------------------------------------------------------

Message: 1
Date: 26 Dec 2013 04:58:27 -0000
From: "Raghu Vedu" <vedeshwar777 at rediffmail.com>
To: "owasp-csrfguard at lists.owasp.org"
	<owasp-csrfguard at lists.owasp.org>
Subject: [Owasp-csrfguard] Query on CSRFGuard and usage in IBM
	Websphere 6.1
Message-ID: <20131226045827.26979.qmail at f4mail-235-197.rediffmail.com>
Content-Type: text/plain; charset="utf-8"



Hi,
&nbsp;
I am trying to use the source from https://github.com/esheri3/OWASP-CSRFGuard and my need is to use the library in web application using IBM Websphere 6.1 server.
&nbsp;
I am seeing it is written for Maven, so please let me know if IBM websphere based project is also available.
&nbsp;
I am bit new to this, so please let me know the feasibility of using the CSRFguard in IBM server.
&nbsp;
Thanks
Ragha
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131226/9a1ded72/attachment-0001.html>

------------------------------

Message: 2
Date: Thu, 26 Dec 2013 09:08:24 +0100
From: Azzeddine Ramrami <azzeddine.ramrami at owasp.org>
To: Raghu Vedu <vedeshwar777 at rediffmail.com>
Cc: "owasp-csrfguard at lists.owasp.org"
	<owasp-csrfguard at lists.owasp.org>
Subject: Re: [Owasp-csrfguard] Query on CSRFGuard and usage in IBM
	Websphere	6.1
Message-ID:
	<CAL4seLGp93CD61jEh8HTYxmBZiN3yqG871Jwf+xz9qO8G2Sz9A at mail.gmail.com>
Content-Type: text/plain; charset="iso-8859-1"

Dear Sir,
I ma the Leader of this project.
You can use the CSRFGuard library with IBM WS as JavaEE filter.

OWASP CSRFGuard utilizes request tokens to address Cross-Site Request Forgery.  CSRF is an attack where the victim is tricked into interacting with a website where they are already authenticated.
CSRFGuard Provides code to generate unique request tokens to mitigate CSRF risks.

You can integrate the source code using you own method (if you don't use Maven).

The following link show how to integrate CSRFGuard with you application :

https://www.owasp.org/index.php/CSRFGuard_3_Installation

If you have any question contact me.
Regards,
Azzeddine RAMRAMI



On Thu, Dec 26, 2013 at 5:58 AM, Raghu Vedu <vedeshwar777 at rediffmail.com>wrote:

>
>
>  Hi,
>
>
>
> I am trying to use the source from
> https://github.com/esheri3/OWASP-CSRFGuard<https://mail.cognizant.com/
> owa/redir.aspx?C=gctwdUlqRE6Dy9yipRCHDBaTrkSO1dAITOgP44EdTmawQQ3YMLYMT
> Ok3pVLoRqRK1yF4wY8ha-4.&URL=https%3a%2f%2fgithub.com%2fesheri3%2fOWASP
> -CSRFGuard>and my need is to use the library in web application using 
> IBM Websphere
> 6.1 server.
>
>
>
> I am seeing it is written for Maven, so please let me know if IBM 
> websphere based project is also available.
>
>
>
> I am bit new to this, so please let me know the feasibility of using 
> the CSRFguard in IBM server.
>
>
>
> Thanks
>
> Ragha
>
>
> <http://sigads.rediff.com/RealMedia/ads/click_nx.ads/www.rediffmail.co
> m/signatureline.htm at Middle?> Get your own *FREE* website, *FREE* 
> domain & *FREE* mobile app with Company email.
> *Know More 
> >*<http://track.rediff.com/click?url=___http://businessemail.rediff.co
> m/company-email-hosting-services?sc_cid=sign-1-10-13___&cmp=host&lnk=s
> ign-1-10-13&nsrv1=host> 
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>
>


--
Azzeddine RAMRAMI
+33 6 65 48 90 04.
Enterprise Security Architect
OWASP Leader (Morocco Chapter)
Mozilla Security Projects Mentor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131226/a1922fc9/attachment-0001.html>

------------------------------

_______________________________________________
Owasp-csrfguard mailing list
Owasp-csrfguard at lists.owasp.org
https://lists.owasp.org/mailman/listinfo/owasp-csrfguard


End of Owasp-csrfguard Digest, Vol 40, Issue 1
**********************************************

From azzeddine.ramrami at owasp.org  Wed Jan  8 20:02:13 2014
From: azzeddine.ramrami at owasp.org (Azzeddine Ramrami)
Date: Wed, 8 Jan 2014 21:02:13 +0100
Subject: [Owasp-csrfguard] Query on CSRFGuard and usage in IBM Websphere
	6.1
In-Reply-To: <C4057EF485FE7646AF33A054C9660C25041156@XCH-BLV-405.nw.nos.boeing.com>
References: <mailman.7.1388059203.9345.owasp-csrfguard@lists.owasp.org>
	<C4057EF485FE7646AF33A054C9660C25041156@XCH-BLV-405.nw.nos.boeing.com>
Message-ID: <CAL4seLGi_9UMrLQTaxFku+wFnKL0s+OY62DcHOHo9YV5eFkvHg@mail.gmail.com>

Hi Erwin,
Is this OK for you to add your installation steps on the CSRFGuard wiki
project ?
I will install a complete WS environnement to tests each steps.
Regards,
Azzeddine


On Tue, Jan 7, 2014 at 9:10 PM, Erwin, Christy L <Christy.L.Erwin at boeing.com
> wrote:

> Hello Ragha,
>
> I recently implemented CSRFGuard in an application using IBM WebSphere
> 8.0. There are some changes that need to be made to the code in order to
> get it to work with the WebSphere server. I found that the Installation
> Guide and other documentation on the OWASP site does not address this.
>
> In particular, in the csrfguard.properties file, I had to change the
> org.owasp.csrfguard.PRNG property
> From: org.owasp.csrfguard.PRNG =SHA1PRNG
> To: org.owasp.csrfguard.PRNG=IBMSecureRandom
>
> And in the CsrfGuard.java file, defaults are hard-coded for the following
> two values, which have to be changed for WebSphere servers
> From: org.owasp.csrfguard.PRNG=SHA1PRNG
> To: org.owasp.csrfguard.PRNG=IBMSecureRandom
> ---
> From: org.owasp.csrfguard.PRNG.Provider=SUN
> To: org.owasp.csrfguard.PRNG.Provider=IBMJCE
> ---
>
> Because of the change to the .java file, the code had to be recompiled.
> The OWASP CSRFGuard Install Guide shows how to list the CSRFGuardListener
> class in its example web.xml file. And the CSRFGuard.jar file on my
> company's application security web site contains this class file. But I was
> not able to find this java code anywhere. So instead, I used the
> CsrfGuardServletContextListener and CsrfGuardHttpSessionListener classes,
> and put them in my web.xml as follows:
>     <listener>
>
>  <listener-class>org.owasp.csrfguard.CsrfGuardServletContextListener</listener-class>
>     </listener>
>     <listener>
>
>  <listener-class>org.owasp.csrfguard.CsrfGuardHttpSessionListener</listener-class>
>     </listener>
>
> I would think that it would be possible to put both properties in
> csrfguard.properties and forgo the recompile of the Java code, but I didn't
> try this myself. It would look like this:
> org.owasp.csrfguard.PRNG=IBMSecureRandom
> org.owasp.csrfguard.PRNG.Provider=IBMJCE
>
> This is where info is on these properties for WebSphere:
>
> http://files.jscape.com/secureftpserver/docs/index.html?running_under_ibm_jvm.htm
>
> Since I only needed to protect a couple pages in the application I worked
> on, I found it much simpler to use the provided JSP Tag Library,
> csrfguard.tld, and insert tokens into specific links. For me, this was
> preferable to using the default JavaScript token injection, which for my
> application, which has many links and older and faulty JavaScript code,
> surfaced a lot of previously unseen JS errors.
>
> Feel free to contact me if you have additional questions about CSRFGuard
> in WebSphere.
>
> Christa Erwin
> Programmer/Analyst, Boeing Enterprise Supplier Tools (BEST)
> Mon-Thurs, 8:00 - 4:30 pm
> Work: 425-234-5942
> Cell: 206-427-1787
>
> -----Original Message-----
> From: owasp-csrfguard-bounces at lists.owasp.org [mailto:
> owasp-csrfguard-bounces at lists.owasp.org] On Behalf Of
> owasp-csrfguard-request at lists.owasp.org
> Sent: Thursday, December 26, 2013 4:00 AM
> To: owasp-csrfguard at lists.owasp.org
> Subject: Owasp-csrfguard Digest, Vol 40, Issue 1
>
> Send Owasp-csrfguard mailing list submissions to
>         owasp-csrfguard at lists.owasp.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
> or, via email, send a message with subject or body 'help' to
>         owasp-csrfguard-request at lists.owasp.org
>
> You can reach the person managing the list at
>         owasp-csrfguard-owner at lists.owasp.org
>
> When replying, please edit your Subject line so it is more specific than
> "Re: Contents of Owasp-csrfguard digest..."
>
>
> Today's Topics:
>
>    1. Query on CSRFGuard and usage in IBM Websphere 6.1 (Raghu Vedu)
>    2. Re: Query on CSRFGuard and usage in IBM Websphere 6.1
>       (Azzeddine Ramrami)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: 26 Dec 2013 04:58:27 -0000
> From: "Raghu Vedu" <vedeshwar777 at rediffmail.com>
> To: "owasp-csrfguard at lists.owasp.org"
>         <owasp-csrfguard at lists.owasp.org>
> Subject: [Owasp-csrfguard] Query on CSRFGuard and usage in IBM
>         Websphere 6.1
> Message-ID: <20131226045827.26979.qmail at f4mail-235-197.rediffmail.com>
> Content-Type: text/plain; charset="utf-8"
>
>
>
> Hi,
> &nbsp;
> I am trying to use the source from
> https://github.com/esheri3/OWASP-CSRFGuard and my need is to use the
> library in web application using IBM Websphere 6.1 server.
> &nbsp;
> I am seeing it is written for Maven, so please let me know if IBM
> websphere based project is also available.
> &nbsp;
> I am bit new to this, so please let me know the feasibility of using the
> CSRFguard in IBM server.
> &nbsp;
> Thanks
> Ragha
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131226/9a1ded72/attachment-0001.html
> >
>
> ------------------------------
>
> Message: 2
> Date: Thu, 26 Dec 2013 09:08:24 +0100
> From: Azzeddine Ramrami <azzeddine.ramrami at owasp.org>
> To: Raghu Vedu <vedeshwar777 at rediffmail.com>
> Cc: "owasp-csrfguard at lists.owasp.org"
>         <owasp-csrfguard at lists.owasp.org>
> Subject: Re: [Owasp-csrfguard] Query on CSRFGuard and usage in IBM
>         Websphere       6.1
> Message-ID:
>         <
> CAL4seLGp93CD61jEh8HTYxmBZiN3yqG871Jwf+xz9qO8G2Sz9A at mail.gmail.com>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Dear Sir,
> I ma the Leader of this project.
> You can use the CSRFGuard library with IBM WS as JavaEE filter.
>
> OWASP CSRFGuard utilizes request tokens to address Cross-Site Request
> Forgery.  CSRF is an attack where the victim is tricked into interacting
> with a website where they are already authenticated.
> CSRFGuard Provides code to generate unique request tokens to mitigate CSRF
> risks.
>
> You can integrate the source code using you own method (if you don't use
> Maven).
>
> The following link show how to integrate CSRFGuard with you application :
>
> https://www.owasp.org/index.php/CSRFGuard_3_Installation
>
> If you have any question contact me.
> Regards,
> Azzeddine RAMRAMI
>
>
>
> On Thu, Dec 26, 2013 at 5:58 AM, Raghu Vedu <vedeshwar777 at rediffmail.com
> >wrote:
>
> >
> >
> >  Hi,
> >
> >
> >
> > I am trying to use the source from
> > https://github.com/esheri3/OWASP-CSRFGuard<https://mail.cognizant.com/
> > owa/redir.aspx?C=gctwdUlqRE6Dy9yipRCHDBaTrkSO1dAITOgP44EdTmawQQ3YMLYMT
> > Ok3pVLoRqRK1yF4wY8ha-4.&URL=https%3a%2f%2fgithub.com%2fesheri3%2fOWASP
> > -CSRFGuard>and my need is to use the library in web application using
> > IBM Websphere
> > 6.1 server.
> >
> >
> >
> > I am seeing it is written for Maven, so please let me know if IBM
> > websphere based project is also available.
> >
> >
> >
> > I am bit new to this, so please let me know the feasibility of using
> > the CSRFguard in IBM server.
> >
> >
> >
> > Thanks
> >
> > Ragha
> >
> >
> > <http://sigads.rediff.com/RealMedia/ads/click_nx.ads/www.rediffmail.co
> > m/signatureline.htm at Middle?> Get your own *FREE* website, *FREE*
> > domain & *FREE* mobile app with Company email.
> > *Know More
> > >*<http://track.rediff.com/click?url=___http://businessemail.rediff.co
> > m/company-email-hosting-services?sc_cid=sign-1-10-13___&cmp=host&lnk=s
> > ign-1-10-13&nsrv1=host>
> > _______________________________________________
> > Owasp-csrfguard mailing list
> > Owasp-csrfguard at lists.owasp.org
> > https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
> >
> >
>
>
> --
> Azzeddine RAMRAMI
> +33 6 65 48 90 04.
> Enterprise Security Architect
> OWASP Leader (Morocco Chapter)
> Mozilla Security Projects Mentor
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20131226/a1922fc9/attachment-0001.html
> >
>
> ------------------------------
>
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>
>
> End of Owasp-csrfguard Digest, Vol 40, Issue 1
> **********************************************
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>



-- 
Azzeddine RAMRAMI
+33 6 65 48 90 04.
Enterprise Security Architect
OWASP Leader (Morocco Chapter)
Mozilla Security Projects Mentor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140108/5b2146c5/attachment.html>

From arvind.doraiswamy at gmail.com  Sat Jan 11 03:38:40 2014
From: arvind.doraiswamy at gmail.com (Arvind)
Date: Fri, 10 Jan 2014 22:38:40 -0500
Subject: [Owasp-csrfguard] CSRF Token not appearing in JSF form.
Message-ID: <CAFJfW2a98+utGUvPykowYzr4QAJnjW9hDXeYArtErjbHmWBhUA@mail.gmail.com>

Hi,
I'm running the Java EE7 SDK on Glassfish and using Firefox latest version
on Ubuntu to test my sample application.

I downloaded CSRFGuard 3.0.0 from Git, built it and copied the JAR into the
Glassfish lib directory. Read all the documentation, configured web.xml and
the csrfguard properties file as directed.

Following that I built and ran the csrfguard-test application which seems
to append the CSRF tokens as configured to forms.

Now I decided to use this in my own application. I edited my application's
web.xml and properties file (exactly similar to the csrfguard-test
application) and restarted Glassfish. For whatever weird reason, the token
does not get appended to a very simple test form which is a POST (receives
a 302) and then a GET. No token anywhere.

Now I'm not sure why this is the case. I know that my environment is okay
as the test app is running, I know the properties file is being read as I
can see the properties show up in the Eclipse console.

Is there anything else apart from copying the JAR over and configuring the
web.xml and properties files that I need to do? Do note I also created a
script folder and copied csrfguard.js into it.

One last point of interest for you guys may be this. I deployed the
csrfguard-test app to Glassfish. Then I deployed my own app. Restarted
Glassfish and accessed the test app. Strangely ..it started picking up the
configuration of MY application..and not it's own properties file from the
WEBINF folder. I had to undeploy my application, for the test app to work
properly. Just thought it might be relevant.

All pointers are appreciated. I must be goofing somewhere..but where..I do
not know :)

Thanks
Arvind
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140110/889a34f3/attachment.html>

From azzeddine.ramrami at owasp.org  Tue Jan 21 11:15:26 2014
From: azzeddine.ramrami at owasp.org (Azzeddine Ramrami)
Date: Tue, 21 Jan 2014 12:15:26 +0100
Subject: [Owasp-csrfguard] CSRFGuard Projet
Message-ID: <CAL4seLGz82jwKArhtiHD-exgrE2DJfieoYTsXYqoCgg_rA=eFA@mail.gmail.com>

Hi CSRFGuard users,
Hi Leaders,

Il will release a new version of CSRFGuard with the following:
- Security improvement (Thanks for  Ahamed Nafeez)
- New methods to improve the CSRF protection
- Documentation to setup CSRFGuard for each AS : Jboss 7, IBM WebSphere,
GlassFish.
- A road-map for 2014.

I need to know the following from you leaders and CSRFGuard's users;
- Who use CSRFGuard ?
- For witch AS (JBoss, IBM WebSphere, etc.)

Thanks for you reply and support.
Azzeddine RAMRAMI
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140121/a1ad8e87/attachment.html>

From rrajagounder3 at sapient.com  Mon Jan 27 07:40:20 2014
From: rrajagounder3 at sapient.com (RajaManickam RajaGounder 2)
Date: Mon, 27 Jan 2014 07:40:20 +0000
Subject: [Owasp-csrfguard] Handling Browser Refresh while using CSRF Guard
Message-ID: <CF0C0B35.C0A2%rrajagounder3@sapient.com>

Hi,
We have integrated CSRF Guard security framework in our project. The framework is configured to work on POST requests. It's working well and looking for some help on handling the browser refresh.

The problem description is below.

The user submits the form and there are server side validation errors. The user is forwarded back to the same page and error message is displayed at the form field. When the page is refreshed ,
the previous security token is sent to the server (although a new token is rendered on the page) and the request is identified as potential security threat. As a result, the user session is invalidated.

Could you please let me know the best practices around handling these scenarios?

Regards,
Raja



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140127/c96f7f91/attachment.html>

From azzeddine.ramrami at owasp.org  Mon Jan 27 09:53:13 2014
From: azzeddine.ramrami at owasp.org (Azzeddine Ramrami)
Date: Mon, 27 Jan 2014 10:53:13 +0100
Subject: [Owasp-csrfguard] Handling Browser Refresh while using CSRF
	Guard
In-Reply-To: <CF0C0B35.C0A2%rrajagounder3@sapient.com>
References: <CF0C0B35.C0A2%rrajagounder3@sapient.com>
Message-ID: <CAL4seLH6MvKKhoWwN3GMoe-X=Nn0q_W8=g9mOF2vdgSSkm-TZA@mail.gmail.com>

Hi Raja,
Could you give me the following:
- CSRFGuard version
- Witch application server you use (Jboss, WebSphere, etc.) ?
- A copy of a screenshot
- A log from you application server

Thanks.
Azzeddine



On Mon, Jan 27, 2014 at 8:40 AM, RajaManickam RajaGounder 2 <
rrajagounder3 at sapient.com> wrote:

>  Hi,
> We have integrated CSRF Guard security framework in our project. The
> framework is configured to work on POST requests. It's working well and
> looking for some help on handling the browser refresh.
>
>  The problem description is below.
>
>  The user submits the form and there are server side validation errors.
> The user is forwarded back to the same page and error message is displayed
> at the form field. When the page is refreshed ,
> the previous security token is sent to the server (although a new token is
> rendered on the page) and the request is identified as potential security
> threat. As a result, the user session is invalidated.
>
>  Could you please let me know the best practices around handling these
> scenarios?
>
>  Regards,
> Raja
>
>
>
>
> _______________________________________________
> Owasp-csrfguard mailing list
> Owasp-csrfguard at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-csrfguard
>
>


-- 
Azzeddine RAMRAMI
+33 6 65 48 90 04.
Enterprise Security Architect
OWASP Leader (Morocco Chapter)
Mozilla Security Projects Mentor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140127/d69a29d6/attachment.html>

From rrajagounder3 at sapient.com  Mon Jan 27 10:47:39 2014
From: rrajagounder3 at sapient.com (RajaManickam RajaGounder 2)
Date: Mon, 27 Jan 2014 10:47:39 +0000
Subject: [Owasp-csrfguard] Handling Browser Refresh while using CSRF
 Guard
In-Reply-To: <CAL4seLH6MvKKhoWwN3GMoe-X=Nn0q_W8=g9mOF2vdgSSkm-TZA@mail.gmail.com>
References: <CF0C0B35.C0A2%rrajagounder3@sapient.com>
	<CAL4seLH6MvKKhoWwN3GMoe-X=Nn0q_W8=g9mOF2vdgSSkm-TZA@mail.gmail.com>
Message-ID: <CF0C31A9.C0F8%rrajagounder3@sapient.com>

Hi Azzedine,
Thanks a lot for your response.

Please see my response below.


  1.  CSRFGuard version is 3.0
  2.  App server is Tomcat
  3.  Sorry, there is no screenshot that would help since it's very specific to the application
  4.  Please see the log file attached.

Regards,
Raja


From: Azzeddine Ramrami <azzeddine.ramrami at owasp.org<mailto:azzeddine.ramrami at owasp.org>>
Date: Monday, January 27, 2014 3:23 PM
To: Sapient <rrajagounder3 at sapient.com<mailto:rrajagounder3 at sapient.com>>
Cc: "owasp-csrfguard at lists.owasp.org<mailto:owasp-csrfguard at lists.owasp.org>" <owasp-csrfguard at lists.owasp.org<mailto:owasp-csrfguard at lists.owasp.org>>
Subject: Re: [Owasp-csrfguard] Handling Browser Refresh while using CSRF Guard

Hi Raja,
Could you give me the following:
- CSRFGuard version
- Witch application server you use (Jboss, WebSphere, etc.) ?
- A copy of a screenshot
- A log from you application server

Thanks.
Azzeddine



On Mon, Jan 27, 2014 at 8:40 AM, RajaManickam RajaGounder 2 <rrajagounder3 at sapient.com<mailto:rrajagounder3 at sapient.com>> wrote:
Hi,
We have integrated CSRF Guard security framework in our project. The framework is configured to work on POST requests. It's working well and looking for some help on handling the browser refresh.

The problem description is below.

The user submits the form and there are server side validation errors. The user is forwarded back to the same page and error message is displayed at the form field. When the page is refreshed ,
the previous security token is sent to the server (although a new token is rendered on the page) and the request is identified as potential security threat. As a result, the user session is invalidated.

Could you please let me know the best practices around handling these scenarios?

Regards,
Raja




_______________________________________________
Owasp-csrfguard mailing list
Owasp-csrfguard at lists.owasp.org<mailto:Owasp-csrfguard at lists.owasp.org>
https://lists.owasp.org/mailman/listinfo/owasp-csrfguard




--
Azzeddine RAMRAMI
+33 6 65 48 90 04.
Enterprise Security Architect
OWASP Leader (Morocco Chapter)
Mozilla Security Projects Mentor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140127/cd1d4bbc/attachment.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: error.txt
URL: <http://lists.owasp.org/pipermail/owasp-csrfguard/attachments/20140127/cd1d4bbc/attachment.txt>

