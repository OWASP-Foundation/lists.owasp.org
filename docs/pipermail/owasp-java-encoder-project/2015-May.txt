From georgevio at gmail.com  Sun May 17 08:13:02 2015
From: georgevio at gmail.com (George Violettas)
Date: Sun, 17 May 2015 11:13:02 +0300
Subject: [Owasp-java-encoder-project] (no subject)
Message-ID: <CAF+6yHLxOzc4WnGEOM6oH=Y-M1BAGCPFzg0BH++R-GTcnFeJDg@mail.gmail.com>

need an example of coding with the following:

   <FORM ACTION="index.jsp" METHOD="POST">
        Enter the word you have chosen HERE:
        <INPUT TYPE="TEXT" NAME="pass2check" value="<%=
Encode.forHtmlAttribute(UNTRUSTED) %>"><%//XSS prevention OWASP code %>
        <INPUT TYPE="SUBMIT" value="Submit">
    </FORM></span>

what to put for the UNTRUSTED ???

I tried "" but it does not prevent a very simple XSS

-- 

*????????? ???? / Best regards  / ?? ???? ???????*
*George Violettas, **Lecturer in ICT*
 ------------------------------



*Skype: georgevio Mobile(s) KSA:+966 (0) 568 502 518, GR: +30 6944265091
E-mail: george.violettas at ttcollege.edu.sa <http://edu.sa> Technical
Trainers College (TTC), http://www.ttcollege.org <http://www.ttcollege.org>
  *
*GPS coordinates: 24 43 00 .95 N , 46 46 57 .34 E*
* P.O.Box 2730, Riyadh 11461, Kingdom of Saudi Arabia*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-java-encoder-project/attachments/20150517/caa31ea9/attachment.html>

From jim.manico at owasp.org  Sun May 17 08:38:02 2015
From: jim.manico at owasp.org (Jim Manico)
Date: Sun, 17 May 2015 10:38:02 +0200
Subject: [Owasp-java-encoder-project] (no subject)
In-Reply-To: <CAF+6yHLxOzc4WnGEOM6oH=Y-M1BAGCPFzg0BH++R-GTcnFeJDg@mail.gmail.com>
References: <CAF+6yHLxOzc4WnGEOM6oH=Y-M1BAGCPFzg0BH++R-GTcnFeJDg@mail.gmail.com>
Message-ID: <0BB51DA1-48FB-4897-B92C-71CBC952036A@owasp.org>

Are you able to evade this context? Do you have a test case? 

--
Jim Manico
@Manicode
(808) 652-3805

> On May 17, 2015, at 10:13 AM, George Violettas <georgevio at gmail.com> wrote:
> 
> need an example of coding with the following:
> 
>    <FORM ACTION="index.jsp" METHOD="POST">
>         Enter the word you have chosen HERE:
>         <INPUT TYPE="TEXT" NAME="pass2check" value="<%= Encode.forHtmlAttribute(UNTRUSTED) %>"><%//XSS prevention OWASP code %>
>         <INPUT TYPE="SUBMIT" value="Submit">
>     </FORM></span> 
> 
> what to put for the UNTRUSTED ???
> 
> I tried "" but it does not prevent a very simple XSS
> 
> -- 
> 
> ????????? ???? / Best regards  / ?? ???? ??????? 
> George Violettas, Lecturer in ICT
> Skype: georgevio
> Mobile(s) KSA:+966 (0) 568 502 518, GR: +30 6944265091
> E-mail: george.violettas at ttcollege.edu.sa
> Technical Trainers College (TTC), http://www.ttcollege.org   
> GPS coordinates: 24 43 00 .95 N , 46 46 57 .34 E
> P.O.Box 2730, Riyadh 11461, Kingdom of Saudi Arabia
> _______________________________________________
> Owasp-java-encoder-project mailing list
> Owasp-java-encoder-project at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-java-encoder-project
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-java-encoder-project/attachments/20150517/254ce6c9/attachment.html>

From georgevio at gmail.com  Sun May 17 08:44:41 2015
From: georgevio at gmail.com (George Violettas)
Date: Sun, 17 May 2015 11:44:41 +0300
Subject: [Owasp-java-encoder-project] (no subject)
In-Reply-To: <0BB51DA1-48FB-4897-B92C-71CBC952036A@owasp.org>
References: <CAF+6yHLxOzc4WnGEOM6oH=Y-M1BAGCPFzg0BH++R-GTcnFeJDg@mail.gmail.com>
	<0BB51DA1-48FB-4897-B92C-71CBC952036A@owasp.org>
Message-ID: <CAF+6yHKhNPmzk6S7Y4T_Vfw3e=enFoU_+2YpmPLit4BeOTTRBQ@mail.gmail.com>

well,
the code is already inside a webpage working ok (localhost testing). I can
see the input form ok. When I input anything in the form and press submit,
I just print it back to the webpage where I can see the input printed ok.
But when I input <script>alert(2)</script> instead of being "sanitized" I
can see the popup window.. :-(

here is the code I am using to print back to the webpage

    <% String pass = request.getParameter("pass2check");
            if(pass!=null){
                out.println(pass);
            }
        %>

On Sun, May 17, 2015 at 11:38 AM, Jim Manico <jim.manico at owasp.org> wrote:

> Are you able to evade this context? Do you have a test case?
>
> --
> Jim Manico
> @Manicode
> (808) 652-3805
>
> On May 17, 2015, at 10:13 AM, George Violettas <georgevio at gmail.com>
> wrote:
>
> need an example of coding with the following:
>
>    <FORM ACTION="index.jsp" METHOD="POST">
>         Enter the word you have chosen HERE:
>         <INPUT TYPE="TEXT" NAME="pass2check" value="<%=
> Encode.forHtmlAttribute(UNTRUSTED) %>"><%//XSS prevention OWASP code %>
>         <INPUT TYPE="SUBMIT" value="Submit">
>     </FORM></span>
>
> what to put for the UNTRUSTED ???
>
> I tried "" but it does not prevent a very simple XSS
>
> --
>
> *????????? ???? / Best regards  / ?? ???? ???????*
> *George Violettas, **Lecturer in ICT*
>  ------------------------------
>
>
>
> *Skype: georgevio Mobile(s) KSA:+966 (0) 568 502 518, GR: +30 6944265091
> <%2B30%206944265091> E-mail: george.violettas at ttcollege.edu.sa
> <http://edu.sa> Technical Trainers College (TTC), http://www.ttcollege.org
> <http://www.ttcollege.org>   *
> *GPS coordinates: 24 43 00 .95 N , 46 46 57 .34 E*
> * P.O.Box 2730, Riyadh 11461, Kingdom of Saudi Arabia*
>
> _______________________________________________
> Owasp-java-encoder-project mailing list
> Owasp-java-encoder-project at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-java-encoder-project
>
>


-- 

*????????? ???? / Best regards  / ?? ???? ???????*
*George Violettas, **Lecturer in ICT*
 ------------------------------



*Skype: georgevio Mobile(s) KSA:+966 (0) 568 502 518, GR: +30 6944265091
E-mail: george.violettas at ttcollege.edu.sa <http://edu.sa> Technical
Trainers College (TTC), http://www.ttcollege.org <http://www.ttcollege.org>
  *
*GPS coordinates: 24 43 00 .95 N , 46 46 57 .34 E*
* P.O.Box 2730, Riyadh 11461, Kingdom of Saudi Arabia*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-java-encoder-project/attachments/20150517/e09f6653/attachment.html>

From jim.manico at owasp.org  Sun May 17 08:58:15 2015
From: jim.manico at owasp.org (Jim Manico)
Date: Sun, 17 May 2015 10:58:15 +0200
Subject: [Owasp-java-encoder-project] (no subject)
In-Reply-To: <CAF+6yHKhNPmzk6S7Y4T_Vfw3e=enFoU_+2YpmPLit4BeOTTRBQ@mail.gmail.com>
References: <CAF+6yHLxOzc4WnGEOM6oH=Y-M1BAGCPFzg0BH++R-GTcnFeJDg@mail.gmail.com>
	<0BB51DA1-48FB-4897-B92C-71CBC952036A@owasp.org>
	<CAF+6yHKhNPmzk6S7Y4T_Vfw3e=enFoU_+2YpmPLit4BeOTTRBQ@mail.gmail.com>
Message-ID: <219E7E7B-0B88-4626-99A6-8AC6D318DA12@owasp.org>

Well in your example you are not encoding so it should cause a popup. If you encode it will stop the popup. I'm confused at the problem...

--
Jim Manico
@Manicode
(808) 652-3805

> On May 17, 2015, at 10:44 AM, George Violettas <georgevio at gmail.com> wrote:
> 
> well,
> the code is already inside a webpage working ok (localhost testing). I can see the input form ok. When I input anything in the form and press submit, I just print it back to the webpage where I can see the input printed ok.
> But when I input <script>alert(2)</script> instead of being "sanitized" I can see the popup window.. :-(
> 
> here is the code I am using to print back to the webpage
> 
>     <% String pass = request.getParameter("pass2check");    
>             if(pass!=null){
>                 out.println(pass);
>             }
>         %>
> 
>> On Sun, May 17, 2015 at 11:38 AM, Jim Manico <jim.manico at owasp.org> wrote:
>> Are you able to evade this context? Do you have a test case? 
>> 
>> --
>> Jim Manico
>> @Manicode
>> (808) 652-3805
>> 
>>> On May 17, 2015, at 10:13 AM, George Violettas <georgevio at gmail.com> wrote:
>>> 
>>> need an example of coding with the following:
>>> 
>>>    <FORM ACTION="index.jsp" METHOD="POST">
>>>         Enter the word you have chosen HERE:
>>>         <INPUT TYPE="TEXT" NAME="pass2check" value="<%= Encode.forHtmlAttribute(UNTRUSTED) %>"><%//XSS prevention OWASP code %>
>>>         <INPUT TYPE="SUBMIT" value="Submit">
>>>     </FORM></span> 
>>> 
>>> what to put for the UNTRUSTED ???
>>> 
>>> I tried "" but it does not prevent a very simple XSS
>>> 
>>> -- 
>>> 
>>> ????????? ???? / Best regards  / ?? ???? ??????? 
>>> George Violettas, Lecturer in ICT
>>> Skype: georgevio
>>> Mobile(s) KSA:+966 (0) 568 502 518, GR: +30 6944265091
>>> E-mail: george.violettas at ttcollege.edu.sa
>>> Technical Trainers College (TTC), http://www.ttcollege.org   
>>> GPS coordinates: 24 43 00 .95 N , 46 46 57 .34 E
>>> P.O.Box 2730, Riyadh 11461, Kingdom of Saudi Arabia
>>> _______________________________________________
>>> Owasp-java-encoder-project mailing list
>>> Owasp-java-encoder-project at lists.owasp.org
>>> https://lists.owasp.org/mailman/listinfo/owasp-java-encoder-project
> 
> 
> 
> -- 
> 
> ????????? ???? / Best regards  / ?? ???? ??????? 
> George Violettas, Lecturer in ICT
> Skype: georgevio
> Mobile(s) KSA:+966 (0) 568 502 518, GR: +30 6944265091
> E-mail: george.violettas at ttcollege.edu.sa
> Technical Trainers College (TTC), http://www.ttcollege.org   
> GPS coordinates: 24 43 00 .95 N , 46 46 57 .34 E
> P.O.Box 2730, Riyadh 11461, Kingdom of Saudi Arabia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-java-encoder-project/attachments/20150517/b683b691/attachment-0001.html>

From georgevio at gmail.com  Sun May 17 09:06:00 2015
From: georgevio at gmail.com (George Violettas)
Date: Sun, 17 May 2015 12:06:00 +0300
Subject: [Owasp-java-encoder-project] (no subject)
In-Reply-To: <219E7E7B-0B88-4626-99A6-8AC6D318DA12@owasp.org>
References: <CAF+6yHLxOzc4WnGEOM6oH=Y-M1BAGCPFzg0BH++R-GTcnFeJDg@mail.gmail.com>
	<0BB51DA1-48FB-4897-B92C-71CBC952036A@owasp.org>
	<CAF+6yHKhNPmzk6S7Y4T_Vfw3e=enFoU_+2YpmPLit4BeOTTRBQ@mail.gmail.com>
	<219E7E7B-0B88-4626-99A6-8AC6D318DA12@owasp.org>
Message-ID: <CAF+6yHK+sof-VNwoTsJ0Vbp2kQNKrMxf9UpeuFNG9mvWsBttPQ@mail.gmail.com>

I don't know what to put at the questionmarks below (????).
Do  I need to create a variable?
I tried this: (two double quotes)
value= <%= Encode.forHtmlAttribute("")%
but then when I run the webpage and act as an intruder, I input inside the
input text box some XSS code (e.g. <script>alert(2)</script> ), it does not
sanitize it (I can see the popup alert window...

I hope I explained :-(


   <div id="explanation">
        <h3>
            <span>
            <FORM ACTION="index.jsp" METHOD="POST">
            Enter a word HERE:
            <INPUT TYPE="TEXT" NAME="check" value= <%=
Encode.forHtmlAttribute(??????)%> >  <%//XSS prevention OWASP code %>
            <INPUT TYPE="SUBMIT" value="Submit">
        </FORM></span>
        </h3>
        <p class="p1">

        <% String pass = request.getParameter("check");
            if(pass!=null){
                out.println(pass);
            }
        %>

On Sun, May 17, 2015 at 11:58 AM, Jim Manico <jim.manico at owasp.org> wrote:

> Well in your example you are not encoding so it should cause a popup. If
> you encode it will stop the popup. I'm confused at the problem...
>
> --
> Jim Manico
> @Manicode
> (808) 652-3805
>
> On May 17, 2015, at 10:44 AM, George Violettas <georgevio at gmail.com>
> wrote:
>
> well,
> the code is already inside a webpage working ok (localhost testing). I can
> see the input form ok. When I input anything in the form and press submit,
> I just print it back to the webpage where I can see the input printed ok.
> But when I input <script>alert(2)</script> instead of being "sanitized" I
> can see the popup window.. :-(
>
> here is the code I am using to print back to the webpage
>
>     <% String pass = request.getParameter("pass2check");
>             if(pass!=null){
>                 out.println(pass);
>             }
>         %>
>
> On Sun, May 17, 2015 at 11:38 AM, Jim Manico <jim.manico at owasp.org> wrote:
>
>> Are you able to evade this context? Do you have a test case?
>>
>> --
>> Jim Manico
>> @Manicode
>> (808) 652-3805
>>
>> On May 17, 2015, at 10:13 AM, George Violettas <georgevio at gmail.com>
>> wrote:
>>
>> need an example of coding with the following:
>>
>>    <FORM ACTION="index.jsp" METHOD="POST">
>>         Enter the word you have chosen HERE:
>>         <INPUT TYPE="TEXT" NAME="pass2check" value="<%=
>> Encode.forHtmlAttribute(UNTRUSTED) %>"><%//XSS prevention OWASP code %>
>>         <INPUT TYPE="SUBMIT" value="Submit">
>>     </FORM></span>
>>
>> what to put for the UNTRUSTED ???
>>
>> I tried "" but it does not prevent a very simple XSS
>>
>> --
>>
>> *????????? ???? / Best regards  / ?? ???? ???????*
>> *George Violettas, **Lecturer in ICT*
>>  ------------------------------
>>
>>
>>
>> *Skype: georgevio Mobile(s) KSA:+966 (0) 568 502 518, GR: +30 6944265091
>> <%2B30%206944265091> E-mail: george.violettas at ttcollege.edu.sa
>> <http://edu.sa> Technical Trainers College (TTC), http://www.ttcollege.org
>> <http://www.ttcollege.org>   *
>> *GPS coordinates: 24 43 00 .95 N , 46 46 57 .34 E*
>> * P.O.Box 2730, Riyadh 11461, Kingdom of Saudi Arabia*
>>
>> _______________________________________________
>> Owasp-java-encoder-project mailing list
>> Owasp-java-encoder-project at lists.owasp.org
>> https://lists.owasp.org/mailman/listinfo/owasp-java-encoder-project
>>
>>
>
>
> --
>
> *????????? ???? / Best regards  / ?? ???? ???????*
> *George Violettas, **Lecturer in ICT*
>  ------------------------------
>
>
>
> *Skype: georgevio Mobile(s) KSA:+966 (0) 568 502 518, GR: +30 6944265091
> <%2B30%206944265091> E-mail: george.violettas at ttcollege.edu.sa
> <http://edu.sa> Technical Trainers College (TTC), http://www.ttcollege.org
> <http://www.ttcollege.org>   *
> *GPS coordinates: 24 43 00 .95 N , 46 46 57 .34 E*
> * P.O.Box 2730, Riyadh 11461, Kingdom of Saudi Arabia*
>
>


-- 

*????????? ???? / Best regards  / ?? ???? ???????*
*George Violettas, **Lecturer in ICT*
 ------------------------------



*Skype: georgevio Mobile(s) KSA:+966 (0) 568 502 518, GR: +30 6944265091
E-mail: george.violettas at ttcollege.edu.sa <http://edu.sa> Technical
Trainers College (TTC), http://www.ttcollege.org <http://www.ttcollege.org>
  *
*GPS coordinates: 24 43 00 .95 N , 46 46 57 .34 E*
* P.O.Box 2730, Riyadh 11461, Kingdom of Saudi Arabia*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-java-encoder-project/attachments/20150517/74f69177/attachment.html>

From jim.manico at owasp.org  Sun May 17 10:00:27 2015
From: jim.manico at owasp.org (Jim Manico)
Date: Sun, 17 May 2015 12:00:27 +0200
Subject: [Owasp-java-encoder-project] (no subject)
In-Reply-To: <CAF+6yHK+sof-VNwoTsJ0Vbp2kQNKrMxf9UpeuFNG9mvWsBttPQ@mail.gmail.com>
References: <CAF+6yHLxOzc4WnGEOM6oH=Y-M1BAGCPFzg0BH++R-GTcnFeJDg@mail.gmail.com>
	<0BB51DA1-48FB-4897-B92C-71CBC952036A@owasp.org>
	<CAF+6yHKhNPmzk6S7Y4T_Vfw3e=enFoU_+2YpmPLit4BeOTTRBQ@mail.gmail.com>
	<219E7E7B-0B88-4626-99A6-8AC6D318DA12@owasp.org>
	<CAF+6yHK+sof-VNwoTsJ0Vbp2kQNKrMxf9UpeuFNG9mvWsBttPQ@mail.gmail.com>
Message-ID: <254C8EF8-E266-4A27-98E9-4B233E188341@owasp.org>

Try this or something close to it. Encoding must happen before you display any data.

        <% String data = request.getParameter("check");    
        %>

   <div id="explanation">
        <h3>
            <span> 
            <FORM ACTION="index.jsp" METHOD="POST">
            Enter a word HERE:
            <INPUT TYPE="TEXT" NAME="check" value= "<%= Encode.forHtmlAttribute(data)%>">
            <INPUT TYPE="SUBMIT" value="Submit">
        </FORM></span> 
        </h3>
        <p class="p1">
        
Does this help? Does this make sense?
--
Jim Manico
@Manicode
(808) 652-3805

> On May 17, 2015, at 11:06 AM, George Violettas <georgevio at gmail.com> wrote:
> 
>    <div id="explanation">
>         <h3>
>             <span> 
>             <FORM ACTION="index.jsp" METHOD="POST">
>             Enter a word HERE:
>             <INPUT TYPE="TEXT" NAME="check" value= <%= Encode.forHtmlAttribute(??????)%> >  <%//XSS prevention OWASP code %>
>             <INPUT TYPE="SUBMIT" value="Submit">
>         </FORM></span> 
>         </h3>
>         <p class="p1">
>         
>         <% String pass = request.getParameter("check");    
>             if(pass!=null){
>                 out.println(pass);
>             }
>         %>

From georgevio at gmail.com  Sun May 17 13:24:55 2015
From: georgevio at gmail.com (George Violettas)
Date: Sun, 17 May 2015 16:24:55 +0300
Subject: [Owasp-java-encoder-project] (no subject)
In-Reply-To: <254C8EF8-E266-4A27-98E9-4B233E188341@owasp.org>
References: <CAF+6yHLxOzc4WnGEOM6oH=Y-M1BAGCPFzg0BH++R-GTcnFeJDg@mail.gmail.com>
	<0BB51DA1-48FB-4897-B92C-71CBC952036A@owasp.org>
	<CAF+6yHKhNPmzk6S7Y4T_Vfw3e=enFoU_+2YpmPLit4BeOTTRBQ@mail.gmail.com>
	<219E7E7B-0B88-4626-99A6-8AC6D318DA12@owasp.org>
	<CAF+6yHK+sof-VNwoTsJ0Vbp2kQNKrMxf9UpeuFNG9mvWsBttPQ@mail.gmail.com>
	<254C8EF8-E266-4A27-98E9-4B233E188341@owasp.org>
Message-ID: <CAF+6yHLX7batZGTRwiJG65gNtkM9JZpQGiP_4pdfZOPYFbZ9TQ@mail.gmail.com>

it makes sense, yes... I did it like the following code.
the problem is that IT IS STILL VULNERABLE TO XSS.
i.e. when I insert into the input form the code
<script>alert(2)</script>
it still pops up the alert window. So this means that the input is NOT
sanitized, correct?


            <% String data = request.getParameter("check");%>
            <FORM ACTION="index.jsp" METHOD="POST">
            Enter the word you have chosen HERE:
            <INPUT TYPE="TEXT" NAME="check" value= <%=
Encode.forHtmlAttribute(data)%> >
            <INPUT TYPE="SUBMIT" value="Submit">
        </FORM></span>

        <% String pass = data;
            if(pass!=null){
                out.println(pass);
            }
        %>



On Sun, May 17, 2015 at 1:00 PM, Jim Manico <jim.manico at owasp.org> wrote:

> Try this or something close to it. Encoding must happen before you display
> any data.
>
>         <% String data = request.getParameter("check");
>         %>
>
>    <div id="explanation">
>         <h3>
>             <span>
>             <FORM ACTION="index.jsp" METHOD="POST">
>             Enter a word HERE:
>             <INPUT TYPE="TEXT" NAME="check" value= "<%=
> Encode.forHtmlAttribute(data)%>">
>             <INPUT TYPE="SUBMIT" value="Submit">
>         </FORM></span>
>         </h3>
>         <p class="p1">
>
> Does this help? Does this make sense?
> --
> Jim Manico
> @Manicode
> (808) 652-3805
>
> > On May 17, 2015, at 11:06 AM, George Violettas <georgevio at gmail.com>
> wrote:
> >
> >    <div id="explanation">
> >         <h3>
> >             <span>
> >             <FORM ACTION="index.jsp" METHOD="POST">
> >             Enter a word HERE:
> >             <INPUT TYPE="TEXT" NAME="check" value= <%=
> Encode.forHtmlAttribute(??????)%> >  <%//XSS prevention OWASP code %>
> >             <INPUT TYPE="SUBMIT" value="Submit">
> >         </FORM></span>
> >         </h3>
> >         <p class="p1">
> >
> >         <% String pass = request.getParameter("check");
> >             if(pass!=null){
> >                 out.println(pass);
> >             }
> >         %>
>



-- 

*????????? ???? / Best regards  / ?? ???? ???????*
*George Violettas, **Lecturer in ICT*
 ------------------------------



*Skype: georgevio Mobile(s) KSA:+966 (0) 568 502 518, GR: +30 6944265091
E-mail: george.violettas at ttcollege.edu.sa <http://edu.sa> Technical
Trainers College (TTC), http://www.ttcollege.org <http://www.ttcollege.org>
  *
*GPS coordinates: 24 43 00 .95 N , 46 46 57 .34 E*
* P.O.Box 2730, Riyadh 11461, Kingdom of Saudi Arabia*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-java-encoder-project/attachments/20150517/cfbd866f/attachment.html>

From jim.manico at owasp.org  Sun May 17 13:54:42 2015
From: jim.manico at owasp.org (Jim Manico)
Date: Sun, 17 May 2015 15:54:42 +0200
Subject: [Owasp-java-encoder-project] (no subject)
In-Reply-To: <CAF+6yHLX7batZGTRwiJG65gNtkM9JZpQGiP_4pdfZOPYFbZ9TQ@mail.gmail.com>
References: <CAF+6yHLxOzc4WnGEOM6oH=Y-M1BAGCPFzg0BH++R-GTcnFeJDg@mail.gmail.com>
	<0BB51DA1-48FB-4897-B92C-71CBC952036A@owasp.org>
	<CAF+6yHKhNPmzk6S7Y4T_Vfw3e=enFoU_+2YpmPLit4BeOTTRBQ@mail.gmail.com>
	<219E7E7B-0B88-4626-99A6-8AC6D318DA12@owasp.org>
	<CAF+6yHK+sof-VNwoTsJ0Vbp2kQNKrMxf9UpeuFNG9mvWsBttPQ@mail.gmail.com>
	<254C8EF8-E266-4A27-98E9-4B233E188341@owasp.org>
	<CAF+6yHLX7batZGTRwiJG65gNtkM9JZpQGiP_4pdfZOPYFbZ9TQ@mail.gmail.com>
Message-ID: <6FF06439-5563-44F5-B8AF-C111F2451621@owasp.org>

In your example you didn't encode data properly.

You need to change this:

        <% String pass = data;     
            if(pass!=null){
                out.println(pass);
            }
        %>

To this or similar:

        <% String pass = data;     
            if(pass!=null){
                out.println(Encode.forHtml(pass));
            }
        %>

--
Jim Manico
@Manicode
(808) 652-3805

> On May 17, 2015, at 3:24 PM, George Violettas <georgevio at gmail.com> wrote:
> 
> 
>         <% String pass = data;     
>             if(pass!=null){
>                 out.println(pass);
>             }
>         %>

From georgevio at gmail.com  Mon May 18 06:36:11 2015
From: georgevio at gmail.com (George Violettas)
Date: Mon, 18 May 2015 09:36:11 +0300
Subject: [Owasp-java-encoder-project] (no subject)
In-Reply-To: <6FF06439-5563-44F5-B8AF-C111F2451621@owasp.org>
References: <CAF+6yHLxOzc4WnGEOM6oH=Y-M1BAGCPFzg0BH++R-GTcnFeJDg@mail.gmail.com>
	<0BB51DA1-48FB-4897-B92C-71CBC952036A@owasp.org>
	<CAF+6yHKhNPmzk6S7Y4T_Vfw3e=enFoU_+2YpmPLit4BeOTTRBQ@mail.gmail.com>
	<219E7E7B-0B88-4626-99A6-8AC6D318DA12@owasp.org>
	<CAF+6yHK+sof-VNwoTsJ0Vbp2kQNKrMxf9UpeuFNG9mvWsBttPQ@mail.gmail.com>
	<254C8EF8-E266-4A27-98E9-4B233E188341@owasp.org>
	<CAF+6yHLX7batZGTRwiJG65gNtkM9JZpQGiP_4pdfZOPYFbZ9TQ@mail.gmail.com>
	<6FF06439-5563-44F5-B8AF-C111F2451621@owasp.org>
Message-ID: <CAF+6yH+LJSu5hW=jx3bFVzgSjjTFBFi2fKxaCgsTX8TS9Vnh3Q@mail.gmail.com>

I DID what you said, and YES, I don't see the popup window any more when I
insert in the text box the following:
<script>alert(2)</script>

BUT, the EXACT code is passed to the variable "pass", since I can see it
printing on the web page (exactly the same), obviously because of this:
out.println(Encode.forHtml(pass));

Now, my question is this:
If the variable "pass" keeps the inserted value/malicious code, isn't this
code going to be "transferred inside" the program? So if the attacker
inserts an SQL injection code, isn't this code going to be "sent" and
potentially executed into the database?

Thank you so much for your help....

prints the

On Sun, May 17, 2015 at 4:54 PM, Jim Manico <jim.manico at owasp.org> wrote:

> In your example you didn't encode data properly.
>
> You need to change this:
>
>         <% String pass = data;
>             if(pass!=null){
>                 out.println(pass);
>             }
>         %>
>
> To this or similar:
>
>         <% String pass = data;
>             if(pass!=null){
>                 out.println(Encode.forHtml(pass));
>             }
>         %>
>
> --
> Jim Manico
> @Manicode
> (808) 652-3805
>
> > On May 17, 2015, at 3:24 PM, George Violettas <georgevio at gmail.com>
> wrote:
> >
> >
> >         <% String pass = data;
> >             if(pass!=null){
> >                 out.println(pass);
> >             }
> >         %>
>



-- 

*????????? ???? / Best regards  / ?? ???? ???????*
*George Violettas, **Lecturer in ICT*
 ------------------------------



*Skype: georgevio Mobile(s) KSA:+966 (0) 568 502 518, GR: +30 6944265091
E-mail: george.violettas at ttcollege.edu.sa <http://edu.sa> Technical
Trainers College (TTC), http://www.ttcollege.org <http://www.ttcollege.org>
  *
*GPS coordinates: 24 43 00 .95 N , 46 46 57 .34 E*
* P.O.Box 2730, Riyadh 11461, Kingdom of Saudi Arabia*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-java-encoder-project/attachments/20150518/a010be0b/attachment.html>

From jim.manico at owasp.org  Mon May 18 06:47:04 2015
From: jim.manico at owasp.org (Jim Manico)
Date: Mon, 18 May 2015 08:47:04 +0200
Subject: [Owasp-java-encoder-project] (no subject)
In-Reply-To: <CAF+6yH+LJSu5hW=jx3bFVzgSjjTFBFi2fKxaCgsTX8TS9Vnh3Q@mail.gmail.com>
References: <CAF+6yHLxOzc4WnGEOM6oH=Y-M1BAGCPFzg0BH++R-GTcnFeJDg@mail.gmail.com>
	<0BB51DA1-48FB-4897-B92C-71CBC952036A@owasp.org>
	<CAF+6yHKhNPmzk6S7Y4T_Vfw3e=enFoU_+2YpmPLit4BeOTTRBQ@mail.gmail.com>
	<219E7E7B-0B88-4626-99A6-8AC6D318DA12@owasp.org>
	<CAF+6yHK+sof-VNwoTsJ0Vbp2kQNKrMxf9UpeuFNG9mvWsBttPQ@mail.gmail.com>
	<254C8EF8-E266-4A27-98E9-4B233E188341@owasp.org>
	<CAF+6yHLX7batZGTRwiJG65gNtkM9JZpQGiP_4pdfZOPYFbZ9TQ@mail.gmail.com>
	<6FF06439-5563-44F5-B8AF-C111F2451621@owasp.org>
	<CAF+6yH+LJSu5hW=jx3bFVzgSjjTFBFi2fKxaCgsTX8TS9Vnh3Q@mail.gmail.com>
Message-ID: <A801C251-57B8-4076-B583-7E79F4044FA0@owasp.org>

Encoding like Encode.forHtml(data) does NOT modify the data variable. You need to do something like this to actually modify it.

data = Encode.forHtml(data);

This is not an issue with the encoder, it's just basic Java semantics.

With respect,
--
Jim Manico
@Manicode
(808) 652-3805

> On May 18, 2015, at 8:36 AM, George Violettas <georgevio at gmail.com> wrote:
> 
> I DID what you said, and YES, I don't see the popup window any more when I insert in the text box the following:
> <script>alert(2)</script> 
> 
> BUT, the EXACT code is passed to the variable "pass", since I can see it printing on the web page (exactly the same), obviously because of this:
> out.println(Encode.forHtml(pass));
> 
> Now, my question is this:
> If the variable "pass" keeps the inserted value/malicious code, isn't this code going to be "transferred inside" the program? So if the attacker inserts an SQL injection code, isn't this code going to be "sent" and potentially executed into the database?
> 
> Thank you so much for your help....
> 
> prints the 
> 
>> On Sun, May 17, 2015 at 4:54 PM, Jim Manico <jim.manico at owasp.org> wrote:
>> In your example you didn't encode data properly.
>> 
>> You need to change this:
>> 
>>         <% String pass = data;
>>             if(pass!=null){
>>                 out.println(pass);
>>             }
>>         %>
>> 
>> To this or similar:
>> 
>>         <% String pass = data;
>>             if(pass!=null){
>>                 out.println(Encode.forHtml(pass));
>>             }
>>         %>
>> 
>> --
>> Jim Manico
>> @Manicode
>> (808) 652-3805
>> 
>> > On May 17, 2015, at 3:24 PM, George Violettas <georgevio at gmail.com> wrote:
>> >
>> >
>> >         <% String pass = data;
>> >             if(pass!=null){
>> >                 out.println(pass);
>> >             }
>> >         %>
> 
> 
> 
> -- 
> 
> ????????? ???? / Best regards  / ?? ???? ??????? 
> George Violettas, Lecturer in ICT
> Skype: georgevio
> Mobile(s) KSA:+966 (0) 568 502 518, GR: +30 6944265091
> E-mail: george.violettas at ttcollege.edu.sa
> Technical Trainers College (TTC), http://www.ttcollege.org   
> GPS coordinates: 24 43 00 .95 N , 46 46 57 .34 E
> P.O.Box 2730, Riyadh 11461, Kingdom of Saudi Arabia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-java-encoder-project/attachments/20150518/21e91036/attachment-0001.html>

From jim.manico at owasp.org  Mon May 18 06:48:11 2015
From: jim.manico at owasp.org (Jim Manico)
Date: Mon, 18 May 2015 08:48:11 +0200
Subject: [Owasp-java-encoder-project] (no subject)
In-Reply-To: <CAF+6yH+LJSu5hW=jx3bFVzgSjjTFBFi2fKxaCgsTX8TS9Vnh3Q@mail.gmail.com>
References: <CAF+6yHLxOzc4WnGEOM6oH=Y-M1BAGCPFzg0BH++R-GTcnFeJDg@mail.gmail.com>
	<0BB51DA1-48FB-4897-B92C-71CBC952036A@owasp.org>
	<CAF+6yHKhNPmzk6S7Y4T_Vfw3e=enFoU_+2YpmPLit4BeOTTRBQ@mail.gmail.com>
	<219E7E7B-0B88-4626-99A6-8AC6D318DA12@owasp.org>
	<CAF+6yHK+sof-VNwoTsJ0Vbp2kQNKrMxf9UpeuFNG9mvWsBttPQ@mail.gmail.com>
	<254C8EF8-E266-4A27-98E9-4B233E188341@owasp.org>
	<CAF+6yHLX7batZGTRwiJG65gNtkM9JZpQGiP_4pdfZOPYFbZ9TQ@mail.gmail.com>
	<6FF06439-5563-44F5-B8AF-C111F2451621@owasp.org>
	<CAF+6yH+LJSu5hW=jx3bFVzgSjjTFBFi2fKxaCgsTX8TS9Vnh3Q@mail.gmail.com>
Message-ID: <D8EEB720-69A6-4678-B4D3-CC24A9CA1048@owasp.org>

Also this class is NOT meant to stop SQL Injection. It's encoding specific to stop XSS. For SQLi protection use Parameterized Queries! 

--
Jim Manico
@Manicode
(808) 652-3805

> On May 18, 2015, at 8:36 AM, George Violettas <georgevio at gmail.com> wrote:
> 
> I DID what you said, and YES, I don't see the popup window any more when I insert in the text box the following:
> <script>alert(2)</script> 
> 
> BUT, the EXACT code is passed to the variable "pass", since I can see it printing on the web page (exactly the same), obviously because of this:
> out.println(Encode.forHtml(pass));
> 
> Now, my question is this:
> If the variable "pass" keeps the inserted value/malicious code, isn't this code going to be "transferred inside" the program? So if the attacker inserts an SQL injection code, isn't this code going to be "sent" and potentially executed into the database?
> 
> Thank you so much for your help....
> 
> prints the 
> 
>> On Sun, May 17, 2015 at 4:54 PM, Jim Manico <jim.manico at owasp.org> wrote:
>> In your example you didn't encode data properly.
>> 
>> You need to change this:
>> 
>>         <% String pass = data;
>>             if(pass!=null){
>>                 out.println(pass);
>>             }
>>         %>
>> 
>> To this or similar:
>> 
>>         <% String pass = data;
>>             if(pass!=null){
>>                 out.println(Encode.forHtml(pass));
>>             }
>>         %>
>> 
>> --
>> Jim Manico
>> @Manicode
>> (808) 652-3805
>> 
>> > On May 17, 2015, at 3:24 PM, George Violettas <georgevio at gmail.com> wrote:
>> >
>> >
>> >         <% String pass = data;
>> >             if(pass!=null){
>> >                 out.println(pass);
>> >             }
>> >         %>
> 
> 
> 
> -- 
> 
> ????????? ???? / Best regards  / ?? ???? ??????? 
> George Violettas, Lecturer in ICT
> Skype: georgevio
> Mobile(s) KSA:+966 (0) 568 502 518, GR: +30 6944265091
> E-mail: george.violettas at ttcollege.edu.sa
> Technical Trainers College (TTC), http://www.ttcollege.org   
> GPS coordinates: 24 43 00 .95 N , 46 46 57 .34 E
> P.O.Box 2730, Riyadh 11461, Kingdom of Saudi Arabia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.owasp.org/pipermail/owasp-java-encoder-project/attachments/20150518/a562e121/attachment.html>

