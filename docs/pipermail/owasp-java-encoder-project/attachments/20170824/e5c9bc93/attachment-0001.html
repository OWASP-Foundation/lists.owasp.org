<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;Thu,&nbsp;Aug&nbsp;24,&nbsp;2017&nbsp;at&nbsp;7:24&nbsp;AM&nbsp;Benoit&nbsp;Plessis&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:b.plessis@doyousoft.com&quot;&gt;b.plessis@doyousoft.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;m_-3431374754782097462moz-cite-prefix&quot;&gt;Le&nbsp;24/08/2017&nbsp;à&nbsp;15:53,&nbsp;Matt&nbsp;Seil&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;écrit :&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;I&nbsp;do&nbsp;work&nbsp;on&nbsp;ESAPI&#39;s&nbsp;encoder&nbsp;and&nbsp;decoder.  &lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;I&nbsp;can&nbsp;tell&nbsp;you&nbsp;this&nbsp;for&nbsp;sure,&nbsp;2.0.1&nbsp;is&nbsp;extremely<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outdated.  &lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;And&nbsp;after&nbsp;having&nbsp;worked&nbsp;on&nbsp;ESAPI&#39;s&nbsp;encoder,&nbsp;I&nbsp;know&nbsp;for&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;dealing&nbsp;with&nbsp;HTML&nbsp;entities,&nbsp;we&nbsp;typically&nbsp;encode<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;human-readable&nbsp;escapes&nbsp;when&nbsp;available,&nbsp;and&nbsp;use&nbsp;hex&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everything&nbsp;else. &nbsp;I&nbsp;say&nbsp;typically&nbsp;because&nbsp;this&nbsp;is&nbsp;what&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;current&nbsp;encoder&nbsp;produces&nbsp;for&nbsp;your&nbsp;script&nbsp;tag&nbsp;input:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(33,33,33);font-size:13px&quot;&gt;&lt;script&gt;&lt;/script&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&amp;&lt;&gt;&#39;/&quot;!$&lt;/span&gt; &lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt; &lt;br&gt;<br>
&amp;lt;script&amp;gt;&amp;lt;&amp;#x2f;script&amp;gt;&amp;#x20;&amp;#x7c;&amp;#x20;&amp;amp;&amp;lt;&amp;gt;&amp;#x27;&amp;#x2f;&amp;quot;&amp;#x21;&amp;#x24;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;Hex&nbsp;only&nbsp;has&nbsp;an&nbsp;advantage&nbsp;when&nbsp;dealing&nbsp;with&nbsp;non-BMP&nbsp;code<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;points&nbsp;as&nbsp;well&nbsp;as&nbsp;any&nbsp;character&nbsp;set&nbsp;larger&nbsp;than&nbsp;Latin&nbsp;1.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Browsers&nbsp;render&nbsp;either&nbsp;human&nbsp;readable&nbsp;and&nbsp;hex&nbsp;escapes&nbsp;equally<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;well. &nbsp; &lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;What&nbsp;makes&nbsp;you&nbsp;think&nbsp;that&nbsp;&amp;lt;&nbsp;is&nbsp;weaker&nbsp;than &lt;span&gt;&amp;#60;&lt;/span&gt; ?&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;do&nbsp;not&nbsp;think&nbsp;that,&nbsp;i&nbsp;was&nbsp;puzzled&nbsp;by&nbsp;the&nbsp;fact&nbsp;that&nbsp;the&nbsp;XSS&nbsp;Cheat<br>
&nbsp;&nbsp;&nbsp;&nbsp;sheet&nbsp;strongly&nbsp;recommended&nbsp;a&nbsp;full&nbsp;escaping&nbsp;of&nbsp;all&nbsp;non-alphanum&nbsp;chars<br>
&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;that&nbsp;the&nbsp;java&nbsp;encoder&nbsp;lib&nbsp;wasn&#39;t&nbsp;doing&nbsp;that.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(37,37,37);font-family:sans-serif;font-size:14px;font-style:normal;font-variant-ligatures:normal;font-variant-caps:normal;font-weight:normal;letter-spacing:normal;text-align:left;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial;display:inline!important;float:none&quot;&gt;Except&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alphanumeric&nbsp;characters,&nbsp;escape&nbsp;all&nbsp;characters&nbsp;less&nbsp;than&nbsp;256<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;\xHH&nbsp;format&nbsp;to&nbsp;prevent&nbsp;switching&nbsp;out&nbsp;of&nbsp;the&nbsp;data&nbsp;value<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;the&nbsp;script&nbsp;context&nbsp;or&nbsp;into&nbsp;another&nbsp;attribute.&nbsp;DO&nbsp;NOT&nbsp;use<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;escaping&nbsp;shortcuts&nbsp;like&nbsp;\&quot;&nbsp;because&nbsp;the&nbsp;quote&nbsp;character&nbsp;may<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;matched&nbsp;by&nbsp;the&nbsp;HTML&nbsp;attribute&nbsp;parser&nbsp;which&nbsp;runs&nbsp;first.&nbsp;These<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;escaping&nbsp;shortcuts&nbsp;are&nbsp;also&nbsp;susceptible&nbsp;to&nbsp;&quot;escape-the-escape&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attacks&nbsp;where&nbsp;the&nbsp;attacker&nbsp;sends&nbsp;\&quot;&nbsp;and&nbsp;the&nbsp;vulnerable&nbsp;code<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;turns&nbsp;that&nbsp;into&nbsp;\\&quot;&nbsp;which&nbsp;enables&nbsp;the&nbsp;quote.&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;EncodeForJavascript:&nbsp;&lt;script&gt;&lt;\/script&gt;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;\x26&lt;&gt;\x27\/\x22!$&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;EncodeForJavascriptBlock:&nbsp;&lt;script&gt;&lt;\/script&gt;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;\x26&lt;&gt;\&#39;\/\&quot;!$&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;EncodeForJavascriptAttribute:&nbsp;&lt;script&gt;&lt;/script&gt;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;\x26&lt;&gt;\x27/\x22!$&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Actually,&nbsp;I&nbsp;share&nbsp;your&nbsp;concern. &nbsp;ESAPI&#39;s&nbsp;output&nbsp;for&lt;/div&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(33,33,33);font-size:13px&quot;&gt;&lt;script&gt;&lt;/script&gt;&nbsp;|&nbsp;&amp;&lt;&gt;&#39;/&quot;!$&lt;/span&gt; &lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;in&nbsp;the&nbsp;specific&nbsp;JavaScript&nbsp;context&nbsp;is&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; \x3Cscript\x3E\x3C\x2Fscript\x3E\x20\x7C\x20\x26\x3C\x3E\x27\x2F\x22\x21\x24\x20&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;chars&nbsp;&quot;&gt;,&nbsp;&lt;&quot;&nbsp;while&nbsp;more&nbsp;lethal&nbsp;in&nbsp;the&nbsp;HTML&nbsp;context&nbsp;coudl&nbsp;still&nbsp;interfere&nbsp;with&nbsp;javaScript&nbsp;logic.  &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Jim,&nbsp;any&nbsp;idea&nbsp;as&nbsp;to&nbsp;why&nbsp;&quot;&lt;&quot;&nbsp;and&nbsp;&quot;&gt;&quot;&nbsp;aren&#39;t&nbsp;getting&nbsp;encoded?&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;&lt;/div&gt;&lt;div&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Also&nbsp;i&nbsp;did&nbsp;miss&nbsp;the&nbsp;fact&nbsp;that&nbsp;the&nbsp;encoder&nbsp;did&nbsp;at&nbsp;least&nbsp;escape&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;/&quot;&nbsp;from&nbsp;the&nbsp;closing&nbsp;tag&nbsp;(not&nbsp;my&nbsp;brightest&nbsp;day),&nbsp;it&#39;s&nbsp;not&nbsp;as&nbsp;bad&nbsp;as<br>
&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;initialy&nbsp;saw&nbsp;it.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;recommendation&nbsp;when&nbsp;debugging&nbsp;escaped&nbsp;characters&nbsp;is&nbsp;to&nbsp;drop&nbsp;them&nbsp;into&nbsp;an&nbsp;html&nbsp;file&nbsp;and&nbsp;see&nbsp;what&nbsp;gets&nbsp;rendered.  &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
