<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-cincinnati] Attack Recovery
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-cincinnati%40lists.owasp.org?Subject=%5BOwasp-cincinnati%5D%20Attack%20Recovery&In-Reply-To=4A42E6D6.30106%40cinci.rr.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000172.html">
   <LINK REL="Next"  HREF="000174.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-cincinnati] Attack Recovery</H1>
    <B>John Askew</B> 
    <A HREF="mailto:owasp-cincinnati%40lists.owasp.org?Subject=%5BOwasp-cincinnati%5D%20Attack%20Recovery&In-Reply-To=4A42E6D6.30106%40cinci.rr.com"
       TITLE="[Owasp-cincinnati] Attack Recovery">jaskew at sdgsecure.com
       </A><BR>
    <I>Wed Jun 24 23:48:36 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000172.html">[Owasp-cincinnati] Attack Recovery
</A></li>
        <LI>Next message: <A HREF="000174.html">[Owasp-cincinnati] Session Destroy References
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#173">[ date ]</a>
              <a href="thread.html#173">[ thread ]</a>
              <a href="subject.html#173">[ subject ]</a>
              <a href="author.html#173">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Ed,

Terry and Marco already gave some good suggestions, so I'll just add a few things. I would agree that a flat IP blacklist is probably not the best option here, although the best solution will depend on the details of the situation, and will probably involve multiple layers. At the network level, a combination of traditional IPS blacklisting and reputation-based filtering might be able to filter out a significant bit of the noise, depending on the client's current network hardware and where the traffic is coming from. If these hits are adversely affecting an application's performance or availability, then you might consider a caching reverse proxy to offload some of the weight from the application server. If web application vulnerabilities are a concern, then a WAF like mod_security with a well-constructed whitelist (see mod_profiler) may be able to provide some assurance.

Also, if you are interested in assistance, feel free to contact me. I represent a local company that specializes in network and application security services for southern Ohio and KY.

Thanks,

John Askew
Senior Security Analyst
Systems Design Group, Inc.
________________________________________
From: <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cincinnati">owasp-cincinnati-bounces at lists.owasp.org</A> [<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cincinnati">owasp-cincinnati-bounces at lists.owasp.org</A>] On Behalf Of Terry Miesse [<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cincinnati">tmiesse at cinci.rr.com</A>]
Sent: Wednesday, June 24, 2009 10:54 PM
To: Marco M. Morana
Cc: OWASP Cincinnati
Subject: Re: [Owasp-cincinnati] Attack Recovery

Ed,
Longtime lurker, first-time poster.  Howdy.
:<i>
</I>1) IMO, No.  The source IP's could be spoofed (depending on the nature
of the actual attack) and you'd find yourself blocking IP's who may be
legitimate customers... when you eventually have customers, anyways.
Blocking IP's is a very coarse and unreliable defense.

2) Silly question, but... Is it causing a DoS condition for you, or just
an annoyance?  You didn't really say anything about what sort of
capacity they have.  3M hits per day on my little P3 web server would be
an issue.  3M hits/day on a 4-way Opteron fed by a pair of DS3's...
feh...  Still, 3M hits is a lot - you've ended up on somebody's target
list for some reason.  You may want to ask your hosting provider if
they're getting similar reports from other customers (you may have an IP
address near a machine that was compromised, so they're looking for
machines &quot;nearby&quot; to also target).  You may also want to make sure that
none of those attacks have succeeded in finding any holes.  If they
don't have customers yet, hopefully they do have a real app up and not
just a &quot;You've installed Apache&quot; page.  Lots of questions, but it would
be good to better understand the problem before delving into solutions.

3) Of course.  Unfortunately I don't know anybody locally that
specializes in such matters - hopefully somebody on the list does.  If
you'd settle for somebody with a day job to bat ideas around with...
well, here's my email address. :-)

Also, to Marco's suggestions... Are you seeing attacks at the network
layer as well?  How much control do you have over the infrastructure -
is this a virtual server at a hosting provider somewhere, or do you
control everything from the ISP connection back?  More control gives you
more options.

Terry

Marco M. Morana wrote:
&gt;<i> Ed
</I>&gt;<i>
</I>&gt;<i> can you explain better what you mean for:  &quot;they are all attacks usual
</I>&gt;<i> smattering of language and framework probe urls&quot; ..
</I>&gt;<i>
</I>&gt;<i> is this a bandwitdth attack like iFrame DDoS? I would think IP
</I>&gt;<i> filtering of that amount of IPs is possible but is not the only
</I>&gt;<i> defense of DDoS (*), you need to apply defense in depth at both
</I>&gt;<i> network and application layer. At the network layer you can routing
</I>&gt;<i> traffic to other servers, use DPI/packet dropping, set routers
</I>&gt;<i> defenses like Ciso IOS, set Intrusion Prevention Systems defenses
</I>&gt;<i> etc.  On the application it depends on what you can do with the web
</I>&gt;<i> pages on the site, can you overload the web server with mutliple
</I>&gt;<i> requests to visit web pages, do these have large images etc...
</I>&gt;<i>
</I>&gt;<i> Hope you have some DDoS security expert reply to this post, I am not,
</I>&gt;<i> sorry...hope this is usueful
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i>
</I>&gt;<i> Marco
</I>&gt;<i>
</I>&gt;<i> (*)
</I>&gt;<i> <A HREF="http://en.wikipedia.org/wiki/Denial-of-service_attack">http://en.wikipedia.org/wiki/Denial-of-service_attack</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     ----- Original Message -----
</I>&gt;<i>     *From:* Edward Sumerfield &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cincinnati">esumerfd at bitbashers.org</A>&gt;
</I>&gt;<i>     *To:* OWASP Cincinnati &lt;mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cincinnati">owasp-cincinnati at lists.owasp.org</A>&gt;
</I>&gt;<i>     *Sent:* Wednesday, June 24, 2009 8:49 AM
</I>&gt;<i>     *Subject:* [Owasp-cincinnati] Attack Recovery
</I>&gt;<i>
</I>&gt;<i>     I have a customer that is being hit with over 3 millions requests
</I>&gt;<i>     a day and they have no customers yet :-) They are all attacks with
</I>&gt;<i>     the usual smattering of language and framework probe urls.
</I>&gt;<i>
</I>&gt;<i>     My initial response was to try to firewall block the requesting
</I>&gt;<i>     IPs but there are 21,000 unique source IPs driving the attack.
</I>&gt;<i>
</I>&gt;<i>     So,
</I>&gt;<i>
</I>&gt;<i>     1) Is it reasonable to block 21K IPs?
</I>&gt;<i>
</I>&gt;<i>     2) is there another solution that I should be looking for?
</I>&gt;<i>
</I>&gt;<i>     3) Is there a security consultant that we could hire to address
</I>&gt;<i>     this issue?
</I>&gt;<i>
</I>&gt;<i>     Ed Sumerfield
</I>&gt;<i>     Ed Sumerfield Consulting, LLC
</I>&gt;<i>     <A HREF="http://www.edsumerfieldconsulting.com">http://www.edsumerfieldconsulting.com</A>
</I>&gt;<i>     513-295-7016
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     ------------------------------------------------------------------------
</I>&gt;<i>     _______________________________________________
</I>&gt;<i>     Owasp-cincinnati mailing list
</I>&gt;<i>     <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cincinnati">Owasp-cincinnati at lists.owasp.org</A>
</I>&gt;<i>     <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cincinnati">https://lists.owasp.org/mailman/listinfo/owasp-cincinnati</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Owasp-cincinnati mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cincinnati">Owasp-cincinnati at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cincinnati">https://lists.owasp.org/mailman/listinfo/owasp-cincinnati</A>
</I>&gt;<i>
</I>
_______________________________________________
Owasp-cincinnati mailing list
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cincinnati">Owasp-cincinnati at lists.owasp.org</A>
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cincinnati">https://lists.owasp.org/mailman/listinfo/owasp-cincinnati</A>

______________________________________________________________________
This email has been scanned by the MessageLabs Email Security System.
For more information please visit <A HREF="http://www.messagelabs.com/email">http://www.messagelabs.com/email</A>
______________________________________________________________________
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000172.html">[Owasp-cincinnati] Attack Recovery
</A></li>
	<LI>Next message: <A HREF="000174.html">[Owasp-cincinnati] Session Destroy References
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#173">[ date ]</a>
              <a href="thread.html#173">[ thread ]</a>
              <a href="subject.html#173">[ subject ]</a>
              <a href="author.html#173">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-cincinnati">More information about the Owasp-cincinnati
mailing list</a><br>
</body></html>
