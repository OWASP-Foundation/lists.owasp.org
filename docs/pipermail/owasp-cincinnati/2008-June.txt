From marco.m.morana at gmail.com  Mon Jun  2 21:53:08 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Mon, 2 Jun 2008 21:53:08 -0400
Subject: [Owasp-cincinnati] CSRF Presentation on-line and meeting follow ups
Message-ID: <4844a403.26e0220a.1780.ffffc80f@mx.google.com>

Fellow OWASP Cincinnati meeting attendees

 

I have published the presentation herein:

https://www.owasp.org/images/b/b5/OWASP_CSRF_May_27_DRAFT.pdf

 

A link is also provided through the local chapter web page.

 

I also posted on the CSRF and XHR question on my blog herein:

http://securesoftware.blogspot.com/

 

Regarding the bug CSRF lesson (apparently) on webgoat I will provide follow
up (promise)

 

Please mark you calendar for Dr J Walden meeting on SQL Injection on June
24th

If you are interested on threat modeling I will publish an article with Tony
UcedaVelez on the June

edition of insecure magazine, so check it out on
http://www.net-security.org/insecure-archive.php

if you interested.

 

Also OWASP is open to company membership sponsorship and there are benefits
on doing so.

We are no-profit organization and everything we do get re-invested in
producing tools and documentation for

Increase web application security as a whole not just in the States but
internationally.

 

Thanks you.

 

Regards

 

Marco Morana

OWASP Cincinnati Chapter Leader

 <http://www.owasp.org/index.php/Cincinnati>
http://www.owasp.org/index.php/Cincinnati

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080602/27cb233d/attachment.html 

From marco.m.morana at gmail.com  Sat Jun  7 16:11:59 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Sat, 7 Jun 2008 16:11:59 -0400
Subject: [Owasp-cincinnati] RSVP For Next OWASP Meeting on June 24th
Message-ID: <484aeb8d.40e2220a.479e.ffff87c7@mx.google.com>

dear OWASP Cincinnati List Members

 

The next meeting will be held on June 24th at Citigroup. Dr James Walden of
NKU will present on SQL Injection Attacks, Vulnerabilities and
Countermeasures. The abstract of the presentation is herein included (*). 

 

Dr Walden is recognized expert in software security and has given talks and
workshops on secure programming and software security at a variety of
conferences. You do not want to miss this opportunity of a "free" lecture!

 

Please mark your calendar and RSVP with your preferred time for the meeting.

 

Thank you

 

Marco Morana

OWASP Cincinnati Chapter Leader

 <http://www.owasp.org/index.php/Cincinnati>
http://www.owasp.org/index.php/Cincinnati

NYC OWASP Conference is the OWASP USA Event!

http://www.owasp.org/index.php/OWASP_NYC_AppSec_2008_Conference

 

(*) Hackers use injection attacks to bypass firewalls and take control of
web applications so that they can grab sensitive data or use the site to
distribute malware to users. While the most common type of this attack is
SQL injection, injection attacks can target any interpreter used by the web
application, including ASP, LDAP, PHP, shells, SMTP, SOAP, and XPath. This
talk will demonstrate step by step how injection attacks work and show how
to eliminate injection vulnerabilities with secure programming techniques. 

 

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080607/84c47068/attachment.html 

From Alok_Sinhasan at CINFIN.com  Mon Jun  9 09:17:50 2008
From: Alok_Sinhasan at CINFIN.com (Sinhasan, Alok)
Date: Mon, 9 Jun 2008 09:17:50 -0400
Subject: [Owasp-cincinnati] I will attend with my colleague Don Pierce
In-Reply-To: <mailman.11.1212940806.4446.owasp-cincinnati@lists.owasp.org>
References: <mailman.11.1212940806.4446.owasp-cincinnati@lists.owasp.org>
Message-ID: <594CD456E9B52844B448AA77AD1D8E490444008B@exchq2.cinfin.com>



-----Original Message-----
From: owasp-cincinnati-bounces at lists.owasp.org
[mailto:owasp-cincinnati-bounces at lists.owasp.org] On Behalf Of
owasp-cincinnati-request at lists.owasp.org
Sent: Sunday, June 08, 2008 12:00 PM
To: owasp-cincinnati at lists.owasp.org
Subject: Owasp-cincinnati Digest, Vol 8, Issue 3

Send Owasp-cincinnati mailing list submissions to
	owasp-cincinnati at lists.owasp.org

To subscribe or unsubscribe via the World Wide Web, visit
	https://lists.owasp.org/mailman/listinfo/owasp-cincinnati
or, via email, send a message with subject or body 'help' to
	owasp-cincinnati-request at lists.owasp.org

You can reach the person managing the list at
	owasp-cincinnati-owner at lists.owasp.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Owasp-cincinnati digest..."


Today's Topics:

   1. RSVP For Next OWASP Meeting on June 24th (Marco M. Morana)


----------------------------------------------------------------------

Message: 1
Date: Sat, 7 Jun 2008 16:11:59 -0400
From: "Marco M. Morana" <marco.m.morana at gmail.com>
Subject: [Owasp-cincinnati] RSVP For Next OWASP Meeting on June 24th
To: <owasp-cincinnati at lists.owasp.org>
Message-ID: <484aeb8d.40e2220a.479e.ffff87c7 at mx.google.com>
Content-Type: text/plain; charset="us-ascii"

dear OWASP Cincinnati List Members

 

The next meeting will be held on June 24th at Citigroup. Dr James Walden
of
NKU will present on SQL Injection Attacks, Vulnerabilities and
Countermeasures. The abstract of the presentation is herein included
(*). 

 

Dr Walden is recognized expert in software security and has given talks
and
workshops on secure programming and software security at a variety of
conferences. You do not want to miss this opportunity of a "free"
lecture!

 

Please mark your calendar and RSVP with your preferred time for the
meeting.

 

Thank you

 

Marco Morana

OWASP Cincinnati Chapter Leader

 <http://www.owasp.org/index.php/Cincinnati>
http://www.owasp.org/index.php/Cincinnati

NYC OWASP Conference is the OWASP USA Event!

http://www.owasp.org/index.php/OWASP_NYC_AppSec_2008_Conference

 

(*) Hackers use injection attacks to bypass firewalls and take control
of
web applications so that they can grab sensitive data or use the site to
distribute malware to users. While the most common type of this attack
is
SQL injection, injection attacks can target any interpreter used by the
web
application, including ASP, LDAP, PHP, shells, SMTP, SOAP, and XPath.
This
talk will demonstrate step by step how injection attacks work and show
how
to eliminate injection vulnerabilities with secure programming
techniques. 

 

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL:
https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080607/
84c47068/attachment-0001.html 

------------------------------

_______________________________________________
Owasp-cincinnati mailing list
Owasp-cincinnati at lists.owasp.org
https://lists.owasp.org/mailman/listinfo/owasp-cincinnati


End of Owasp-cincinnati Digest, Vol 8, Issue 3
**********************************************

From scottnusbaum at yahoo.com  Thu Jun 12 21:52:44 2008
From: scottnusbaum at yahoo.com (Scott Nusbaum)
Date: Thu, 12 Jun 2008 18:52:44 -0700 (PDT)
Subject: [Owasp-cincinnati] CSRF lesson in WebGoat
In-Reply-To: <DA235E4D5FD3CE4C8B77382F0837274C1BBEF4@EXCHMAIL01.corp.medplus.com>
Message-ID: <513292.32340.qm@web38203.mail.mud.yahoo.com>

Yan,

I helped a co-worker with this issue today. In the source code the programmer used a executeQuery command to insert the data into the database. The executeQuery raises an exception if the given             SQL statement produces anything other than a single             ResultSet object. Since the SQL statement is an Insert it won't return a result set and will fail displaying the error message you noted. If you change the executeQuery to executeUpdate the lesson will work properly.

I hope this helps.

Scott

"Zhou, Yan" <yzhou at medplus.com> wrote:              Hi there, 
   
  I have been trying the CSRF lesson in Web Goat, I kept seeing this error message: * Could not add message to database
   
  After debugging WebGoat, it does not seem like that is the problem. Even if I copy the message right there from ?Hint?, I still do not get a checkmark. 
   
  Did I miss anything?
   
  Thanks, 
  Yan
  
  _______________________________________________
Owasp-cincinnati mailing list
Owasp-cincinnati at lists.owasp.org
https://lists.owasp.org/mailman/listinfo/owasp-cincinnati


       
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080612/e1312b01/attachment.html 

From marco.m.morana at gmail.com  Fri Jun 13 07:57:27 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Fri, 13 Jun 2008 07:57:27 -0400
Subject: [Owasp-cincinnati] CSRF lesson in WebGoat
In-Reply-To: <513292.32340.qm@web38203.mail.mud.yahoo.com>
Message-ID: <485260a8.40e2220a.42ab.6f9c@mx.google.com>

Thanks Scott

 

Marco

 

p.s. I think is advisable in this case to report this issue as a bug in
Webgoat

 

  _____  

From: owasp-cincinnati-bounces at lists.owasp.org
[mailto:owasp-cincinnati-bounces at lists.owasp.org] On Behalf Of Scott Nusbaum
Sent: Thursday, June 12, 2008 9:53 PM
To: Zhou, Yan; owasp-cincinnati at lists.owasp.org
Subject: Re: [Owasp-cincinnati] CSRF lesson in WebGoat

 

Yan,

I helped a co-worker with this issue today. In the source code the
programmer used a executeQuery command to insert the data into the database.
The executeQuery raises an exception if the given SQL statement produces
anything other than a single ResultSet object. Since the SQL statement is an
Insert it won't return a result set and will fail displaying the error
message you noted. If you change the executeQuery to executeUpdate the
lesson will work properly.

I hope this helps.

Scott

"Zhou, Yan" <yzhou at medplus.com> wrote:

Hi there, 

 

I have been trying the CSRF lesson in Web Goat, I kept seeing this error
message: * Could not add message to database

 

After debugging WebGoat, it does not seem like that is the problem. Even if
I copy the message right there from "Hint", I still do not get a checkmark. 

 

Did I miss anything?

 

Thanks, 

Yan

_______________________________________________
Owasp-cincinnati mailing list
Owasp-cincinnati at lists.owasp.org
https://lists.owasp.org/mailman/listinfo/owasp-cincinnati

 

  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080613/aca68e5f/attachment.html 

From jaime.castells at convergys.com  Fri Jun 13 17:39:19 2008
From: jaime.castells at convergys.com (jaime.castells at convergys.com)
Date: Fri, 13 Jun 2008 17:39:19 -0400
Subject: [Owasp-cincinnati] Jaime Castells/CCMG/CVG is out of the office.
Message-ID: <OFB11CCADA.C3084E7B-ON85257467.0076F4ED-85257467.0076F4E9@nd.convergys.com>





I will be out of the office starting  06/13/2008 and will not return until
06/23/2008.


For configuresoft issues, please contact Morris McKinney.  For other
matters, I will respond to your message when I return.  If you need prompt
service, please contact the infosec team email address in NOTES or my
supervisor, Von Williams.
--
"NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected."


From marco.m.morana at gmail.com  Sat Jun 14 11:37:15 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Sat, 14 Jun 2008 11:37:15 -0400
Subject: [Owasp-cincinnati] OWASP Cincinnati Chapter June 24th: RSVP Meeting
	Reminder
Message-ID: <4853e5ab.39e9220a.4757.3aaa@mx.google.com>

 

OWASP Cincinnati Chapter June Meeting 

------------------------

 

WHEN: June 24th 12:00-1.30pm

 

WHERE: Citibank <http://www.citibank.com/>  9997 Carver Road, Bldg. 1,
Cincinnati, Ohio, 45242-5537

 

WHAT: - SQL Injection - Dr. James Walden, Northern Kentucky University

 

 Full details/agenda @ https://www.owasp.org/index.php/Cincinnati

 

 ** REGISTER NOW** @
<http://fs11.formsite.com/OWASP-Cincy/form447466280/index.html>
http://fs11.formsite.com/OWASP-Cincy/form447466280/index.html

 

 

OWASP Member 

-------------------------

Are you pursing you CISSP? Do you want to get your co-workers certified?
ISC2 offering 15% OFF its educational training

 

Are you planning on attending BLACKHAT 2008?  Special Discounts apply with
the OWASP Code

 

For more information on OWASP Member Offers visit:
http://www.owasp.org/index.php/Member_Offers

 

 

OWASP Jobs

-------------------------

Are you seeking a change?  Are you looking for key employees?  Look at OWASP
Job Board @ http://www.owasp.org/careers/jobs.html

 

 

Other Local Events

---------------------------

Java
<http://www.google.com/calendar/event?eid=XzhkOWxjZ3JmZHByNmFzams2Y3NqZ3A5Z2
NjcGo4b3IzNmNxajhjOW42Y29qY2NwbDZrcDZjbzlpNmdzNjRlMWtjZ29nIHJkbzhjY3V1aW9ycD
hoMHFjMWZqdDl2cWowQGc>  Users Group - Mon Jun 16, 2008 6pm at MAXTraining 

.NET
<http://www.google.com/calendar/event?eid=XzhkOWxjZ3JmZHByNmFzamtja29qZWNyNT
ZzcTMwcDFtNzBwMzRvajQ2Y29qOGNiNmNjcmppcGI1Y2tzbTZkaGpjY3MwIHJkbzhjY3V1aW9ycD
hoMHFjMWZqdDl2cWowQGc>  Users Group - Tue Jun 17, 2008 6pm at MAXTraining -
Mason 

IIBA
<http://www.google.com/calendar/event?eid=XzhkOWxjZ3JmZHByNmFzams2Z3EzMmRyNW
NncTMwZTFtNjhyMzZjYjM2NHIzNmNwamM0czYyY2htY2NwNjRkcGljNWlnIHJkbzhjY3V1aW9ycD
hoMHFjMWZqdDl2cWowQGc>  - Tue Jun 17, 2008 6:30pm at Crown Plaza - Blue Ash 

Programmers
<http://www.google.com/calendar/event?eid=dDYxdWx1MGcwcm5taGQ2djJtbGFmNnFiNT
BfMjAwODA2MThUMjIzMDAwWiByZG84Y2N1dWlvcnA4aDBxYzFmanQ5dnFqMEBn>  Guild - Wed
Jun 18, 2008 6:30pm at MAX Training 

Oracle
<http://www.google.com/calendar/event?eid=ZjFsYjBic3I5MHJtNXJ0aDQzNWE2Ymd0ZG
MgcmRvOGNjdXVpb3JwOGgwcWMxZmp0OXZxajBAZw>  Applications User Group - Fri Jun
20, 2008 8:30am at TBD 

SQL
<http://www.google.com/calendar/event?eid=XzhkOWxjZ3JmZHByNmFzams2Z3IzOG85aD
YxaDY0Y2hvY2NxMzhjMzZjb3NqY2UzNTZkajNhcGI2NjloajJjaGxjNG8wIHJkbzhjY3V1aW9ycD
hoMHFjMWZqdDl2cWowQGc>  Server User Group - Tue Jun 24, 2008 6pm at
MAXTraining - Mason

Linux
<http://www.google.com/calendar/event?eid=XzhkOWxjZ3JmZHByNmFzams2OWdqYWM5Z2
NwZ2phZDFuNzRzNjhlMzY2a3NqZ2Q5a2NwajNlb3IzNjhvNmFvcjI2NG8wIHJkbzhjY3V1aW9ycD
hoMHFjMWZqdDl2cWowQGc>  Users Group - Sat Jun 28, 2008 10:30am at Pleasant
Ridge Library 

Agile
<http://www.google.com/calendar/event?eid=cmMwYnEwNmRlNGJwZGIxZjhnOWZ0NTlzM2
NfMjAwODA3MDFUMjIwMDAwWiByZG84Y2N1dWlvcnA4aDBxYzFmanQ5dnFqMEBn>  Round Table
- Tue Jul 1, 2008 6pm at Childrens Hospital

 

Consult http://cincinnatirecruiter.wordpress.com/ for more information

 

Regards

 

Marco Morana

OWASP Cincinnati Chapter Leader

 <http://www.owasp.org/index.php/Cincinnati>
http://www.owasp.org/index.php/Cincinnati

NYC OWASP Conference is the OWASP USA Event!

http://www.owasp.org/index.php/OWASP_NYC_AppSec_2008_Conference

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080614/5e6c10fa/attachment.html 

From yzhou at medplus.com  Thu Jun 19 10:14:33 2008
From: yzhou at medplus.com (Zhou, Yan)
Date: Thu, 19 Jun 2008 10:14:33 -0400
Subject: [Owasp-cincinnati] Demonstrate CSRF with Web app only accept POST
Message-ID: <DA235E4D5FD3CE4C8B77382F0837274C373DD8@EXCHMAIL01.corp.medplus.com>

Hi there, 

 

I want to demonstrate CSRF with a vulnerable Web application. 

 

Here is the idea, the user first login to the vulnerable web app (it
only accepts POST), and then the user will click on an "attack" web
page, which does an automatic form submit. That completes CSRF exercise.
However, once the form is submitted, the user will notice that because
the screen will have changed. 

 

How would you hide this so that user cannot see the result of form
submit.  I have tried page redirect but is not working as I expected.
The problem seems to be: once the form is submitted, I cannot rely on
any code after it being executed (simply because the server will now
respond with a different page) ....

 

Thanks, 

Yan

 











Confidentiality Notice: The information contained in this electronic transmission is confidential and may be legally privileged. It is intended only for the addressee(s) named above. If you are not an intended recipient, be aware that any disclosure, copying, distribution or use of the information contained in this transmission is prohibited and may be unlawful. If you have received this transmission in error, please notify us by telephone (513) 229-5500 or by email (postmaster at MedPlus.com). After replying, please erase it from your computer system.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080619/ec3cee9a/attachment.html 

From yzhou at medplus.com  Thu Jun 19 10:16:53 2008
From: yzhou at medplus.com (Zhou, Yan)
Date: Thu, 19 Jun 2008 10:16:53 -0400
Subject: [Owasp-cincinnati] Generate different session id for security
Message-ID: <DA235E4D5FD3CE4C8B77382F0837274C373DDE@EXCHMAIL01.corp.medplus.com>

Hi there, 

 

I read that a Web app needs to issue a different session id when user
enters protected page (e.g., from HTTP to HTTPS), or enters a more
privileged page. This all make sense for security. But I do not know
what is the best way to carry session data over to the new session?

 

User would not be happy if after he enters HTTPS page or a more
privileged page, all his data in previous session is lost. Is this an
issue or am I missing something?

 

Thanks,

Yan











Confidentiality Notice: The information contained in this electronic transmission is confidential and may be legally privileged. It is intended only for the addressee(s) named above. If you are not an intended recipient, be aware that any disclosure, copying, distribution or use of the information contained in this transmission is prohibited and may be unlawful. If you have received this transmission in error, please notify us by telephone (513) 229-5500 or by email (postmaster at MedPlus.com). After replying, please erase it from your computer system.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080619/37d87967/attachment.html 

From jcombs10 at cinci.rr.com  Thu Jun 19 10:30:57 2008
From: jcombs10 at cinci.rr.com (jcombs10 at cinci.rr.com)
Date: Thu, 19 Jun 2008 10:30:57 -0400
Subject: [Owasp-cincinnati] Generate different session id for security
Message-ID: <22939744.1161461213885857773.JavaMail.root@hrndva-web06-z02>

You are correct that carrying forward any session contents must be addressed.  The OWASP Enterprise Security API (ESAPI) provides a mechanism to do this.  See DefaultHttpUtilities.changeSessionIdentifier() in their reference implementation.

It's a pretty straightforward process: copy all the attribute references from the current session to a temporary store, invalidate the current session and start a new one, and copy all the attribute references from the temporary store to the new session.


Joe Combs
Staff Consultant
SEI-Cincinnati, LLC
A Systems Evolution, Inc. Company
5191 Natorp Drive, Suite 410
Mason, OH 45040
Phone 513.459.1992

---- "Zhou wrote: 
> Hi there, 
> 
>  
> 
> I read that a Web app needs to issue a different session id when user
> enters protected page (e.g., from HTTP to HTTPS), or enters a more
> privileged page. This all make sense for security. But I do not know
> what is the best way to carry session data over to the new session?
> 
>  
> 
> User would not be happy if after he enters HTTPS page or a more
> privileged page, all his data in previous session is lost. Is this an
> issue or am I missing something?
> 
>  
> 
> Thanks,
> 
> Yan
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> Confidentiality Notice: The information contained in this electronic transmission is confidential and may be legally privileged. It is intended only for the addressee(s) named above. If you are not an intended recipient, be aware that any disclosure, copying, distribution or use of the information contained in this transmission is prohibited and may be unlawful. If you have received this transmission in error, please notify us by telephone (513) 229-5500 or by email (postmaster at MedPlus.com). After replying, please erase it from your computer system.
> 
> 
>

From marco.m.morana at gmail.com  Fri Jun 20 12:31:53 2008
From: marco.m.morana at gmail.com (Marco Morana)
Date: Fri, 20 Jun 2008 12:31:53 -0400
Subject: [Owasp-cincinnati] OWASP 6/24
In-Reply-To: <AB75441401112747806E7AC8A7E87D7F215E5CD9@c092ex01.na.cintas.com>
References: <AB75441401112747806E7AC8A7E87D7F215E5CD9@c092ex01.na.cintas.com>
Message-ID: <2c70e33a0806200931u624022bblb9b45feb08697d07@mail.gmail.com>

Dave and List Members

It seems we reached full capacity for the free service.
Please send an RSVP by email  to me till this gets resolved.

Sorry for the in-convenience

Marco

On Fri, Jun 20, 2008 at 10:36 AM, Arcaro, Dave <ArcaroD at cintas.com> wrote:
> I'm planning to attend the meeting. I tried to use the RSVP form, but got an
> error stating the storage capacity had been exceeded.
>
>
>
> Dave Arcaro
>
> Software Engineer
>
> Cintas - IT Dept. - Direct Sales Team - Loc 92B
>
> ph: 513-701-1308 (x21308) fax:513-573-4940
>
>
>
> This e-mail transmission contains information that is intended to be
> confidential and privileged. If you receive this e-mail and you are not a
> named addressee you are hereby notified that you are not authorized to read,
> print, retain, copy or disseminate this communication without the consent of
> the sender and that doing so is prohibited and may be unlawful. Please reply
> to the message immediately by informing the sender that the message was
> misdirected. After replying, please delete and otherwise erase it and any
> attachments from your computer system. Your assistance in correcting this
> error is appreciated.
>

From jcombs10 at cinci.rr.com  Fri Jun 20 17:44:51 2008
From: jcombs10 at cinci.rr.com (Joe Combs)
Date: Fri, 20 Jun 2008 17:44:51 -0400
Subject: [Owasp-cincinnati] Demonstrate CSRF with Web app only accept
 POST
In-Reply-To: <DA235E4D5FD3CE4C8B77382F0837274C373DD8@EXCHMAIL01.corp.medplus.com>
References: <DA235E4D5FD3CE4C8B77382F0837274C373DD8@EXCHMAIL01.corp.medplus.com>
Message-ID: <485C24D3.1060406@cinci.rr.com>

If you borrow a technique from the ajax crowd and do your submit in 
javascript via XMLHttpRequest you should get the desired behavior in 
your demo. The app could then silently swallow the result returned by 
the form submission.

Joe

Zhou, Yan wrote:
>
> Hi there,
>
> I want to demonstrate CSRF with a vulnerable Web application.
>
> Here is the idea, the user first login to the vulnerable web app (it 
> only accepts POST), and then the user will click on an ?attack? web 
> page, which does an automatic form submit. That completes CSRF 
> exercise. However, once the form is submitted, the user will notice 
> that because the screen will have changed.
>
> How would you hide this so that user cannot see the result of form 
> submit. I have tried page redirect but is not working as I expected. 
> The problem seems to be: once the form is submitted, I cannot rely on 
> any code after it being executed (simply because the server will now 
> respond with a different page) ?.
>
> Thanks,
>
> Yan
>
>
>
>
> *Confidentiality Notice:* The information contained in this electronic 
> transmission is confidential and may be legally privileged. It is 
> intended only for the addressee(s) named above. If you are not an 
> intended recipient, be aware that any disclosure, copying, 
> distribution or use of the information contained in this transmission 
> is prohibited and may be unlawful. If you have received this 
> transmission in error, please notify us by telephone (513) 229-5500 or 
> by email (postmaster at MedPlus.com). After replying, please erase it 
> from your computer system.
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Owasp-cincinnati mailing list
> Owasp-cincinnati at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-cincinnati
>   

From marco.m.morana at gmail.com  Fri Jun 20 18:29:10 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Fri, 20 Jun 2008 18:29:10 -0400
Subject: [Owasp-cincinnati] Demonstrate CSRF with Web app only accept
	POST
In-Reply-To: <485C24D3.1060406@cinci.rr.com>
Message-ID: <485c2f36.02fd220a.541a.19df@mx.google.com>

Correct, since the request is forget in a 1x1 pixel image tag that causes no
visible error to the user.

Marco

-----Original Message-----
From: owasp-cincinnati-bounces at lists.owasp.org
[mailto:owasp-cincinnati-bounces at lists.owasp.org] On Behalf Of Joe Combs
Sent: Friday, June 20, 2008 5:45 PM
To: Zhou, Yan; owasp-cincinnati at lists.owasp.org
Subject: Re: [Owasp-cincinnati] Demonstrate CSRF with Web app only accept
POST

If you borrow a technique from the ajax crowd and do your submit in 
javascript via XMLHttpRequest you should get the desired behavior in 
your demo. The app could then silently swallow the result returned by 
the form submission.

Joe

Zhou, Yan wrote:
>
> Hi there,
>
> I want to demonstrate CSRF with a vulnerable Web application.
>
> Here is the idea, the user first login to the vulnerable web app (it 
> only accepts POST), and then the user will click on an "attack" web 
> page, which does an automatic form submit. That completes CSRF 
> exercise. However, once the form is submitted, the user will notice 
> that because the screen will have changed.
>
> How would you hide this so that user cannot see the result of form 
> submit. I have tried page redirect but is not working as I expected. 
> The problem seems to be: once the form is submitted, I cannot rely on 
> any code after it being executed (simply because the server will now 
> respond with a different page) ..
>
> Thanks,
>
> Yan
>
>
>
>
> *Confidentiality Notice:* The information contained in this electronic 
> transmission is confidential and may be legally privileged. It is 
> intended only for the addressee(s) named above. If you are not an 
> intended recipient, be aware that any disclosure, copying, 
> distribution or use of the information contained in this transmission 
> is prohibited and may be unlawful. If you have received this 
> transmission in error, please notify us by telephone (513) 229-5500 or 
> by email (postmaster at MedPlus.com). After replying, please erase it 
> from your computer system.
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Owasp-cincinnati mailing list
> Owasp-cincinnati at lists.owasp.org
> https://lists.owasp.org/mailman/listinfo/owasp-cincinnati
>   
_______________________________________________
Owasp-cincinnati mailing list
Owasp-cincinnati at lists.owasp.org
https://lists.owasp.org/mailman/listinfo/owasp-cincinnati


From marco.m.morana at gmail.com  Fri Jun 20 18:57:25 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Fri, 20 Jun 2008 18:57:25 -0400
Subject: [Owasp-cincinnati] FW: Demonstrate CSRF with Web app only accept
	POST
Message-ID: <485c35d5.30e1220a.2db6.ffffebe2@mx.google.com>

Yan

I think the threat scenario for CSRF that you should try to test is whether
you can have a form that executes a POST without the user knowing that
exploits a previously authenticated session token. Let say Form A issues a
POST and the session ID does not change, the same session can be used to
issue a post with a malicious form B (the pages need to be in the same
browser process, that is using the same IExplore.exe). The fact that the
user does not notice the error should be because you embed the POST in a 1X1
pixel image tag. The fact that the POST executes could be confirmed by
trapping the HTTP response via a web proxy like paros or webscarab like in
the webgoat lesson.

I have not tried this but I would recommend you try the CSRF lesson of
webgoat against a web a site that has a well know CSRF vulnerability such as
Foundstone hacme books for example, using the same testing technique.

I think you can also try again OWASP CSRFTester or this tool here
http://shiflett.org/blog/2007/jul/csrf-redirector from Chris Shiflett. Chris
can also be contacted at Chris at shiflett.org

Regards

Marco

-----Original Message-----
From: Zhou, Yan [mailto:yzhou at medplus.com] 
Sent: Friday, June 20, 2008 2:20 PM
To: Marco Morana
Subject: RE: [Owasp-cincinnati] Demonstrate CSRF with Web app only accept
POST

Marco, 

It does not work, 

Suppose page B does an automatic POST once loaded, and page A contains
<img> tag that links to page B. 

When you load page A in browser, the form is not submitted in page B. I
do not know HTTP well enough to say why that is the case, but I do not
believe the form will be submitted "indirectly" in this fashion. 

Any idea how I can do CSRF with a POST only Web. App, and without user
notice the before and after?

Thanks, 
Yan










Confidentiality Notice: The information contained in this electronic
transmission is confidential and may be legally privileged. It is intended
only for the addressee(s) named above. If you are not an intended recipient,
be aware that any disclosure, copying, distribution or use of the
information contained in this transmission is prohibited and may be
unlawful. If you have received this transmission in error, please notify us
by telephone (513) 229-5500 or by email (postmaster at MedPlus.com). After
replying, please erase it from your computer system.




From marco_morana at hotmail.com  Fri Jun 20 19:09:08 2008
From: marco_morana at hotmail.com (Marco Morana)
Date: Fri, 20 Jun 2008 23:09:08 +0000
Subject: [Owasp-cincinnati] FW:  OWASP 6/24
In-Reply-To: <2c70e33a0806200931u624022bblb9b45feb08697d07@mail.gmail.com>
References: <AB75441401112747806E7AC8A7E87D7F215E5CD9@c092ex01.na.cintas.com>
	<2c70e33a0806200931u624022bblb9b45feb08697d07@mail.gmail.com>
Message-ID: <BAY132-W4138A145929DA4D6792AEAFCA50@phx.gbl>


The RSVP form is ready for use again, sorry for the inconvenience.
 
Marco> Date: Fri, 20 Jun 2008 12:31:53 -0400> From: marco.m.morana at gmail.com> To: ArcaroD at cintas.com; owasp-cincinnati at lists.owasp.org> Subject: Re: [Owasp-cincinnati] OWASP 6/24> > Dave and List Members> > It seems we reached full capacity for the free service.> Please send an RSVP by email to me till this gets resolved.> > Sorry for the in-convenience> > Marco> > On Fri, Jun 20, 2008 at 10:36 AM, Arcaro, Dave <ArcaroD at cintas.com> wrote:> > I'm planning to attend the meeting. I tried to use the RSVP form, but got an> > error stating the storage capacity had been exceeded.> >> >> >> > Dave Arcaro> >> > Software Engineer> >> > Cintas - IT Dept. - Direct Sales Team - Loc 92B> >> > ph: 513-701-1308 (x21308) fax:513-573-4940> >> >> >> > This e-mail transmission contains information that is intended to be> > confidential and privileged. If you receive this e-mail and you are not a> > named addressee you are hereby notified that you are not authorized to read,> > print, retain, copy or disseminate this communication without the consent of> > the sender and that doing so is prohibited and may be unlawful. Please reply> > to the message immediately by informing the sender that the message was> > misdirected. After replying, please delete and otherwise erase it and any> > attachments from your computer system. Your assistance in correcting this> > error is appreciated.> >> _______________________________________________> Owasp-cincinnati mailing list> Owasp-cincinnati at lists.owasp.org> https://lists.owasp.org/mailman/listinfo/owasp-cincinnati
_________________________________________________________________
The other season of giving begins 6/24/08. Check out the i?m Talkathon.
http://www.imtalkathon.com?source=TXT_EML_WLH_SeasonOfGiving
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080620/c77dcfc0/attachment.html 

From marco.m.morana at gmail.com  Fri Jun 20 19:28:51 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Fri, 20 Jun 2008 19:28:51 -0400
Subject: [Owasp-cincinnati] OWASP Cincinnati Chapter June 24th: RSVP Meeting
	Reminder
Message-ID: <485c3d31.2df0220a.772e.6788@mx.google.com>

 

OWASP Cincinnati Chapter June Meeting 

------------------------

 

WHEN: June 24th 12:00-1.30pm

 

WHERE: Citibank <http://www.citibank.com/>  9997 Carver Road, Bldg. 1,
Cincinnati, Ohio, 45242-5537

 

WHAT: - SQL Injection - Dr. James Walden, Northern Kentucky University

 

 Full details/agenda @ https://www.owasp.org/index.php/Cincinnati

 

 ** REGISTER NOW** @
<http://fs11.formsite.com/OWASP-Cincy/form447466280/index.html>
http://fs11.formsite.com/OWASP-Cincy/form447466280/index.html

 

 

Regards

 

Marco Morana

OWASP Cincinnati Chapter Leader

 <http://www.owasp.org/index.php/Cincinnati>
http://www.owasp.org/index.php/Cincinnati

NYC OWASP Conference is the OWASP USA Event!

http://www.owasp.org/index.php/OWASP_NYC_AppSec_2008_Conference

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080620/2c0c5819/attachment-0001.html 

From marco.m.morana at gmail.com  Mon Jun 23 19:02:37 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Mon, 23 Jun 2008 19:02:37 -0400
Subject: [Owasp-cincinnati] Demonstrate CSRF with Web app only accept
	POST
In-Reply-To: <DA235E4D5FD3CE4C8B77382F0837274C374314@EXCHMAIL01.corp.medplus.com>
Message-ID: <48602b8f.43e2220a.6cae.ffffbb9b@mx.google.com>

Yan

You are correct in saying that whatever URL in SRC attribute results in a
GET a request. So the deal is, if the site allows to use a GET for a POST
you can take an embedded auto POST request put in an image tag and see
execute it as GET request. A site that uses POST is still vulnerable if does
not enforce POST only request. An attacker will use a proxy to change the
GET to a POST to verify that can be processed. If there is one it will craft
a malicious form with an embedded img with that request that will execute as
a GET.

The key is this to think like an attacker :)

Regards

Marco

http://www.cgisecurity.com/articles/csrf-faq.shtml#post



-----Original Message-----
From: Zhou, Yan [mailto:yzhou at medplus.com] 
Sent: Monday, June 23, 2008 11:15 AM
To: Marco M. Morana
Subject: RE: [Owasp-cincinnati] Demonstrate CSRF with Web app only accept
POST

Marco, 

Are you talking about embedding POST in IMG tag's SRC attribute?

I thought whatever URL in SRC attribute results in a GET request, not a
POST. 

Is the following close to what you suggested? 

<img src="<script>...do post here...</script>" width=1 height=1></img>


Thanks, 
Yan Zhou
-----Original Message-----
From: Marco M. Morana [mailto:marco.m.morana at gmail.com] 
Sent: Friday, June 20, 2008 6:57 PM
To: Zhou, Yan
Cc: owasp-cincinnati at lists.owasp.org
Subject: FW: [Owasp-cincinnati] Demonstrate CSRF with Web app only
accept POST

Yan

I think the threat scenario for CSRF that you should try to test is
whether
you can have a form that executes a POST without the user knowing that
exploits a previously authenticated session token. Let say Form A issues
a
POST and the session ID does not change, the same session can be used to
issue a post with a malicious form B (the pages need to be in the same
browser process, that is using the same IExplore.exe). The fact that the
user does not notice the error should be because you embed the POST in a
1X1
pixel image tag. The fact that the POST executes could be confirmed by
trapping the HTTP response via a web proxy like paros or webscarab like
in
the webgoat lesson.

I have not tried this but I would recommend you try the CSRF lesson of
webgoat against a web a site that has a well know CSRF vulnerability
such as
Foundstone hacme books for example, using the same testing technique.

I think you can also try again OWASP CSRFTester or this tool here
http://shiflett.org/blog/2007/jul/csrf-redirector from Chris Shiflett.
Chris
can also be contacted at Chris at shiflett.org

Regards

Marco

-----Original Message-----
From: Zhou, Yan [mailto:yzhou at medplus.com] 
Sent: Friday, June 20, 2008 2:20 PM
To: Marco Morana
Subject: RE: [Owasp-cincinnati] Demonstrate CSRF with Web app only
accept
POST

Marco, 

It does not work, 

Suppose page B does an automatic POST once loaded, and page A contains
<img> tag that links to page B. 

When you load page A in browser, the form is not submitted in page B. I
do not know HTTP well enough to say why that is the case, but I do not
believe the form will be submitted "indirectly" in this fashion. 

Any idea how I can do CSRF with a POST only Web. App, and without user
notice the before and after?

Thanks, 
Yan










Confidentiality Notice: The information contained in this electronic
transmission is confidential and may be legally privileged. It is
intended
only for the addressee(s) named above. If you are not an intended
recipient,
be aware that any disclosure, copying, distribution or use of the
information contained in this transmission is prohibited and may be
unlawful. If you have received this transmission in error, please notify
us
by telephone (513) 229-5500 or by email (postmaster at MedPlus.com). After
replying, please erase it from your computer system.













Confidentiality Notice: The information contained in this electronic
transmission is confidential and may be legally privileged. It is intended
only for the addressee(s) named above. If you are not an intended recipient,
be aware that any disclosure, copying, distribution or use of the
information contained in this transmission is prohibited and may be
unlawful. If you have received this transmission in error, please notify us
by telephone (513) 229-5500 or by email (postmaster at MedPlus.com). After
replying, please erase it from your computer system.




From marco.m.morana at gmail.com  Tue Jun 24 22:36:09 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Tue, 24 Jun 2008 22:36:09 -0400
Subject: [Owasp-cincinnati] FW: Fantastic job on your presentation today
Message-ID: <4861af17.30e4220a.2095.ffffc3d0@mx.google.com>

fyi

 

  _____  

From: Andy Erickson [mailto:aerickson at lucruminc.com] 
Sent: Tuesday, June 24, 2008 4:09 PM
To: James Walden
Cc: Marco Morana (p)
Subject: Fantastic job on your presentation today

 

James,

 

Frankly I expected a run-of-the-mill SQL injection talk.  You really took
this to the next level and provided great examples of the multiple kinds of
SQL injections and how to handle them.  Also, you shallow dive into other
injection topics and your specific XML example had me going for the whole
hour.  You never lost my attention.

 

Thanks for doing such a good job.

 

Andy

 

Andrew S. Erickson | Presales Software Engineer
Mobile/SMS: 513.225.1052 | 888.272.5797x260 |
MSM/Skype:aerickson at lucruminc.com |
<http://cincinnatirecruiter.wordpress.com/about/> CincinnatiRecruiter |
<http://www.linkedin.com/in/andyerickson> 

 <http://www.lucruminc.com/> L?CRUM | TheFutureValueOfBusiness.com
<http://thefuturevalueofbusiness.com/> 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080624/cb3f8e4e/attachment.html 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 1292 bytes
Desc: not available
Url : https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080624/cb3f8e4e/attachment.jpe 

From marco.m.morana at gmail.com  Tue Jun 24 22:45:25 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Tue, 24 Jun 2008 22:45:25 -0400
Subject: [Owasp-cincinnati] FW: [Owasp-dotnet] Fwd: FW: [WEB SECURITY]
	Announcing Scrawlr: SQLInjector and Crawler
Message-ID: <4861b143.3ff0220a.1150.ffffa9da@mx.google.com>

Scrawlr announcement - Microsoft / HP Collaborate on SQL Injection tool:

 

https://download.spidynamics.com/Products/scrawlr/

I haven't checked out the tool yet, if anyone has, please let the list know.

 

Regards,

 

Mark

 

> From: billy.hoffman at hp.com
> To: websecurity at webappsec.org
> Date: Tue, 24 Jun 2008 21:35:01 +0000
> Subject: [WEB SECURITY] Announcing Scrawlr: SQL Injector and Crawler
> 
> In response to all the Mass SQL Injection attacks this year, Microsoft
approached HP and the Web Security Research Group (formerly SPI Labs) for
assistance. While there was nothing they could patch, Microsoft wanted to
provide tools to help developers find and fix these issues. After a month of
development HP created Scrawlr.
> 
> Scrawlr (short for SQL Injector and Crawler) is a free tool that will
crawl a website while simultaneously analyzing the parameters of each
individual web page for SQL Injection vulnerabilities. Scrawlr was designed
specifically to help protect against these mass injection attack which are
using Google queries to find older web applications and automatically
injection them. As such, Scrawlr crawls a websites using the same techniques
as a search engine: it doesn't keep state, or submit forms, or execute
JavaScript or Flash. This Scrawl is finding and auditing the pages that
would have been indexed by the search engines.
> 
> To reduce false positives Scrawlr provides proof of the vulnerability
results by displaying the type of backend database in use and a list of
available table names. There is no denying you have SQL Injection when I can
show you table names!
> 
> Microsoft Announcement here:
http://www.microsoft.com/technet/security/advisory/954462.mspx
> HP WSRG Blog:
http://www.communities.hp.com/securitysoftware/blogs/spilabs/archive/2008/06
/23/finding-sql-injection-with-scrawlr.aspx
> Download here: https://download.spidynamics.com/Products/scrawlr/
> 
> Enjoy,
> Billy Hoffman
> --
> Manager, HP Web Security Research Group
> HP Software - Application Security Center
> Direct: 770-343-7069
> 
> 
>
----------------------------------------------------------------------------
> Join us on IRC: irc.freenode.net <http://irc.freenode.net/>  #webappsec
> 
> Have a question? Search The Web Security Mailing List Archives: 
> http://www.webappsec.org/lists/websecurity/archive/
> 
> Subscribe via RSS: 
> http://www.webappsec.org/rss/websecurity.rss [RSS Feed]
> 
> Join WASC on LinkedIn
> http://www.linkedin.com/e/gis/83336/4B20E4374DBA
> 

  _____  

Earn cashback on your purchases with Live Search - the search that pays you
back! Learn More
<http://search.live.com/cashback/?&pkw=form=MIJAAF/publ=HMTGL/crea=earncashb
ack> 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080624/054f9537/attachment.html 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: ATT00109.txt
Url: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080624/054f9537/attachment.txt 

