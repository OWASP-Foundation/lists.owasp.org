From marco.m.morana at gmail.com  Sat Aug  2 10:03:44 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Sat, 02 Aug 2008 14:03:44 -0000
Subject: [Owasp-cincinnati] [Owasp-webgoat] WebGoat 5.2,
	data layer access control fix
In-Reply-To: <DA235E4D5FD3CE4C8B77382F0837274C53C73D@EXCHMAIL01.corp.medplus.com>
Message-ID: <4894692a.1b3e400a.193f.52b3@mx.google.com>

Yan

I think you are right and you've got my point, if these client parameters
are checked at API (server) level before processing you are OK.  

On the other hand if you want to be conservative you can also enforce RBAC
at the SQL level. In security the concept of being redundant is referred as
security in depth (also multi layer security) and is applied as a way to
mitigate threats at different trust boundaries (e.g. client, server,
middle-tier components, backend)

Regards

Marco

p.s. I congratulate you as being you one of the most prolific and engaged
members of the list, to the next meeting, please come forward, I have some
OWASP goodies for you (pen, CD, pins )

-----Original Message-----
From: Zhou, Yan [mailto:yzhou at medplus.com] 
Sent: Friday, August 01, 2008 3:54 PM
To: Marco M. Morana
Subject: RE: [Owasp-webgoat] WebGoat 5.2, data layer access control fix

Thanks Marco. 

I see your point, it is certainly a good one. 

But with WebGoat, the user id is the authenticated user (not available
through URL parameter), and subjectUserId: is the employee the
authenticated user wants to change (passed in through parameter). 

One may change parameter to operate on a different employee, but the API
would ensure that a user only change employees that he is authorized,
too. 

I think that the API and the SQL following it both do the same thing,
either one would work, but having both is redundant.

Thanks, 
Yan Zhou

-----Original Message-----
From: Marco M. Morana [mailto:marco.m.morana at gmail.com] 
Sent: Monday, December 01, 2008 9:28 PM
To: Zhou, Yan
Subject: FW: [Owasp-webgoat] WebGoat 5.2, data layer access control fix

Yan

Please find herein my comments to your email, sorry being late.

1). The solution from WebGoat suggests the following for fixing data
layer access control.  However, I thought that only one of them is
sufficient,  either the function call or the SQL access would do the
job, not both. Am I missing
something?
[Morana, Marco M] as I look at the code you have a check for
authorization controls on the code that processes the query. Here you
pass parameters to the API:" isAuthorizedForEmployee". The potential
problem could be on how these parameters are passed to the function. If
these are under control of a user via the client it can be potentially
be changed to elevate the privileges. The typical example could be of
such parameters being URL parameters and captured from the client via a
web proxy and changed. I put the emphasis on potentially because really
depends on how these parameters are passed to the API.
So here you need to make sure that validation of these parameters is
performed on the server side outside the API call

More specifically you ask if you also need a control on the SQL access.
You can certainly restrict on the DB access to the tables depending on
the userIDs. Typically this is good for security because adds another
layer of control. The problem is often times not feasible for
administration pursposes, setting RBAC for each user accessing a table
is a huge administration burden. Typically it can be done by setting
permissions to store procedures for a limited set of accounts (e.g.
fuctional IDs) so there is a limited set of changes required by the DBA.
 

                  if (isAuthorizedForEmployee(s, userId, subjectUserId))

                  {     ...

                        //String query = "SELECT * FROM employee WHERE
userid = " + subjectUserId;

                        String query = "SELECT * FROM employee,ownership
WHERE employee.userid = ownership.employee_id and "
+"ownership.employer_id = " + userId + " and ownership.employee_id = " +
subjectUserId;      // STAGE 4 - FIX
[Morana, Marco M] The problem of this concatenated query is also SQL
injection!

                        ...

                  }     

                  else

                  {

                        throw new UnauthorizedException();

                  }

 

2) How can I get SQL access to the data model, I was not able to find
any instructions on browsing through the database tables directly. 
[Morana, Marco M] Good question, not sure the DB schema is available I
would direct the question to Webgoat mailing list.

 

Thanks, 

[Morana, Marco M] 
Regards, Marco

 











Confidentiality Notice: The information contained in this electronic
transmission is confidential and may be legally privileged. It is
intended
only for the addressee(s) named above. If you are not an intended
recipient,
be aware that any disclosure, copying, distribution or use of the
information contained in this transmission is prohibited and may be
unlawful. If you have received this transmission in error, please notify
us
by telephone (513) 229-5500 or by email (postmaster at MedPlus.com). After
replying, please erase it from your computer system.



_______________________________________________
Owasp-webgoat mailing list
Owasp-webgoat at lists.owasp.org
https://lists.owasp.org/mailman/listinfo/owasp-webgoat











Confidentiality Notice: The information contained in this electronic
transmission is confidential and may be legally privileged. It is intended
only for the addressee(s) named above. If you are not an intended recipient,
be aware that any disclosure, copying, distribution or use of the
information contained in this transmission is prohibited and may be
unlawful. If you have received this transmission in error, please notify us
by telephone (513) 229-5500 or by email (postmaster at MedPlus.com). After
replying, please erase it from your computer system.




From marco.m.morana at gmail.com  Fri Aug  8 00:19:03 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Fri, 08 Aug 2008 04:19:03 -0000
Subject: [Owasp-cincinnati] Last Meeting Presentation and Announcement of
	August Meeting
Message-ID: <489bc928.1c17400a.687d.ffffb059@mx.google.com>

List

 

The presentation for the last meeting: Building Security Into Applications
is on line and can be found at:
https://www.owasp.org/index.php/Image:Build_Security_Into_Applications_Short
.pdf

 

The next meeting is scheduled for August 26th, the topic is The OWASP
Enterprise Security API (ESAPI) by Joe Combs, Staff Consultant,
SEI-Cincinnati LLC

 

An abstract of the presentation and the bio of Joe can be found on the
chapter web page http://www.owasp.org/index.php/Cincinnati

 

Please plan to attend and RSVP by emailing me.

 

Thanks

 

Marco Morana

OWASP Cincinnati Chapter Leader

 <http://www.owasp.org/index.php/Cincinnati>
http://www.owasp.org/index.php/Cincinnati

NYC OWASP Conference is the OWASP USA Event!

http://www.owasp.org/index.php/OWASP_NYC_AppSec_2008_Conference

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080808/82fac5c2/attachment.html 

From cindyw.cindy at gmail.com  Mon Aug 11 08:15:49 2008
From: cindyw.cindy at gmail.com (Cindy Woods)
Date: Mon, 11 Aug 2008 08:15:49 -0400
Subject: [Owasp-cincinnati] 6th Annual Louisville Metro InfoSec Conference &
	Application Security Course
Message-ID: <f97e73da0808110515r762093eu896b6fc77fc4bc29@mail.gmail.com>

Hello  OWASP folks -

I am the Secretary for the Ky Chapter of ISSA.  We are hosting our *6th
annual InfoSec conference* on Oct 9th, with a *2-day pre-conference Web
Application Security course, Oct 7th-8th, *presented by Intrepidus Group and
our keynote speaker - Rohyt Belani.  This is a local opportunity for CPE
credits, and an excellent educational opportunity for IT and Compliance
professionals.

I've attached a flyer for both the InfoSec and the App Security Course.
Register for the course, and attend the InfoSec Conference for Free!!

What a great way to earn CPE credits and interact with some of the region's
top IT professionals, as well as taking advantage of this unparelleled
educational opportunity.  As an added bonus, anyone who registers during the
month of August will be automatically registered for a $100 Visa Gift Card.
We will notify the winner via email.

Registration is Now Open:
www.RegOnline.com/register2008<http://www.regonline.com/register2008>

More details at:  www.LouisvilleInfoSec.com<http://www.louisvilleinfosec.com/>

Don't delay - Register Now.

 Thanks,
Cindy Woods
Kentuckiana ISSA Secretary & 2008 InfoSec Chairperson
About ISSA:  ISSA is the largest not-for-profit association for security
professionals with more than 13,000 members in 95 chapters around the world.
The association is focused on providing leadership and vision as the global
voice of information security. Its general membership encompasses a wide
range of security professionals, from technical security practitioners to
top executives, across the entire spectrum of industry and government
organizations. For more information on ISSA, visit www.issa.org.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080811/492fc69a/attachment-0001.html 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2008 Flyer InfoSec.pdf
Type: application/pdf
Size: 155011 bytes
Desc: not available
Url : https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080811/492fc69a/attachment-0002.pdf 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ApplicationSecurityTrainingOverview.pdf
Type: application/pdf
Size: 113349 bytes
Desc: not available
Url : https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080811/492fc69a/attachment-0003.pdf 

From james.walden at gmail.com  Tue Aug 19 10:20:32 2008
From: james.walden at gmail.com (James Walden)
Date: Tue, 19 Aug 2008 10:20:32 -0400
Subject: [Owasp-cincinnati] IMI Security Symposium on October 3
Message-ID: <21c655860808190720q58e68f51t984a54cd4a766c26@mail.gmail.com>

The College of Informatics at Northern Kentucky University invites you to
the 2008 IMI Security Symposium & Expo on October 3, 2008, at the NKU METS
Center in Erlanger, KY.

Join the IMI and IT professionals this October to focus on IT security
challenges, best practices, and professional discussions.  In light of
National Cyber Security Month, the IMI and supporting sponsors bring you
four IT security tracks: Infrastructure Protection, Application Software
Security, Information Security Governance & Compliance, and Public Sector/
Healthcare InfoSec Issues.

The 2008 IMI Security Symposium & Expo will feature keynote speaker, Dave
Marcus, Director of Security Research and Communications for McAfee(R) Avert(R)
Labs. Mr. Marcus drives thought leadership for McAfee and has
responsibilities for all publications from Avert Labs, including "The McAfee
Security Journal."

Complete event information available at http://imi.nku.edu/security

WHEN:  Friday, October 3, 2008, from 8:00 a.m. to 4:15 p.m. with a reception
to follow.

WHERE:  NKU METS Center in Erlanger, KY

FEES:  Fee & Registration Information
<http://imi.nku.edu/security/registration_new.aspx>

Registration Deadline:  September 26, 2008
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080819/df08c6f4/attachment.html 

From marco.m.morana at gmail.com  Tue Aug 19 11:16:40 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Tue, 19 Aug 2008 15:16:40 -0000
Subject: [Owasp-cincinnati] OWASP Cincinnati Chapter August 26th: RSVP
	Meeting Reminder
Message-ID: <48aae3d4.c505be0a.34e2.272e@mx.google.com>

OWASP Cincinnati Chapter August Meeting 

------------------------

 

WHEN: August 26th 12:00-1.30pm

 

WHERE: Citibank <http://www.citibank.com/>  9997 Carver Road, Bldg. 1,
Cincinnati, Ohio, 45242-5537

 

WHAT: - The OWASP Enterprise Security API (ESAPI) - Joe Combs,
SEI-Cincinnati LLC

 

 Full details/agenda @ https://www.owasp.org/index.php/Cincinnati

 

 ** REGISTER  By Sunday August 23rd ** by email to
<mailto:marco.m.morana at gmail.com> marco.m.morana at gmail.com

 

Regards

 

Marco Morana

OWASP Cincinnati Chapter Leader

http://www.owasp.org/index.php/Cincinnati

NYC OWASP Conference is the OWASP USA Event!

http://www.owasp.org/index.php/OWASP_NYC_AppSec_2008_Conference

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080819/af9cca61/attachment.html 

From marco.m.morana at gmail.com  Wed Aug 20 09:33:08 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Wed, 20 Aug 2008 13:33:08 -0000
Subject: [Owasp-cincinnati] OWASP Newsletter #17 and References in the Media
Message-ID: <48ac1d07.e203be0a.084c.ffffa859@mx.google.com>

The 17th edition of the OWASP Newsletter can be found here:

http://www.owasp.org/index.php/OWASP_Newsletter_17

 

The OWASP references in the media include the article on Software Security
Enhanced Processes:

http://www.owasp.org/index.php/OWASP_Newsletter_17#OWASP_references_in_the_M
edia

 

Regards

 

Marco Morana

OWASP Cincinnati Chapter Leader

 <http://www.owasp.org/index.php/Cincinnati>
http://www.owasp.org/index.php/Cincinnati

NYC OWASP Conference is the OWASP USA Event!

http://www.owasp.org/index.php/OWASP_NYC_AppSec_2008_Conference

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080820/3af2245a/attachment.html 

From marco.m.morana at gmail.com  Wed Aug 27 21:40:32 2008
From: marco.m.morana at gmail.com (Marco M. Morana)
Date: Wed, 27 Aug 2008 21:40:32 -0400
Subject: [Owasp-cincinnati] Last OWASP Meeting Presentation,
	My comments and Call for Participation
Message-ID: <48b6020f.101d640a.16c8.48c3@mx.google.com>

OWASP Cincy enthusiasts

 

First of all thanks for the participant to the latest meeting.  ESAPI
presentation is available on the chapter site

https://www.owasp.org/images/4/44/OWASP_Cincy_ESAPI.pdf

 

I personally enjoyed Joe Combs presentation on ESAPI and the examples.
Thanks Joe!.  More in depth liking is herein (*)

 

Moving forward, the next meeting topic has been changed from CAPTCHA to
encoding attack vectors: threats and countermeasures. 

There have been some presentations at DEFCON on CAPTCHA that really defeat
the purpose to present them again at the local chapter.

If you are still interested on CAPTCHA I can provide you the references and
even copies of the Defcon or Blackhat conference CDs to the next meeting.

 

Another topic I would like to stress local involvement. I am actually happy
on what we have accomplished with the chapter so far as level of
participation.

Moving forward I suggest to do not miss opportunity to spread the voice of
OWASP with your work colleague and associates. 

If you need me to give a talk about OWASP to your company, provide you CDs
etc please just ask or just invite them to subscribe the list and look at
the projects and resources that OWASP has to offer.

 

If you are interested on a career in application security, OWASP is a great
organization to be part of and attending to the local OWASP meeting a great
way to learn.

 

Please feel free to use this email to communicate on how we can improve
OWASP Cincy chapter participation moving forward.

 

Again thanks for your participation and interest. 

 

Cheers

 

Marco

 

 

(*)

One think I really like of the ESAPI is that is not try to re-invent the
wheel pretending to rewrite security APIs such as JCE, Structs, bouncycastle
etc but rather implement an abstraction on top of these libraries making
sure developer implement it properly.

 

ESAPI provides security controls to address basic vulnerabilities like the
OWASP T10. Like Joe said, is not a silver bullet. Some features can be
better addressed by ESAPI some others you can probably just implement them
in the framework of choice. 

 

Some features that I thought were pretty cool where the double encoding
filtering for input validation and the hashing of URL parameters besides
CSRF mitigation. Double encoding addressed threats for the next new wave of
input validation attack vectors. In the old days it was enough to filter
<script>Alert("XSS')</script>  for mitigate XSS. Now the serve you already
UTF-7 encoded XSS to bypass blacklisting.  In the future is going to be
encoded <iframes> in white paces, double and triple encoded attack vectors.

 

The other feature that I liked was indirected object references to deter
from parameter tampering attacks and CSRF using the hashing and server
validation of the URL parameters. URL parameters can be tampered with to
bypass authorization controls and business logic.  A roleID=1 (user) changed
on client side as roleID= 2 (admin) and suddenly allows for elevation of
privileges.

 

 

 

 

 

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://lists.owasp.org/pipermail/owasp-cincinnati/attachments/20080827/da3c9067/attachment.html 

From tiffany003 at fuse.net  Fri Aug 29 13:27:06 2008
From: tiffany003 at fuse.net (tiffany003 at fuse.net)
Date: Fri, 29 Aug 2008 13:27:06 -0400
Subject: [Owasp-cincinnati] Email Address addition
Message-ID: <20831279.1220030826995.JavaMail.root@wmvirt44>

Would you please add my work email address to the mailing list?  It is tiffany.braun at soanb.com

Thank you,

Tiffany Braun

