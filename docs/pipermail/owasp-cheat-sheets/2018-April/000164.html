<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OWASP-cheat-sheets] Clickjacking Defense CS: legacy vs CSP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-cheat-sheets%40lists.owasp.org?Subject=Re%3A%20%5BOWASP-cheat-sheets%5D%20Clickjacking%20Defense%20CS%3A%20legacy%20vs%20CSP&In-Reply-To=%3CCANos97fmfyX-Ut1hejqNuG4-zTqxByzdzMRhZ7dCJekAxWUmgw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000163.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OWASP-cheat-sheets] Clickjacking Defense CS: legacy vs CSP</H1>
    <B>Dominique Righetto</B> 
    <A HREF="mailto:owasp-cheat-sheets%40lists.owasp.org?Subject=Re%3A%20%5BOWASP-cheat-sheets%5D%20Clickjacking%20Defense%20CS%3A%20legacy%20vs%20CSP&In-Reply-To=%3CCANos97fmfyX-Ut1hejqNuG4-zTqxByzdzMRhZ7dCJekAxWUmgw%40mail.gmail.com%3E"
       TITLE="[OWASP-cheat-sheets] Clickjacking Defense CS: legacy vs CSP">dominique.righetto at owasp.org
       </A><BR>
    <I>Fri Apr 13 04:41:17 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="000163.html">[OWASP-cheat-sheets] Clickjacking Defense CS: legacy vs CSP
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#164">[ date ]</a>
              <a href="thread.html#164">[ thread ]</a>
              <a href="subject.html#164">[ subject ]</a>
              <a href="author.html#164">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

For older browsers (only IE11 is supported about security updates so it's
recommanded to upgrade), one idea is to mimic the behavior of the SRI using
client JS hashing code but honnestly it's acceptable to request a &quot;recent&quot;
browser like IE&gt;= 11 or recent version of FF,Chrome,Safari in order to
benefits from SRI, X-Frame-Optiosn or full CSP moreover in the context of
using feature like OAuth.

Dom

--
Cordialement, Best regards,
Dominique Righetto
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">dominique.righetto at gmail.com</A>
&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">dominique.righetto at gmail.com</A>&gt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">dominique.righetto at owasp.org</A>
&lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">dominique.righetto at gmail.com</A>&gt;
<A HREF="https://righettod.eu">https://righettod.eu</A>
GPG: 323D19BA

On Thu, Apr 12, 2018 at 11:13 PM, Alex Efros &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">powerman at powerman.name</A>&gt; wrote:

&gt;<i> Hi!
</I>&gt;<i>
</I>&gt;<i> Looks like recommended clickjacking protection for legacy browsers[1]
</I>&gt;<i> require switching off much more powerful protection against XSS:
</I>&gt;<i>
</I>&gt;<i>     Content-Security-Policy: default-src 'unsafe-inline';
</I>&gt;<i>
</I>&gt;<i> I'm developing OAuth server and really need best clickjacking protection,
</I>&gt;<i> but I'm afraid this trade-off is too disadvantageous.
</I>&gt;<i>
</I>&gt;<i> Maybe it's possible to somehow move recommended CSS and JS snippets to
</I>&gt;<i> separate files? I'm not really sure, but I suppose they are recommended to
</I>&gt;<i> keep in &lt;head&gt; for a reason, because with external files there is always a
</I>&gt;<i> chance they won't be (timely, at least) loaded for some reason.
</I>&gt;<i>
</I>&gt;<i> Another option is to keep CSS/JS inline, but use 'nonce-*' or 'sha256-*'
</I>&gt;<i> instead of 'unsafe-inline' - but as these features of CSP2 I'm not sure is
</I>&gt;<i> this combination will works in all cases (legacy browser without CSP,
</I>&gt;<i> usual browser with CSP1, modern browser with CSP2).
</I>&gt;<i>
</I>&gt;<i> So, how to get best clickjacking protection without relaxing CSP too much?
</I>&gt;<i>
</I>&gt;<i> [1]: <A HREF="https://www.owasp.org/index.php/Clickjacking_Defense">https://www.owasp.org/index.php/Clickjacking_Defense</A>_
</I>&gt;<i> Cheat_Sheet#Best-for-now_Legacy_Browser_Frame_Breaking_Script
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>                         WBR, Alex.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OWASP-cheat-sheets mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">OWASP-cheat-sheets at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-cheat-sheets/attachments/20180413/8b698541/attachment.html">http://lists.owasp.org/pipermail/owasp-cheat-sheets/attachments/20180413/8b698541/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000163.html">[OWASP-cheat-sheets] Clickjacking Defense CS: legacy vs CSP
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#164">[ date ]</a>
              <a href="thread.html#164">[ thread ]</a>
              <a href="subject.html#164">[ subject ]</a>
              <a href="author.html#164">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">More information about the OWASP-cheat-sheets
mailing list</a><br>
</body></html>
