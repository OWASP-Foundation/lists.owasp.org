<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-cheat-sheets] Query Parameterization Cheat Sheet / Java	Hibernate
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-cheat-sheets%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-cheat-sheets%5D%20Query%20Parameterization%20Cheat%20Sheet%20/%20Java%0A%09Hibernate&In-Reply-To=%3CCA%2BM5M1c2QKnwF9ZT3DWjR3nqjdaAG-Ls2MVd9%2BERpdYS9M4EUg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000006.html">
   <LINK REL="Next"  HREF="000008.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-cheat-sheets] Query Parameterization Cheat Sheet / Java	Hibernate</H1>
    <B>Torsten Gigler</B> 
    <A HREF="mailto:owasp-cheat-sheets%40lists.owasp.org?Subject=Re%3A%20%5BOwasp-cheat-sheets%5D%20Query%20Parameterization%20Cheat%20Sheet%20/%20Java%0A%09Hibernate&In-Reply-To=%3CCA%2BM5M1c2QKnwF9ZT3DWjR3nqjdaAG-Ls2MVd9%2BERpdYS9M4EUg%40mail.gmail.com%3E"
       TITLE="[Owasp-cheat-sheets] Query Parameterization Cheat Sheet / Java	Hibernate">torsten.gigler at owasp.org
       </A><BR>
    <I>Mon Jan 27 17:40:56 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000006.html">[Owasp-cheat-sheets] Query Parameterization Cheat Sheet / Java	Hibernate
</A></li>
        <LI>Next message: <A HREF="000008.html">[Owasp-cheat-sheets] Query Parameterization Cheat Sheet / Java	Hibernate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7">[ date ]</a>
              <a href="thread.html#7">[ thread ]</a>
              <a href="subject.html#7">[ subject ]</a>
              <a href="author.html#7">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jim,

Thank you for your fast answers.
We liked to add an example using a Hibernate Criteria Query.
This is to use more features of Hibernate, to get more independent from the
Database.
Additionally we should be automatically protected from SQL injection,
assuming that in this case Hibernate builds the underlying query like
parameterized Queries.

Is this OK? What do you think about it?

Kind Regards

Torsten



2014-01-25 Jim Manico &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">jim.manico at owasp.org</A>&gt;

&gt;<i> It looks like you are loading one Inventory object for one productId. I
</I>&gt;<i> would normally do something like this so I would not need any kind of
</I>&gt;<i> parameterization&#8230;.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> String userSuppliedParameter = request.getParameter(&quot;id&quot;);
</I>&gt;<i>
</I>&gt;<i> Long userSuppliedLong = new Long(userSuppliedParameter); //need to check
</I>&gt;<i> for errors here
</I>&gt;<i>
</I>&gt;<i> *Inventory inv = (Inventory) = session.load(Inventory.class,
</I>&gt;<i> userSuppliedLong);*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *From:* Torsten Gigler [mailto:<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">torsten.gigler at owasp.org</A>]
</I>&gt;<i> *Sent:* Friday, January 24, 2014 2:56 AM
</I>&gt;<i> *To:* <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">owasp-cheat-sheets at lists.owasp.org</A>; Jim Manico
</I>&gt;<i> *Cc:* <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">owasp_top_10_fuer_entwickler at lists.owasp.org</A>
</I>&gt;<i> *Subject:* Query Parameterization Cheat Sheet / Java Hibernate
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi Jim, hi Community,
</I>&gt;<i>
</I>&gt;<i> we have a suggestion in our Project 'OWASP Top 10 fuer Entwickler' (Top 10
</I>&gt;<i> Developer Edition in German) for a different example for* 'Java
</I>&gt;<i> Hibernate'*:
</I>&gt;<i>
</I>&gt;<i> String userSuppliedParameter = request.getParameter(&quot;id&quot;); // This should
</I>&gt;<i> REALLY be validated too
</I>&gt;<i> // perform input validation to detect attacks
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *Inventory inv = (Inventory)
</I>&gt;<i> session.createCriteria(Inventory.class).add(Restrictions.eq(&quot;productID&quot;,
</I>&gt;<i>       userSuppliedParameter)).uniqueResult();*
</I>&gt;<i>
</I>&gt;<i> (see:
</I>&gt;<i> <A HREF="https://www.owasp.org/index.php/Germany/Projekte/Top_10_fuer_Entwickler/A1_Injection">https://www.owasp.org/index.php/Germany/Projekte/Top_10_fuer_Entwickler/A1_Injection</A>
</I>&gt;<i> )
</I>&gt;<i>
</I>&gt;<i> Acually we provide both examples, preferring the new one.
</I>&gt;<i>
</I>&gt;<i> Do you have any comments about the new example?
</I>&gt;<i>
</I>&gt;<i> Thanks.Kind regards
</I>&gt;<i>
</I>&gt;<i> Torsten
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-cheat-sheets/attachments/20140127/c15e095c/attachment.html">http://lists.owasp.org/pipermail/owasp-cheat-sheets/attachments/20140127/c15e095c/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000006.html">[Owasp-cheat-sheets] Query Parameterization Cheat Sheet / Java	Hibernate
</A></li>
	<LI>Next message: <A HREF="000008.html">[Owasp-cheat-sheets] Query Parameterization Cheat Sheet / Java	Hibernate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7">[ date ]</a>
              <a href="thread.html#7">[ thread ]</a>
              <a href="subject.html#7">[ subject ]</a>
              <a href="author.html#7">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">More information about the Owasp-cheat-sheets
mailing list</a><br>
</body></html>
