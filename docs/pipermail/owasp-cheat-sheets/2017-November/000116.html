<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OWASP-cheat-sheets] REST and STS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-cheat-sheets%40lists.owasp.org?Subject=Re%3A%20%5BOWASP-cheat-sheets%5D%20REST%20and%20STS&In-Reply-To=%3CCADFnxGdW-76tEYanDQ8gv2x%3DczOorraHRhHNWR4-k9m5YFy2hA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000113.html">
   <LINK REL="Next"  HREF="000117.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OWASP-cheat-sheets] REST and STS</H1>
    <B>Johan Peeters</B> 
    <A HREF="mailto:owasp-cheat-sheets%40lists.owasp.org?Subject=Re%3A%20%5BOWASP-cheat-sheets%5D%20REST%20and%20STS&In-Reply-To=%3CCADFnxGdW-76tEYanDQ8gv2x%3DczOorraHRhHNWR4-k9m5YFy2hA%40mail.gmail.com%3E"
       TITLE="[OWASP-cheat-sheets] REST and STS">yo at johanpeeters.com
       </A><BR>
    <I>Thu Nov 16 08:00:05 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="000113.html">[OWASP-cheat-sheets] REST and STS
</A></li>
        <LI>Next message: <A HREF="000117.html">[OWASP-cheat-sheets] REST and STS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#116">[ date ]</a>
              <a href="thread.html#116">[ thread ]</a>
              <a href="subject.html#116">[ subject ]</a>
              <a href="author.html#116">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Great diagrams! I think they would clarify, although it would be a break
with tradition - as far as I'm aware, no diagrams have been used in cheat
sheets thus far. Are there any practical constraints adding them to the
cheat sheet?

Category 3 is not only more scaleable in the sense that it allows for
horizontal scaling of resource servers, AKA web services, but also that it
becomes easy to add more, distinct, services.

An access token should identify which resource it is giving access to and
the scope of this access. Whether, and how, an access token can give access
to *several* resources, e.g. in the event of call chaining, is an
interesting debate that I do not expect to be settled any time soon.

On 16 November 2017 at 00:58, Jan Wolff &lt;<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">jan.wolff at owasp.org</A>&gt; wrote:

&gt;<i> It appears to me that question how access control can be done securely for
</I>&gt;<i> REST Web services depends more on the fashion how those services are used
</I>&gt;<i> than whether they are truly REST-ful. In my opinion, we should not assume
</I>&gt;<i> that our audience shares our understanding of what REST implies. Instead,
</I>&gt;<i> we should point our readers to good advice depending on their use of
</I>&gt;<i> services.
</I>&gt;<i>
</I>&gt;<i> Let us differentiate between architectures that need different handling of
</I>&gt;<i> access control. If you want to edit/fix/propose, the following figures can
</I>&gt;<i> be accessed here:
</I>&gt;<i> <A HREF="https://docs.google.com/presentation/d/1snVoMadFdbTiyiRypV8tX29zYrIpP">https://docs.google.com/presentation/d/1snVoMadFdbTiyiRypV8tX29zYrIpP</A>
</I>&gt;<i> alDfMgljACaPgM/edit?usp=sharing
</I>&gt;<i>
</I>&gt;<i> I mostly observed category 1 or category 2 in the wild. Category 3 seems
</I>&gt;<i> to be an emerging design for better horizontal scaling without shared
</I>&gt;<i> session state. Please correct me or add alternatives if you see it
</I>&gt;<i> differently.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> For category 1, secure session management applies as for web applications
</I>&gt;<i> and we should point there.
</I>&gt;<i> For category 2, there might be a session based on user authentication
</I>&gt;<i> (passwords or even client-certificates). This could be a service backend
</I>&gt;<i> for an app. Scaling brings the danger of replicated data stores with
</I>&gt;<i> credentials. I would discourage users to scale this above one credential
</I>&gt;<i> database.
</I>&gt;<i> Category 3: I am not the expert for this, but I would expect scalability
</I>&gt;<i> to be superior because services are truly independent from each other.
</I>&gt;<i> Tokens must not be used as proof of identity. Tokens might be abused/leaked
</I>&gt;<i> by service 1 and used on service 2.
</I>&gt;<i>
</I>&gt;<i> What do you think, would sketches like that help users of the cheat sheet
</I>&gt;<i> understand which parts are relevant to them?
</I>&gt;<i>
</I>&gt;<i> Jan
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Am 14.11.2017 um 10:56 schrieb Johan Peeters:
</I>&gt;<i>
</I>&gt;<i> No sooner did Jim move the REST cheat sheet from draft to approved
</I>&gt;<i> mode than old controversies reared up again. The principal one was
</I>&gt;<i> whether we should cover session management, but I won't go into that
</I>&gt;<i> in this post.
</I>&gt;<i>
</I>&gt;<i> Here I want to discuss what the deal is with Security Token Services (STS).
</I>&gt;<i> Erlend asked me: can't you have a REST service without an STS? Sure,
</I>&gt;<i> if no authN/Z is needed, obviously. If the REST API is sensitive,
</I>&gt;<i> serves multiple clients and there are several resource servers, on the
</I>&gt;<i> other hand, then I would strongly recommend using an STS. This
</I>&gt;<i> centralises authentication logic in a dedicated component and avoids
</I>&gt;<i> passing credentials around.
</I>&gt;<i> If you do not have and do not anticipate having multiple clients or
</I>&gt;<i> resource servers, maybe REST APIs are not the right choice - probably
</I>&gt;<i> there are simpler designs that serve your purpose.
</I>&gt;<i>
</I>&gt;<i> Yo
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OWASP-cheat-sheets mailing list
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">OWASP-cheat-sheets at lists.owasp.org</A>
</I>&gt;<i> <A HREF="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Johan Peeters
<A HREF="https://www.johanpeeters.com">https://www.johanpeeters.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-cheat-sheets/attachments/20171116/46cd1e71/attachment-0001.html">http://lists.owasp.org/pipermail/owasp-cheat-sheets/attachments/20171116/46cd1e71/attachment-0001.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dlmdecbbpadekdaa.png
Type: image/png
Size: 51623 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-cheat-sheets/attachments/20171116/46cd1e71/attachment-0003.png">http://lists.owasp.org/pipermail/owasp-cheat-sheets/attachments/20171116/46cd1e71/attachment-0003.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: afiifojlhfcfpana.png
Type: image/png
Size: 42653 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-cheat-sheets/attachments/20171116/46cd1e71/attachment-0004.png">http://lists.owasp.org/pipermail/owasp-cheat-sheets/attachments/20171116/46cd1e71/attachment-0004.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: baifpaacipamlkmd.png
Type: image/png
Size: 40056 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.owasp.org/pipermail/owasp-cheat-sheets/attachments/20171116/46cd1e71/attachment-0005.png">http://lists.owasp.org/pipermail/owasp-cheat-sheets/attachments/20171116/46cd1e71/attachment-0005.png</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000113.html">[OWASP-cheat-sheets] REST and STS
</A></li>
	<LI>Next message: <A HREF="000117.html">[OWASP-cheat-sheets] REST and STS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#116">[ date ]</a>
              <a href="thread.html#116">[ thread ]</a>
              <a href="subject.html#116">[ subject ]</a>
              <a href="author.html#116">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-cheat-sheets">More information about the OWASP-cheat-sheets
mailing list</a><br>
</body></html>
