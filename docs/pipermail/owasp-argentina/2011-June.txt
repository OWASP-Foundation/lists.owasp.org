From nahuel en bonsai-sec.com  Fri Jun 24 12:16:13 2011
From: nahuel en bonsai-sec.com (Nahuel Grisolia)
Date: Fri, 24 Jun 2011 13:16:13 -0300
Subject: [Owasp-argentina] ASHX, ASMX or What?
Message-ID: <4E04B84D.8010001@bonsai-sec.com>

List,

Imagine that you're in front of an """"insecure"""" file upload in the
context of an IIS6,7 (no ;.jpg :P) and the regex filtering the file is like:

[anything].asp[anything] (yeah, my.aspirator.jpg is filtered hehe)

No .aspx, no .asp and no .aspx;jpg even if the server is vulnerable...

So... is there any way to bypass this control? Like uploading a
malicious Webservice (can we simply upload a Webservice file? I think
they need to be precomplied first) or something like that?

Thanks a lot!

regards,
-- 
Nahuel Grisolia - C|EH
Information Security Consultant
Bonsai Information Security Project Leader
http://www.bonsai-sec.com/
(+54-11) 4777-3107

From nahuel en bonsai-sec.com  Fri Jun 24 12:47:28 2011
From: nahuel en bonsai-sec.com (Nahuel Grisolia)
Date: Fri, 24 Jun 2011 13:47:28 -0300
Subject: [Owasp-argentina] [Full-disclosure] ASHX, ASMX or What?
In-Reply-To: <BANLkTi=b_wXqdCh4cKopcjrtes=iknasWg@mail.gmail.com>
References: <4E04B84D.8010001@bonsai-sec.com>
	<BANLkTi=b_wXqdCh4cKopcjrtes=iknasWg@mail.gmail.com>
Message-ID: <4E04BFA0.30401@bonsai-sec.com>

Chris,

On 06/24/2011 01:37 PM, Christian Sciberras wrote:
> You shouldn't filter against known files, but do the reverse, you should
> filter against known good files.
> 
> Oh and the medium you decide to throw this data should have special checks
> against execution etc...
> 

Yeap! I know that, "yes to white lists" and "avoid the use of black
lists", and other stuff related to a secure file up-loader, but the
filter I'm trying to bypass is like the one I described.

anyway, thanks for your quick response!

regards,
-- 
Nahuel Grisolia - C|EH
Information Security Consultant
Bonsai Information Security Project Leader
http://www.bonsai-sec.com/
(+54-11) 4777-3107

From ulisesgr en gmail.com  Sat Jun 25 11:16:18 2011
From: ulisesgr en gmail.com (Ulises Retamal)
Date: Sat, 25 Jun 2011 12:16:18 -0300
Subject: [Owasp-argentina] ASHX, ASMX or What?
In-Reply-To: <4E04B84D.8010001@bonsai-sec.com>
References: <4E04B84D.8010001@bonsai-sec.com>
Message-ID: <4E05FBC2.1000707@gmail.com>

Hi Nahuel,

I think you can try by creating and compiling a web service with VS.Net
for example, and uploading just the ASMX file to a known URL in the
context of the vulnerable web application. Never tried it before, but in
my opinion it should work.

After you have uploaded the ASMX file you can invoke its methods using
this format:
http://servername/projectname/xmlwebservicename.asmx/methodname?parametername0=value0&parametername1=value1&...&parameternamen=valuen

By the way, you can find some reference on creating ASP.Net web services
here:
http://oreilly.com/catalog/prognetws/chapter/ch02.html

Let me know if it works :)

Regards,

Ulises


> List,
>
> Imagine that you're in front of an """"insecure"""" file upload in the
> context of an IIS6,7 (no ;.jpg :P) and the regex filtering the file is like:
>
> [anything].asp[anything] (yeah, my.aspirator.jpg is filtered hehe)
>
> No .aspx, no .asp and no .aspx;jpg even if the server is vulnerable...
>
> So... is there any way to bypass this control? Like uploading a
> malicious Webservice (can we simply upload a Webservice file? I think
> they need to be precomplied first) or something like that?
>
> Thanks a lot!
>
> regards,


From nahuel en bonsai-sec.com  Sat Jun 25 14:07:01 2011
From: nahuel en bonsai-sec.com (Nahuel Grisolia)
Date: Sat, 25 Jun 2011 15:07:01 -0300
Subject: [Owasp-argentina] ASHX, ASMX or What?
In-Reply-To: <4E05FBC2.1000707@gmail.com>
References: <4E04B84D.8010001@bonsai-sec.com> <4E05FBC2.1000707@gmail.com>
Message-ID: <4E0623C5.7000807@bonsai-sec.com>

On 06/25/2011 12:16 PM, Ulises Retamal wrote:
> Hi Nahuel,
> 
> I think you can try by creating and compiling a web service with VS.Net
> for example, and uploading just the ASMX file to a known URL in the
> context of the vulnerable web application. Never tried it before, but in
> my opinion it should work.
> 
> After you have uploaded the ASMX file you can invoke its methods using
> this format:
> http://servername/projectname/xmlwebservicename.asmx/methodname?parametername0=value0&parametername1=value1&...&parameternamen=valuen
> 
> By the way, you can find some reference on creating ASP.Net web services
> here:
> http://oreilly.com/catalog/prognetws/chapter/ch02.html
> 
> Let me know if it works :)
> 

Thanks Ulises, will try :)

regards,
-- 
Nahuel Grisolia - C|EH
Information Security Consultant
Bonsai Information Security Project Leader
http://www.bonsai-sec.com/
(+54-11) 4777-3107

From johnccr en yahoo.com  Sun Jun 26 23:51:27 2011
From: johnccr en yahoo.com (Juan C Calderon)
Date: Sun, 26 Jun 2011 20:51:27 -0700 (PDT)
Subject: [Owasp-argentina] =?iso-8859-1?q?Nuevo_l=EDder_para_iniciativa_OW?=
	=?iso-8859-1?q?ASP-Spanish?=
Message-ID: <858860.43514.qm@web161427.mail.bf1.yahoo.com>

Hola a todos


El proyecto ha estado muy tranquilo por ya varios meses y creo que es porque no hay buen liderazgo de mi parte ultimamente, por lo que propongo que alguien mas tome la batuta y continue con nuestra misión de compartir el conocimiento entre las comunidades Hispano hablantes y aquellas que hablan Inglés.

Copio a las listas de distribución de los capítulos hispano hablantes por si dentro de ellos está algun interesado.

Las únicas actividades pendientes son:
1. Publicación de Open SAMM, el cual está completado desde Noviembre de 2009, pero Pravir Chandra indica que no ha tenido el tiempo de publicarlo y tampoco nos comparte el fuente del documento para publicarlo por nuestra parte.
2. La traducción del ASVS, de la cual faltan las paginas 18-33 por traducir, la edición y publicación.

Es estado del proyecto es el siguiente:

- La guia de traducción al español es mas completa en OWASP
- Existe un dominio es.owasp.org, aunque OWASP no quiere que sea el dominio principal sino que simplemente redirija al dominio principal www.owasp.org por motivos de marca
- Todos los proyectos de documentacion principales han sido traducidos (a excepción de la guia de revisión de código y el ASVS)

Los documentos ya traducidos son:
	* Top 10 2007 y 2010 
	* OWASP Developers Guide 2 
	* OWASP Testing Guide 
	* Legal project 
	* FAQ 
- Las paginas principales de el sitio de OWASP fueron traducidas a el español (el único lenguage adicional al que estpa traducido el sitio), aunque ya hace 2 años, por lo que hace falta la actualización de tales páginas. Mas detalles en la página del proyecto: https://www.owasp.org/index.php/OWASP_Spanish 

- Ningun proyecto de desarrollo ha sido internacionalizado o traducido al Español


Como ven, hay mucho hecho y al mismo tiempo mucho por hacer, si alguien desea tomar el reto de llevar este proyecto al próximo nivel, dejenmelo saber, dependiendo de las propuestas hablaré con Paulo para hacer el cambio formal.


Ánimo y saludos a todos,
Juan Carlos Calderon

