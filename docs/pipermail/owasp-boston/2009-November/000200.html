<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-boston] Checking file types on upload
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-boston%40lists.owasp.org?Subject=%5BOwasp-boston%5D%20Checking%20file%20types%20on%20upload&In-Reply-To=4AFC2AFD.3010406%40cox.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000198.html">
   <LINK REL="Next"  HREF="000202.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-boston] Checking file types on upload</H1>
    <B>Chris Clark</B> 
    <A HREF="mailto:owasp-boston%40lists.owasp.org?Subject=%5BOwasp-boston%5D%20Checking%20file%20types%20on%20upload&In-Reply-To=4AFC2AFD.3010406%40cox.net"
       TITLE="[Owasp-boston] Checking file types on upload">cclark at isecpartners.com
       </A><BR>
    <I>Thu Nov 12 10:53:07 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000198.html">[Owasp-boston] Checking file types on upload
</A></li>
        <LI>Next message: <A HREF="000202.html">[Owasp-boston] OWASP tomorrow mtg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#200">[ date ]</a>
              <a href="thread.html#200">[ thread ]</a>
              <a href="subject.html#200">[ subject ]</a>
              <a href="author.html#200">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> For instance, a program that only reads GIF and JPG would render correctly (return code 0) and then we would export to the &quot;intermediate&quot; format necessary for conversion into a fax later in the process.&gt; 
</I>
This is a good approach. Running uploaded images through an image processing step that removes EXIF data, resizes the image, or converts between formats will generally stop most malicious image attacks. Unfortunately, this process may affect image quality and the image processing tools could be vulnerable to buffer overflows and other code execution vulnerabilities.

We recommend running the image cleansing process on a dedicated machine or as a low-privilege service account. Additionally, as the original poster mentioned, disable PHP execution in the upload directory.

Chris


Chris Clark
Principal Security Consultant
iSEC Partners, Inc. - NYC 
<A HREF="https://lists.owasp.org/mailman/listinfo/owasp-boston">cclark at isecpartners.com</A>  - 206-963-2513
4FC4 B854 C4FE A6D5 3CFF 
1DFF FA31 71BB BFBD 33C0



</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000198.html">[Owasp-boston] Checking file types on upload
</A></li>
	<LI>Next message: <A HREF="000202.html">[Owasp-boston] OWASP tomorrow mtg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#200">[ date ]</a>
              <a href="thread.html#200">[ thread ]</a>
              <a href="subject.html#200">[ subject ]</a>
              <a href="author.html#200">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-boston">More information about the Owasp-boston
mailing list</a><br>
</body></html>
