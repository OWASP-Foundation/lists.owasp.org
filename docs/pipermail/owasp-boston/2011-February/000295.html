<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Owasp-boston] Extend html5 &#8220;Access-Control-Allow-Origin&#8221; ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:owasp-boston%40lists.owasp.org?Subject=%5BOwasp-boston%5D%20%3D%3Fwindows-1252%3Fq%3FExtend_html5_%3D93Access-Control-Al%3F%3D%0A%09%3D%3Fwindows-1252%3Fq%3Flow-Origin%3D94_%3D3F%3F%3D&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000294.html">
   <LINK REL="Next"  HREF="000296.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Owasp-boston] Extend html5 &#8220;Access-Control-Allow-Origin&#8221; ?</H1>
    <B>Brad Edmondson</B> 
    <A HREF="mailto:owasp-boston%40lists.owasp.org?Subject=%5BOwasp-boston%5D%20%3D%3Fwindows-1252%3Fq%3FExtend_html5_%3D93Access-Control-Al%3F%3D%0A%09%3D%3Fwindows-1252%3Fq%3Flow-Origin%3D94_%3D3F%3F%3D&In-Reply-To="
       TITLE="[Owasp-boston] Extend html5 &#8220;Access-Control-Allow-Origin&#8221; ?">brad.edmondson at gmail.com
       </A><BR>
    <I>Tue Feb 22 15:29:58 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000294.html">[Owasp-boston] OWASP Boston Meeting Wed. Feb 9, tomorrow
</A></li>
        <LI>Next message: <A HREF="000296.html">[Owasp-boston] Extend html5 &#8220;Access-Control-Allow-Origin&#8221; ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#295">[ date ]</a>
              <a href="thread.html#295">[ thread ]</a>
              <a href="subject.html#295">[ subject ]</a>
              <a href="author.html#295">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all-
Since attending OWASP Boston in November, I have been wondering if we
are missing an opportunity to try and define an access-control header
that can do more to combat xss.


Specifically, access-control-allow-origin seems limited in scope
primarily to xmlhttprequest, or at most to a DOM object (though if I
am reading this spec incorrectly, call me out  :-). It also seems to
be focused on incoming xsrf, and to leave outgoing xss alone. Perhaps
another header, with two modifications, might make it much easier to
contain outbound xss. It could:

1) allow a page to provide a whitelist of authorized URIs which the
page's DOM may request (the whole DOM, not just a particular object).

For example, &quot;access-control-authorized-request-uri&quot; could define an
'origin list' of URIs that the page might possibly request. Any
request the DOM makes outside this origin list would be considered
malicious and would be dropped by the browser. This would allow
secure.banksite.com to make a promise to the browser that its pages
will never, ever request anything from anywhere other than
secure.banksite.com, www.banksite.com, and banksite.affiliate.cdn.com

2) extend the origin controls granted to xmlhttprequest via
&quot;access-control-allow-origin&quot;, and to flash via &quot;allow-access-from,&quot;
and to other individual object types, UP one level to the entire page

3) allow browsers to report requests outside of this whitelist back to
the originating server

This is half in jest, but half serious: a browser could automatically
issue another http request indicating the problem URIs whenever a page
tells it to make a request outside its whitelist. This would allow
site administrators to detect xss, or (more often?) misconfigured URI
whitelists.

4) be optional; like Access-Control-Allow-Origin, would be optional
and would default to allow-all

5) not apply to traditional hyperlinks, unless the DOM contrives to
execute them - HTTP referer links would be left alone


What does everyone think? I am relatively new to OWASP and to web app
sec, but I haven't been able to think myself out of the belief that we
need something like this. It seems somewhat analogous to memory
randomization for compiled code, in that it doesn't combat the root
cause of insecure code, but it can offer a relatively low-cost control
to which applications could opt-in. And in that many applications seem
to be hurting without it.

All comment and thoughts are welcome.

Best,
Brad
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000294.html">[Owasp-boston] OWASP Boston Meeting Wed. Feb 9, tomorrow
</A></li>
	<LI>Next message: <A HREF="000296.html">[Owasp-boston] Extend html5 &#8220;Access-Control-Allow-Origin&#8221; ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#295">[ date ]</a>
              <a href="thread.html#295">[ thread ]</a>
              <a href="subject.html#295">[ subject ]</a>
              <a href="author.html#295">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.owasp.org/mailman/listinfo/owasp-boston">More information about the Owasp-boston
mailing list</a><br>
</body></html>
